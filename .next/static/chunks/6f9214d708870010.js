(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94899,78087,e=>{"use strict";var t=e.i(96243),r=e.i(47163);function o({children:e,className:o,view:i="grid"}){let a="pinboard"===i?"grid":i;return"list"===a?(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col gap-4",o),children:e}):"collage"===a?(0,t.jsx)("div",{className:(0,r.cn)("columns-1 gap-4 sm:columns-2 lg:columns-3 xl:columns-4",o),children:e}):(0,t.jsx)("div",{className:(0,r.cn)("grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",o),children:e})}e.s(["CardGrid",()=>o],94899);var i=e.i(93221),a=e.i(15349),n=e.i(10965);let s=(0,n.default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),l=(0,n.default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var d=e.i(28231),c=e.i(70065),u=e.i(67881),p=e.i(62275);function g({thumbnailUrl:e,title:o,description:n,tags:g=[],pinned:m=!1,onClick:h,onFavorite:f,actionsRight:b,variant:y="grid"}){let[x,v]=(0,i.useState)(!1),k="list"===y,w="collage"===y;return(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.2},onHoverStart:()=>v(!0),onHoverEnd:()=>v(!1),className:(0,r.cn)(k&&"w-full"),children:(0,t.jsxs)(c.Card,{className:(0,r.cn)("rounded-[var(--radius-card)] cursor-pointer transition-all duration-200","hover:shadow-lg hover:shadow-[var(--klutr-coral)]/10 dark:hover:shadow-[var(--klutr-coral)]/20","border-[var(--klutr-outline)]/20 hover:border-[var(--klutr-coral)]/30",h&&"hover:bg-accent/50",k&&"flex flex-row gap-4",w&&"h-full"),onClick:h,children:[e&&(0,t.jsx)("div",{className:(0,r.cn)("overflow-hidden bg-muted",k?"w-32 h-24 rounded-lg flex-shrink-0":"aspect-video rounded-t-[var(--radius-card)]",w&&"aspect-video"),children:(0,t.jsx)("img",{src:e,alt:o,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),(0,t.jsxs)("div",{className:(0,r.cn)("flex-1",k&&"flex flex-col justify-between"),children:[(0,t.jsxs)(c.CardHeader,{className:(0,r.cn)("pb-3",k&&"pb-2 pt-4"),children:[(0,t.jsx)("h3",{className:(0,r.cn)("font-semibold leading-tight text-[var(--klutr-text-primary-light)] dark:text-[var(--klutr-text-primary-dark)]",k?"text-base":"text-lg",w&&"text-xl"),children:o}),n&&(0,t.jsx)("p",{className:(0,r.cn)("text-muted-foreground",k?"text-sm line-clamp-1":"text-sm line-clamp-2",w&&"line-clamp-3"),children:n})]}),g.length>0&&(0,t.jsx)(c.CardContent,{className:(0,r.cn)("pt-0 pb-3",k&&"pb-2"),children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:[g.slice(0,k?2:w?4:3).map((e,r)=>(0,t.jsx)(p.TagChip,{label:e.label,colorClassName:e.colorClassName},r)),g.length>(k?2:w?4:3)&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground px-1.5 py-0.5",children:["+",g.length-(k?2:w?4:3)]})]})}),(0,t.jsxs)(c.CardFooter,{className:(0,r.cn)("pt-0 flex items-center justify-between",k&&"pb-4"),children:[(0,t.jsx)("div",{className:"flex items-center gap-1",children:g.length>0&&!k&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[g.length," tag",1!==g.length?"s":""]})}),(0,t.jsx)("div",{className:(0,r.cn)("flex items-center gap-1",x&&"opacity-100",!x&&!k&&"opacity-0 transition-opacity"),children:b||(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.TooltipProvider,{children:(0,t.jsxs)(d.Tooltip,{children:[(0,t.jsx)(d.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(u.Button,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),f?.()},"aria-label":m?"Remove from favorites":"Add to favorites",className:(0,r.cn)("h-8 w-8 p-0",m&&"text-[var(--klutr-coral)] hover:text-[var(--klutr-coral)]/80"),"data-onboarding":"pin-button",children:(0,t.jsx)(s,{className:(0,r.cn)("h-4 w-4 transition-all",m?"fill-[var(--klutr-coral)] text-[var(--klutr-coral)]":"text-muted-foreground dark:text-foreground/70")})})}),(0,t.jsx)(d.TooltipContent,{children:(0,t.jsx)("p",{className:"max-w-xs",children:m?"Unpin this item to remove it from favorites":"Pin this item to mark it as a favorite"})})]})}),(0,t.jsx)(u.Button,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),h?.()},"aria-label":"Open item",className:"h-8 w-8 p-0",children:(0,t.jsx)(l,{className:"h-4 w-4 text-muted-foreground dark:text-foreground/70"})})]})})]})]})]})})}e.s(["ItemCard",()=>g],78087)},62275,e=>{"use strict";var t=e.i(96243),r=e.i(94179),o=e.i(28231),i=e.i(47163);function a({label:e,colorClassName:a}){let n,s=a||(["bbq","cooking","grill","smoker"].includes(n=e.toLowerCase())?"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/50 dark:text-red-200 dark:border-red-700":["task","todo","action"].includes(n)?"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/50 dark:text-blue-200 dark:border-blue-700":["idea","content","audio","podcast"].includes(n)?"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/50 dark:text-purple-200 dark:border-purple-700":["gear","wishlist","upgrade","equipment"].includes(n)?"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/50 dark:text-orange-200 dark:border-orange-700":["contact","people","logistics"].includes(n)?"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/50 dark:text-green-200 dark:border-green-700":["work","client","professional"].includes(n)?"bg-indigo-100 text-indigo-800 border-indigo-200 dark:bg-indigo-900/50 dark:text-indigo-200 dark:border-indigo-700":["research","planning","timeline"].includes(n)?"bg-cyan-100 text-cyan-800 border-cyan-200 dark:bg-cyan-900/50 dark:text-cyan-200 dark:border-cyan-700":"bg-accent/50 text-accent-foreground border-accent");return(0,t.jsx)(o.TooltipProvider,{children:(0,t.jsxs)(o.Tooltip,{children:[(0,t.jsx)(o.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(r.Badge,{variant:"outline",className:(0,i.cn)("rounded-[var(--radius-chip)] text-xs font-medium lowercase border cursor-help",s),children:e})}),(0,t.jsx)(o.TooltipContent,{children:(0,t.jsx)("p",{className:"max-w-xs",children:"Tags help organize notes and create connections between related ideas. Tags are added automatically based on note content."})})]})})}e.s(["TagChip",()=>a])},70065,e=>{"use strict";var t=e.i(96243),r=e.i(47163);function o({className:e,...o}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border border-border/50 py-6 shadow-sm hover:shadow-md transition-shadow",e),...o})}function i({className:e,...o}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...o})}function a({className:e,...o}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...o})}function n({className:e,...o}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...o})}function s({className:e,...o}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...o})}function l({className:e,...o}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...o})}e.s(["Card",()=>o,"CardContent",()=>s,"CardDescription",()=>n,"CardFooter",()=>l,"CardHeader",()=>i,"CardTitle",()=>a])},95751,e=>{"use strict";let t=(0,e.i(10965).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],95751)},95696,90864,e=>{"use strict";var t=e.i(96243);function r({title:e,description:r,actions:o}){return(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:e}),r&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:r})]}),o&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:o})]})}e.s(["PageHeader",()=>r],95696);let o=(0,e.i(10965).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>o],90864)},84675,e=>{"use strict";let t=(0,e.i(10965).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],84675)},30592,e=>{"use strict";e.s(["mockClusters",0,[{id:"c1",title:"Outdoor cooking",description:"All notes about grilling, smokers, gear, and prep timing.",tags:[{label:"bbq"},{label:"tools"},{label:"prep"}],pinned:!1},{id:"c2",title:"People to follow up with",description:"Reminders to ping Alex, Maya, and Jordan.",tags:[{label:"contact"},{label:"follow-up"}],pinned:!1},{id:"c3",title:"Content ideas",description:"Podcast episodes, gear reviews, and listener segments.",tags:[{label:"content"},{label:"audio"}],pinned:!1},{id:"c4",title:"Equipment wishlist",description:"Tools and gear to upgrade the outdoor cooking setup.",tags:[{label:"gear"},{label:"upgrade"}],pinned:!1}],"mockInsights",0,[{id:"i1",title:"You planned a full event",description:"Your recent notes focus on cooking for guests, scheduling prep, and making sure everyone has what they need.",tags:[{label:"social"},{label:"planning"}]},{id:"i2",title:"Gear research mode",description:"You're actively researching equipment upgrades and comparing options for outdoor cooking.",tags:[{label:"research"},{label:"gear"}]}],"mockMemory",0,[{id:"m1",period:"Week of Oct 20",summary:"You captured prep steps, supplies, and who's attending. You're in logistics mode.",tags:[{label:"timeline"},{label:"people"}]},{id:"m2",period:"Week of Oct 13",summary:"Focus on gear research and podcast content planning. Heavy equipment research.",tags:[{label:"research"},{label:"content"}]},{id:"m3",period:"Week of Oct 6",summary:"Initial BBQ planning and guest outreach. Setting up the event framework.",tags:[{label:"planning"},{label:"outreach"}]}],"mockNotes",0,[{id:"n1",title:"Grill setup for Saturday",description:"Need charcoal, foil pans, veggie skewers. Check propane.",tags:[{label:"task"},{label:"bbq"}],pinned:!0},{id:"n2",title:"Ask Alex about smoker techniques",description:"He mentioned a low-and-slow method for ribs.",tags:[{label:"idea"}]},{id:"n3",title:"Send guest list final",description:"Confirm with Maya and Jordan. 12 adults / 4 kids.",tags:[{label:"contact"},{label:"logistics"}]},{id:"n4",title:"Podcast episode ideas",description:"Interview with BBQ pitmaster, gear review segment, listener Q&A.",tags:[{label:"content"},{label:"audio"}]},{id:"n5",title:"Wireless meat thermometer",description:"Track temp without opening the grill lid. Check reviews.",tags:[{label:"gear"},{label:"wishlist"}],pinned:!0}],"mockStackItems",0,{bbq:[{id:"bbq1",title:"Smoked rib technique",description:"3-2-1 method, brown sugar + paprika rub.",tags:[{label:"cooking"},{label:"low heat"}],pinned:!0},{id:"bbq2",title:"Prep timeline",description:"Marinate Friday night, dry rub morning of.",tags:[{label:"timeline"}]},{id:"bbq3",title:"Guest dietary needs",description:"Maya is vegetarian, Jordan allergic to nuts.",tags:[{label:"logistics"},{label:"dietary"}]}],wishlist:[{id:"wl1",title:"Wireless meat thermometer",description:"Track temp without opening the grill lid.",tags:[{label:"gear"},{label:"upgrade"}]},{id:"wl2",title:"Cast iron flat top",description:"For smash burgers and veggies outdoors.",tags:[{label:"gear"}],pinned:!0},{id:"wl3",title:"Charcoal chimney starter",description:"Faster, cleaner way to light charcoal.",tags:[{label:"gear"},{label:"efficiency"}]}],"listen-next":[{id:"ln1",title:"BBQ Pitmasters podcast",description:"Episode 47: Competition smoking techniques.",tags:[{label:"bbq"},{label:"competition"}]},{id:"ln2",title:"Cooking with Fire",description:"Traditional methods vs modern equipment.",tags:[{label:"traditional"},{label:"modern"}]}],"client-work":[{id:"cw1",title:"Q4 Product Roadmap",description:"Features: AI clustering, export options, team collaboration.",tags:[{label:"planning"},{label:"work"}],pinned:!0},{id:"cw2",title:"User Research Findings",description:"Interview notes from 12 users on note organization preferences.",tags:[{label:"research"},{label:"work"}]},{id:"cw3",title:"API Integration Requirements",description:"Third-party services to connect: Slack, Notion, Linear.",tags:[{label:"work"},{label:"integration"}]},{id:"cw4",title:"Design System Updates",description:"Component library refresh based on user feedback.",tags:[{label:"work"},{label:"design"}]}]}])},90006,e=>{"use strict";e.i(68182);var t=e.i(96243),r=e.i(93221),o=e.i(11566),i=e.i(69761),a=e.i(78939),n=e.i(83821),s=e.i(12064),l=r,d=e.i(54590);function c(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends l.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,s.isHTMLElement)(e)&&e.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function p({children:e,isPresent:o,anchorX:i,root:a}){let n=(0,l.useId)(),s=(0,l.useRef)(null),p=(0,l.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:g}=(0,l.useContext)(d.MotionConfigContext),m=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,o=e.map(e=>{let o=c(e,t);return r||"function"!=typeof o||(r=!0),o});if(r)return()=>{for(let t=0;t<o.length;t++){let r=o[t];"function"==typeof r?r():c(e[t],null)}}}}(...e),e)}(s,e?.ref);return(0,l.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:l,right:d}=p.current;if(o||!s.current||!e||!t)return;let c="left"===i?`left: ${l}`:`right: ${d}`;s.current.dataset.motionPopId=n;let u=document.createElement("style");g&&(u.nonce=g);let m=a??document.head;return m.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${c}px !important;
            top: ${r}px !important;
          }
        `),()=>{m.contains(u)&&m.removeChild(u)}},[o]),(0,t.jsx)(u,{isPresent:o,childRef:s,sizeRef:p,children:l.cloneElement(e,{ref:m})})}let g=({children:e,initial:o,isPresent:a,onExitComplete:s,custom:l,presenceAffectsLayout:d,mode:c,anchorX:u,root:g})=>{let h=(0,i.useConstant)(m),f=(0,r.useId)(),b=!0,y=(0,r.useMemo)(()=>(b=!1,{id:f,initial:o,isPresent:a,custom:l,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;s&&s()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[a,h,s]);return d&&b&&(y={...y}),(0,r.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[a]),r.useEffect(()=>{a||h.size||!s||s()},[a]),"popLayout"===c&&(e=(0,t.jsx)(p,{isPresent:a,anchorX:u,root:g,children:e})),(0,t.jsx)(n.PresenceContext.Provider,{value:y,children:e})};function m(){return new Map}var h=e.i(66055);let f=e=>e.key||"";function b(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let y=({children:e,custom:n,initial:s=!0,onExitComplete:l,presenceAffectsLayout:d=!0,mode:c="sync",propagate:u=!1,anchorX:p="left",root:m})=>{let[y,x]=(0,h.usePresence)(u),v=(0,r.useMemo)(()=>b(e),[e]),k=u&&!y?[]:v.map(f),w=(0,r.useRef)(!0),j=(0,r.useRef)(v),C=(0,i.useConstant)(()=>new Map),[N,S]=(0,r.useState)(v),[T,R]=(0,r.useState)(v);(0,a.useIsomorphicLayoutEffect)(()=>{w.current=!1,j.current=v;for(let e=0;e<T.length;e++){let t=f(T[e]);k.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[T,k.length,k.join("-")]);let z=[];if(v!==N){let e=[...v];for(let t=0;t<T.length;t++){let r=T[t],o=f(r);k.includes(o)||(e.splice(t,0,r),z.push(r))}return"wait"===c&&z.length&&(e=z),R(b(e)),S(v),null}let{forceRender:A}=(0,r.useContext)(o.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:T.map(e=>{let r=f(e),o=(!u||!!y)&&(v===T||k.includes(r));return(0,t.jsx)(g,{isPresent:o,initial:(!w.current||!!s)&&void 0,custom:n,presenceAffectsLayout:d,mode:c,root:m,onExitComplete:o?void 0:()=>{if(!C.has(r))return;C.set(r,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(A?.(),R(j.current),u&&x?.(),l&&l())},anchorX:p,children:e},r)})})};e.s(["AnimatePresence",()=>y],90006)},33128,76880,e=>{"use strict";var t=e.i(96243),r=e.i(15349),o=e.i(90006),i=e.i(90864);let a=(0,e.i(10965).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var n=e.i(67881),s=e.i(47163),l=e.i(93221);let d="klutr.section.summary.",c=()=>{try{return window.localStorage}catch(e){return console.warn("[klutr] Unable to access localStorage",e),null}};function u(e,t=!0){let[r,o]=(0,l.useState)(t),[i,a]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let t=c();if(t){let r=t.getItem(d+e);null!==r&&o("1"===r)}a(!0)},[e]);let n=(0,l.useRef)(null),s=(0,l.useCallback)(t=>{o(r=>{let o="function"==typeof t?t(r):t;return n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{try{let t=c();t&&t.setItem(d+e,o?"1":"0")}catch(e){console.warn("[klutr] Failed to persist summary state:",e)}},100),o})},[e]);return(0,l.useEffect)(()=>()=>{n.current&&clearTimeout(n.current)},[]),{expanded:r,ready:i,toggle:(0,l.useCallback)(()=>s(e=>!e),[s]),setExpanded:s}}function p(e,t,r){let[o,i]=(0,l.useState)(!1),[a,n]=(0,l.useState)(0),[s,d]=(0,l.useState)(!1),[u,p]=(0,l.useState)(!1),g=(0,l.useMemo)(()=>"klutr.section.tour."+e,[e]);(0,l.useEffect)(()=>{try{let e=c(),o=e?.getItem(g)==="1";d(o),!o&&t.length>0&&r?.autoStart!==!1&&(n(0),i(!0))}catch(e){console.warn("[klutr] Failed to check tour completion state:",e),d(!1),t.length>0&&r?.autoStart!==!1&&(n(0),i(!0))}finally{p(!0)}},[g,t,r?.autoStart]);let m=(0,l.useCallback)(()=>{try{let e=c();e&&e.setItem(g,"1"),d(!0)}catch(e){console.warn("[klutr] Failed to mark tour as seen:",e),d(!0)}},[g]),h=(0,l.useCallback)(()=>{try{let e=c();e&&e.removeItem(g),d(!1)}catch(e){console.warn("[klutr] Failed to reset tour seen state:",e),d(!1)}},[g]),f=(0,l.useCallback)(e=>{e?.restart&&h(),n(0),i(!0)},[h]),b=(0,l.useCallback)(()=>{m(),i(!1)},[m]),y=(0,l.useCallback)(()=>{m(),i(!1)},[m]),x=(0,l.useCallback)(()=>{n(e=>{let r=e+1;return r>=t.length?(b(),e):r})},[t.length,b]),v=(0,l.useCallback)(()=>{n(e=>Math.max(0,e-1))},[]),k=t[a];return{ready:u,open:o,setOpen:i,steps:t,currentStepIndex:a,currentStep:k,totalSteps:t.length,completed:s,startTour:f,finishTour:b,skipTour:y,goToNextStep:x,goToPreviousStep:v,resetSeen:h}}function g({section:e,summary:l,className:d}){let{expanded:c,ready:p,toggle:g}=u(e,!0);return(0,t.jsx)("div",{className:(0,s.cn)("rounded-lg border bg-muted/30 px-4 py-3 transition-colors border-l-4 border-l-[var(--color-brand-indigo)]/30",d),children:p&&(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsx)(o.AnimatePresence,{initial:!1,children:c&&(0,t.jsx)(r.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex-1 text-sm text-muted-foreground",children:l})}),(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:g,"aria-label":c?"Collapse summary":"Expand summary",children:c?(0,t.jsx)(a,{className:"h-4 w-4"}):(0,t.jsx)(i.ChevronDown,{className:"h-4 w-4"})})]})})}e.s(["useSectionSummary",()=>u,"useSectionTour",()=>p],76880),e.s(["SectionSummary",()=>g],33128)},34290,e=>{"use strict";var t=e.i(34853);e.s(["X",()=>t.default])},1442,36455,48255,62220,e=>{"use strict";var t=e.i(96243),r=e.i(15349),o=e.i(67881),i=e.i(70065),a=e.i(34290);function n({title:e,description:n,position:s,onNext:l,onClose:d,showNext:c=!0}){return(0,t.jsx)(r.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.15},className:`absolute ${{top:"bottom-full mb-2",bottom:"top-full mt-2",left:"right-full mr-2",right:"left-full ml-2"}[s]} z-50`,children:(0,t.jsxs)(i.Card,{className:"p-4 max-w-xs shadow-lg border-2 border-primary/20",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:e}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 -mt-1 -mr-1",onClick:d,children:(0,t.jsx)(a.X,{className:"h-4 w-4"})})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:n}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[c&&(0,t.jsx)(o.Button,{size:"sm",onClick:l,children:"Next"}),!c&&(0,t.jsx)(o.Button,{size:"sm",onClick:d,children:"Done"})]})]})})}e.s(["TourCallout",()=>n],1442);var s=e.i(93221),l=e.i(16725);let d=(0,e.i(10965).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var c=e.i(95751),u=e.i(84675),p=e.i(30374),g=e.i(47163);let m={indigo:"var(--brand-indigo)",lime:"var(--brand-lime)",coral:"var(--brand-coral)"};function h({title:e,subtitle:r,accent:i="indigo",tour:a}){if(!a)return console.warn("[SectionTourDialog] tour prop is required"),null;let{open:n,setOpen:h,steps:f,currentStep:b,currentStepIndex:y,totalSteps:x,ready:v=!0,goToNextStep:k,goToPreviousStep:w,skipTour:j,finishTour:C}=a;if(!Array.isArray(f)||0===f.length)return console.warn("[SectionTourDialog] steps must be a non-empty array"),null;let N=Math.max(0,Math.min(y,f.length-1)),S=i&&m[i]?i:"indigo",T=m[S],R=N===x-1;(0,s.useEffect)(()=>{if(!n)return;let e=e=>{if("Escape"===e.key){e.preventDefault(),j();return}!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)&&("ArrowRight"!==e.key||R?"ArrowLeft"===e.key&&N>0&&(e.preventDefault(),w()):(e.preventDefault(),k()))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n,R,N,k,w,j]);let z=(0,s.useRef)(null);if((0,s.useEffect)(()=>{n&&z.current&&b&&(z.current.textContent=`Step ${N+1} of ${x}: ${b.title}. ${b.description}`)},[n,N,x,b]),!v)return null;let A=f[N];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{ref:z,"aria-live":"polite","aria-atomic":"true",className:"sr-only"}),(0,t.jsx)(p.Dialog,{open:n,onOpenChange:h,children:(0,t.jsxs)(p.DialogContent,{className:"max-w-md border-t-8",style:{borderTopColor:T},children:[(0,t.jsxs)(p.DialogHeader,{className:"space-y-3 text-left",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 text-xs font-medium uppercase tracking-wide",style:{color:T},children:[(0,t.jsx)(d,{className:"h-4 w-4","aria-hidden":"true"}),"Quick Tour"]}),(0,t.jsx)(p.DialogTitle,{children:A?.title??b?.title??e}),(0,t.jsx)(p.DialogDescription,{children:A?.description||b?.description?(0,t.jsxs)(s.Fragment,{children:[A?.description||b?.description,(A?.footnote||b?.footnote)&&(0,t.jsx)("span",{className:"mt-3 block text-xs text-muted-foreground/80",children:A?.footnote||b?.footnote})]}):r??"Here's how this corner of Klutr works."})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-md bg-muted/40 px-3 py-2 text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:["Step ",N+1," of ",x]}),(0,t.jsx)("div",{className:"flex items-center gap-1",role:"tablist","aria-label":"Tour progress",children:f.map((e,r)=>(0,t.jsx)("span",{className:(0,g.cn)("h-2 w-2 rounded-full transition",r===N?"bg-foreground":"bg-muted"),role:"tab","aria-selected":r===N,"aria-label":`Step ${r+1}`},r))})]}),(0,t.jsxs)(p.DialogFooter,{className:"gap-2",children:[(0,t.jsx)(o.Button,{type:"button",variant:"ghost",size:"sm",className:"text-muted-foreground",onClick:()=>{l.default.capture("tour-skipped",{tour_title:e,step_index:N,step_title:A?.title,total_steps:x}),j()},children:"Skip tour"}),N>0&&(0,t.jsxs)(o.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{l.default.capture("tour-step-navigated",{tour_title:e,direction:"previous",from_step_index:N,from_step_title:A?.title,total_steps:x}),w()},"aria-label":"Go to previous step",children:[(0,t.jsx)(u.ArrowLeft,{className:"mr-1 h-4 w-4","aria-hidden":"true"}),"Back"]}),(0,t.jsxs)(o.Button,{type:"button",size:"sm",className:"ml-auto text-white shadow hover:opacity-90",style:{backgroundColor:T},onClick:()=>{R?(l.default.capture("tour-finished",{tour_title:e,total_steps:x}),C()):(l.default.capture("tour-step-navigated",{tour_title:e,direction:"next",from_step_index:N,from_step_title:A?.title,total_steps:x}),k())},"aria-label":R?"Finish tour":"Go to next step",children:[R?"Finish":"Next",!R&&(0,t.jsx)(c.ArrowRight,{className:"ml-1 h-4 w-4","aria-hidden":"true"})]})]})]})})]})}e.s(["SectionTourDialog",()=>h],36455);var f=e.i(71618);function b({section:e,steps:t,autoTrigger:r=!0,enabled:o=!0}){let[i,a]=(0,s.useState)(!1),[n,l]=(0,s.useState)(0),[d,c]=(0,s.useState)(null);(0,s.useRef)([]),(0,s.useEffect)(()=>{if(!o)return;let i=(0,f.hasSeenSectionOnboarding)(e);if(r&&!i&&t.length>0){let e=setTimeout(()=>{a(!0),l(0),u(0)},300);return()=>clearTimeout(e)}},[e,r,o,t.length]);let u=e=>{let r=t[e];r?r.targetRef?.current?c(r.targetRef.current):r.targetSelector?c(document.querySelector(r.targetSelector)||null):c(null):c(null)},p=()=>{a(!1),l(0),c(null),(0,f.markSectionOnboardingSeen)(e)},g=i&&t[n]?t[n]:null,m=n===t.length-1;return{active:i,step:n,currentStep:g,targetElement:d,isLastStep:m,nextStep:()=>{if(n<t.length-1){let e=n+1;l(e),u(e)}else p()},startOnboarding:()=>{a(!0),l(0),u(0)},endOnboarding:p}}e.s(["useSectionOnboarding",()=>b],48255);let y={notes:[{id:"capture",title:"Capture your thoughts",description:"Use the quick capture bar to add notes, files, or voice recordings. Everything you add is automatically tagged and organized."},{id:"auto-tagging",title:"Auto-tagging",description:"We analyze your notes and add relevant tags automatically. You can also add your own tags to organize your thoughts."},{id:"archive",title:"Archive what doesn't fit",description:"Swipe left or use the Nope action to archive notes that don't fit your current workflow. Nothing is permanently deleted—you can restore items later."}],mindstorm:[{id:"clusters",title:"Related ideas grouped together",description:"AI analyzes your notes and groups similar ideas into clusters. Related thoughts appear together, making connections easier to spot."},{id:"recluster",title:"Refresh clusters anytime",description:"Click 'Re-cluster now' to update groupings when you add new notes. Clusters improve as you add more content."}],stacks:[{id:"collections",title:"Collections of related notes",description:"Stacks are groups of notes organized by topic, project, or theme. Browse your collections to find what you need."},{id:"tags",title:"Tags organize everything",description:"Notes are automatically grouped by tags and categories. Similar tags create related stacks you can browse."},{id:"pin",title:"Pin important stacks",description:"Pin stacks you use frequently for quick access. Pinned stacks appear at the top of your list."}],vault:[{id:"private-storage",title:"Private, encrypted storage",description:"Your vault encrypts notes on your device before uploading. Only you can read them—we never see your plaintext content."},{id:"unlock",title:"Unlock with your password",description:"Enter your vault password to unlock and view your encrypted notes. Keys are derived from your password and never stored on our servers."}],insights:[{id:"summaries",title:"Weekly summaries",description:"Insights highlight patterns in your thinking. See trends, recurring themes, and activity across your notes."},{id:"generate",title:"Generate insights anytime",description:"Click 'Generate Summary' to create insights from your recent notes. Insights help you discover connections you might have missed."}],memory:[{id:"timeline",title:"Your note-taking timeline",description:"Memory Lane shows your notes organized by time. See what you were thinking across weeks and months."},{id:"rediscover",title:"Rediscover forgotten ideas",description:"Browse past notes to resurface ideas you've set aside. Temporal organization helps you find notes by when you captured them."}],nope:[{id:"archived",title:"Archived notes",description:"Nope Bin holds notes you've set aside. Nothing is permanently deleted—your archived notes stay here until you restore them."},{id:"restore",title:"Restore anytime",description:"Click 'Restore' on any archived note to bring it back to your main notes. Your archived notes are always recoverable."}]},x={notes:[{title:"Capture your thoughts",description:"Use the quick capture bar to add notes, files, or voice recordings. Everything you add is automatically tagged and organized.",targetSelector:'[data-onboarding="quick-capture"]',position:"bottom"},{title:"Auto-tagging",description:"We analyze your notes and add relevant tags automatically. You can also add your own tags to organize your thoughts.",targetSelector:'[data-onboarding="tags"]',position:"bottom"},{title:"Archive what doesn't fit",description:"Swipe left or use the Nope action to archive notes that don't fit your current workflow. Nothing is permanently deleted—you can restore items later.",targetSelector:'[data-onboarding="nope-action"]',position:"top"}],mindstorm:[{title:"Related ideas grouped together",description:"AI analyzes your notes and groups similar ideas into clusters. Related thoughts appear together, making connections easier to spot.",targetSelector:'[data-onboarding="clusters"]',position:"bottom"},{title:"Refresh clusters anytime",description:"Click 'Re-cluster now' to update groupings when you add new notes. Clusters improve as you add more content.",targetSelector:'[data-onboarding="recluster-button"]',position:"left"}],stacks:[{title:"Collections of related notes",description:"Stacks are groups of notes organized by topic, project, or theme. Browse your collections to find what you need.",targetSelector:'[data-onboarding="stacks"]',position:"bottom"},{title:"Tags organize everything",description:"Notes are automatically grouped by tags and categories. Similar tags create related stacks you can browse.",targetSelector:'[data-onboarding="tags"]',position:"bottom"},{title:"Pin important stacks",description:"Pin stacks you use frequently for quick access. Pinned stacks appear at the top of your list.",targetSelector:'[data-onboarding="pin-button"]',position:"left"}],vault:[{title:"Private, encrypted storage",description:"Your vault encrypts notes on your device before uploading. Only you can read them—we never see your plaintext content.",targetSelector:'[data-onboarding="vault-lock"]',position:"bottom"},{title:"Unlock with your password",description:"Enter your vault password to unlock and view your encrypted notes. Keys are derived from your password and never stored on our servers.",targetSelector:'[data-onboarding="unlock-button"]',position:"top"}],insights:[{title:"Weekly summaries",description:"Insights highlight patterns in your thinking. See trends, recurring themes, and activity across your notes.",targetSelector:'[data-onboarding="insights"]',position:"bottom"},{title:"Generate insights anytime",description:"Click 'Generate Summary' to create insights from your recent notes. Insights help you discover connections you might have missed.",targetSelector:'[data-onboarding="generate-button"]',position:"left"}],memory:[{title:"Your note-taking timeline",description:"Memory Lane shows your notes organized by time. See what you were thinking across weeks and months.",targetSelector:'[data-onboarding="timeline"]',position:"bottom"},{title:"Rediscover forgotten ideas",description:"Browse past notes to resurface ideas you've set aside. Temporal organization helps you find notes by when you captured them.",targetSelector:'[data-onboarding="memory-items"]',position:"bottom"}],nope:[{title:"Archived notes",description:"Nope Bin holds notes you've set aside. Nothing is permanently deleted—your archived notes stay here until you restore them.",targetSelector:'[data-onboarding="nope-items"]',position:"bottom"},{title:"Restore anytime",description:"Click 'Restore' on any archived note to bring it back to your main notes. Your archived notes are always recoverable.",targetSelector:'[data-onboarding="restore-button"]',position:"left"}]};function v(e){return x[e]||[]}function k(e){return y[e]||[]}e.s(["getDialogTourSteps",()=>k,"getOnboardingSteps",()=>v],62220)}]);