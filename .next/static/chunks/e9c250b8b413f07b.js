(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48993,69486,e=>{"use strict";var t=e.i(96243),r=e.i(10965);let i=(0,r.default)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),a=(0,r.default)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),s=(0,r.default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),o=(0,r.default)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);var n=e.i(67881),l=e.i(28231),c=e.i(47163);function d({view:e,onViewChange:r,availableViews:d=["grid","list","collage","pinboard"],className:u}){let h=[{type:"grid",icon:i,label:"Grid view"},{type:"list",icon:a,label:"List view"},{type:"collage",icon:s,label:"Collage view"},{type:"pinboard",icon:o,label:"Pin board view"}].filter(e=>d.includes(e.type));return(0,t.jsx)("div",{className:(0,c.cn)("flex items-center gap-1 border rounded-lg p-1 bg-background",u),children:(0,t.jsx)(l.TooltipProvider,{children:h.map(({type:i,icon:a,label:s})=>(0,t.jsxs)(l.Tooltip,{children:[(0,t.jsx)(l.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(n.Button,{variant:e===i?"default":"ghost",size:"sm",onClick:()=>r(i),className:(0,c.cn)("h-8 w-8 p-0",e===i&&"bg-[var(--klutr-coral)] hover:bg-[var(--klutr-coral)]/90 text-white"),"aria-label":s,children:(0,t.jsx)(a,{className:"h-4 w-4"})})}),(0,t.jsx)(l.TooltipContent,{children:(0,t.jsx)("p",{children:s})})]},i))})})}e.s(["ViewToggle",()=>d],48993);var u=e.i(5576),h=e.i(34290),g=e.i(23750);function p({value:e,onChange:r,placeholder:i="Search notes...",className:a}){return(0,t.jsxs)("div",{className:(0,c.cn)("relative",a),children:[(0,t.jsx)(u.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(g.Input,{type:"search",value:e,onChange:e=>r(e.target.value),placeholder:i,className:"pl-10 pr-10 h-10"}),e&&(0,t.jsx)(n.Button,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8 p-0",onClick:()=>r(""),"aria-label":"Clear search",children:(0,t.jsx)(h.X,{className:"h-4 w-4"})})]})}e.s(["SearchBar",()=>p],69486)},60358,e=>{"use strict";var t=e.i(96243),r=e.i(93221),i=e.i(16725),a=e.i(95696),s=e.i(94899),o=e.i(78087),n=e.i(48993),l=e.i(15349),c=e.i(90006),d=e.i(47163);function u({items:e,relationships:i=[],onItemClick:a,onItemFavorite:s,className:n}){let u=(0,r.useRef)(null),[h,g]=(0,r.useState)(null),[p,m]=(0,r.useState)(new Map),[x,y]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(u.current&&e.length>0){let t=u.current,r=t.offsetWidth,i=t.offsetHeight,a=new Map;e.forEach((e,t)=>{e.x&&e.y?a.set(e.id,{x:e.x,y:e.y}):a.set(e.id,{x:200+Math.random()*(r-400),y:200+Math.random()*(i-400)})}),m(a)}},[e]);let f=()=>{y(null)},v=h?i.filter(e=>e.from===h||e.to===h):i;return(0,t.jsxs)("div",{ref:u,className:(0,d.cn)("relative w-full h-[600px] md:h-[800px] overflow-hidden rounded-lg border border-[var(--klutr-outline)]/20 bg-background",n),onMouseMove:e=>{if(!x||!u.current)return;let t=u.current.getBoundingClientRect(),r=e.clientX-t.left,i=e.clientY-t.top;m(e=>{let t=new Map(e);return t.get(x)&&t.set(x,{x:r,y:i}),t})},onMouseUp:f,onMouseLeave:f,children:[(0,t.jsxs)("svg",{className:"absolute inset-0 pointer-events-none z-0",style:{width:"100%",height:"100%"},children:[(0,t.jsx)("defs",{children:(0,t.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",children:(0,t.jsx)("polygon",{points:"0 0, 10 3, 0 6",fill:"var(--klutr-coral)",opacity:"0.5"})})}),v.map((e,r)=>{var i,a;let s,o;if(i=e.from,a=e.to,s=p.get(i),o=p.get(a),!s||!o||(o.x,s.x,o.y,s.y,!`M ${s.x} ${s.y} L ${o.x} ${o.y}`))return null;let n=h&&(e.from===h||e.to===h),l=e.strength||.5;return(0,t.jsx)("line",{x1:p.get(e.from)?.x||0,y1:p.get(e.from)?.y||0,x2:p.get(e.to)?.x||0,y2:p.get(e.to)?.y||0,stroke:"var(--klutr-coral)",strokeWidth:n?3:1+l,opacity:n?.8:.3,strokeDasharray:e.strength&&e.strength<.5?"5,5":"0"},`${e.from}-${e.to}-${r}`)})]}),(0,t.jsx)(c.AnimatePresence,{children:e.map(e=>{let r,n=p.get(e.id);if(!n)return null;let c=(r=e.id,i.filter(e=>e.from===r||e.to===r).map(e=>e.from===r?e.to:e.from)),u=h===e.id,m=h&&c.includes(h);return(0,t.jsx)(l.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:u?1:m?.9:.7,scale:u?1.05:1,x:n.x,y:n.y},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"absolute top-0 left-0 w-64 z-10 cursor-move",style:{transform:"translate(-50%, -50%)"},onMouseDown:t=>{var r;return r=e.id,void(t.preventDefault(),y(r))},onClick:()=>{g(u?null:e.id),a?.(e.id)},children:(0,t.jsx)("div",{className:(0,d.cn)("transition-all",u&&"ring-2 ring-[var(--klutr-coral)] ring-offset-2 rounded-lg",m&&"ring-1 ring-[var(--klutr-mint)] ring-offset-1 rounded-lg"),children:(0,t.jsx)(o.ItemCard,{title:e.title,description:e.description,tags:e.tags,pinned:e.pinned,onClick:()=>{g(u?null:e.id),a?.(e.id)},onFavorite:()=>s?.(e.id),variant:"grid"})})},e.id)})}),0===e.length&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-muted-foreground",children:(0,t.jsxs)("p",{className:"text-center",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Pin Board View"}),(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-sm",children:"Drag notes to organize them. Click to see connections."})]})})]})}var h=e.i(69486),g=e.i(33128),p=e.i(1442),m=e.i(36455),x=e.i(48255),y=e.i(76880),f=e.i(62220),v=e.i(67881),j=e.i(30592);function w(){let[e,l]=(0,r.useState)(j.mockClusters),[c,d]=(0,r.useState)("grid"),[w,k]=(0,r.useState)(""),b=(0,r.useRef)(null),S=(0,r.useRef)(null),C=(0,y.useSectionTour)("mindstorm",(0,f.getDialogTourSteps)("mindstorm"),{autoStart:!0}),N=(0,x.useSectionOnboarding)({section:"mindstorm",steps:(0,f.getOnboardingSteps)("mindstorm").map((e,t)=>0===t?{...e,targetRef:b}:1===t?{...e,targetRef:S}:e),autoTrigger:!1}),T=()=>{i.default.capture("mindstorm-recluster-clicked"),console.log("TODO: Recluster notes")},M=e=>{console.log("TODO: Open cluster",e)},L=t=>{console.log("TODO: Toggle favorite for cluster",t),l(e.map(e=>e.id===t?{...e,pinned:!e.pinned}:e))},z=e.map((t,r)=>{let i=(r+1)%e.length;return{from:t.id,to:e[i].id,strength:.6}}),O=w?e.filter(e=>e.title.toLowerCase().includes(w.toLowerCase())||e.description?.toLowerCase().includes(w.toLowerCase())||e.tags?.some(e=>e.label.toLowerCase().includes(w.toLowerCase()))):e;return(0,t.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,t.jsx)(a.PageHeader,{title:"MindStorm",description:"Your thoughts grouped by theme.",actions:(0,t.jsxs)(t.Fragment,{children:[!N.active&&!C.open&&(0,t.jsx)(v.Button,{variant:"outline",size:"sm",onClick:()=>C.startTour(),children:"Take tour"}),(0,t.jsx)(()=>(0,t.jsxs)(v.Button,{ref:S,variant:"outline",size:"sm",onClick:T,"aria-label":"Re-cluster notes now","data-onboarding":"recluster-button",className:"relative",children:["Re-cluster now",N.active&&N.currentStep&&1===N.step&&(0,t.jsx)(p.TourCallout,{title:N.currentStep.title,description:N.currentStep.description,position:N.currentStep.position,onNext:N.nextStep,onClose:N.endOnboarding,showNext:!N.isLastStep})]}),{})]})}),(0,t.jsx)(m.SectionTourDialog,{title:"Welcome to MindStorm",subtitle:"AI groups your notes by theme automatically",accent:"indigo",tour:C}),(0,t.jsx)(g.SectionSummary,{section:"mindstorm",summary:"AI groups your notes by theme automatically. Related ideas cluster together as you add more notes."}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[(0,t.jsx)("div",{className:"flex-1 w-full",children:(0,t.jsx)(h.SearchBar,{value:w,onChange:k,placeholder:"Search clusters..."})}),(0,t.jsx)(n.ViewToggle,{view:c,onViewChange:e=>{i.default.capture("mindstorm-view-changed",{view:e}),d(e)},availableViews:["grid","list","collage","pinboard"]})]}),(0,t.jsx)("div",{ref:b,"data-onboarding":"clusters",className:"relative",children:N.active&&N.currentStep&&0===N.step&&(0,t.jsx)(p.TourCallout,{title:N.currentStep.title,description:N.currentStep.description,position:N.currentStep.position,onNext:N.nextStep,onClose:N.endOnboarding,showNext:!N.isLastStep})}),"pinboard"===c?(0,t.jsx)(u,{items:O,relationships:z,onItemClick:M,onItemFavorite:L}):(0,t.jsx)(s.CardGrid,{view:c,children:O.map(e=>(0,t.jsx)(o.ItemCard,{title:e.title,description:e.description,tags:e.tags,pinned:e.pinned,onClick:()=>M(e.id),onFavorite:()=>L(e.id),variant:c},e.id))}),0===O.length&&(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:(0,t.jsx)("p",{children:w?"No clusters match your search. Try a different query.":"No clusters yet. Add some notes to see them grouped automatically."})})]})}e.s(["default",()=>w],60358)}]);