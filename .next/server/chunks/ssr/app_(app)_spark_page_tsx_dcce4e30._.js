module.exports=[58005,a=>{"use strict";var b=a.i(17188),c=a.i(68407),d=a.i(46206),e=a.i(40695),f=a.i(5522);function g(){let[a,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),{runSpark:j,loading:k,response:l,error:m,clearResponse:n}=function(){let[a,b]=(0,c.useState)(!1),[d,e]=(0,c.useState)(""),[f,g]=(0,c.useState)(null);return{loading:a,response:d,error:f,runSpark:async function a(a,c){if(!a||!c)return void g("Note ID and prompt are required");b(!0),e(""),g(null);try{let b=await fetch("/api/spark",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({noteId:a,prompt:c})});if(!b.ok){let a=await b.json().catch(()=>({error:"Unknown error"}));throw Error(a.error||`HTTP ${b.status}`)}if(!b.body)throw Error("Response body is null");let d=b.body.getReader(),f=new TextDecoder;for(;;){let{done:a,value:b}=await d.read();if(a)break;let c=f.decode(b,{stream:!0});e(a=>a+c)}}catch(a){g(a instanceof Error?a.message:"Failed to run Spark"),console.error("[useSpark] Error:",a)}finally{b(!1)}},clearResponse:function(){e(""),g(null)}}}(),o=async b=>{b.preventDefault(),a&&h&&await j(a,h)};return(0,b.jsx)(d.AppShell,{activeRoute:"/app/spark",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto py-12 px-4",children:[(0,b.jsx)("h1",{className:"text-3xl font-display text-[#ff6b6b] mb-6",children:"Spark"}),(0,b.jsx)("p",{className:"text-slate-400 font-body mb-8",children:"Your contextual AI partner. Analyze and expand on your notes with thoughtful insights."}),(0,b.jsxs)("form",{onSubmit:o,className:"space-y-4 mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"noteId",className:"block text-sm font-medium text-foreground mb-2",children:"Note ID"}),(0,b.jsx)(f.Input,{id:"noteId",type:"text",placeholder:"Enter note ID...",value:a,onChange:a=>g(a.target.value),disabled:k,className:"w-full"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"prompt",className:"block text-sm font-medium text-foreground mb-2",children:"Ask Spark"}),(0,b.jsx)(f.Input,{id:"prompt",type:"text",placeholder:"What would you like to explore about this note?",value:h,onChange:a=>i(a.target.value),disabled:k,className:"w-full"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{type:"submit",disabled:k||!a||!h,className:"bg-[#ff6b6b] hover:bg-[#ff6b6b]/90 text-white",children:k?"Thinking...":"Run Spark"}),(l||m)&&(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:n,disabled:k,children:"Clear"})]})]}),m&&(0,b.jsx)("div",{className:"mb-4 p-4 bg-destructive/10 border border-destructive/20 rounded-md",children:(0,b.jsx)("p",{className:"text-destructive text-sm",children:m})}),l&&(0,b.jsxs)("div",{className:"mt-6 p-6 bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,b.jsx)("h2",{className:"text-lg font-display text-[#ff6b6b] mb-3",children:"Response"}),(0,b.jsxs)("div",{className:"text-slate-300 font-body whitespace-pre-line leading-relaxed",children:[l,k&&(0,b.jsx)("span",{className:"inline-block w-2 h-4 bg-[#ff6b6b] ml-1 animate-pulse"})]})]})]})})}a.s(["default",()=>g],58005)}];

//# sourceMappingURL=app_%28app%29_spark_page_tsx_dcce4e30._.js.map