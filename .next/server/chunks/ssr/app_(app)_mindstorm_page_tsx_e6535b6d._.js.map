{"version":3,"sources":["turbopack:///[project]/app/(app)/mindstorm/page.tsx","turbopack:///[project]/components/ui/PinBoardView.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef } from \"react\";\nimport type React from \"react\";\nimport posthog from 'posthog-js';\nimport { PageHeader } from \"@/components/ui/PageHeader\";\nimport { CardGrid } from \"@/components/ui/CardGrid\";\nimport { ItemCard } from \"@/components/ui/ItemCard\";\nimport { ViewToggle, ViewType } from \"@/components/ui/ViewToggle\";\nimport { PinBoardView } from \"@/components/ui/PinBoardView\";\nimport { SearchBar } from \"@/components/ui/SearchBar\";\nimport { SectionSummary } from \"@/components/ui/SectionSummary\";\nimport { TourCallout } from \"@/components/tour/TourCallout\";\nimport { SectionTourDialog } from \"@/components/onboarding/SectionTourDialog\";\nimport { useSectionOnboarding } from \"@/lib/hooks/useSectionOnboarding\";\nimport { useSectionTour } from \"@/lib/hooks/useSectionExperience\";\nimport { getOnboardingSteps, getDialogTourSteps } from \"@/lib/onboardingSteps\";\nimport { Button } from \"@/components/ui/button\";\nimport { mockClusters } from \"@/lib/mockData\";\n\nexport default function MindStormPage() {\n  const [clusters, setClusters] = useState(mockClusters);\n  const [view, setView] = useState<ViewType>(\"grid\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const clustersRef = useRef<HTMLDivElement>(null);\n  const reclusterButtonRef = useRef<HTMLButtonElement>(null);\n\n  // Dialog tour for first-time onboarding (auto-starts)\n  const dialogTour = useSectionTour(\"mindstorm\", getDialogTourSteps(\"mindstorm\"), {\n    autoStart: true,\n  });\n\n  // Callout tour for contextual hints (manual trigger)\n  const onboarding = useSectionOnboarding({\n    section: \"mindstorm\",\n    steps: getOnboardingSteps(\"mindstorm\").map((step, idx) => {\n      if (idx === 0)\n        return {\n          ...step,\n          targetRef: clustersRef as React.RefObject<HTMLElement | null>,\n        };\n      if (idx === 1)\n        return {\n          ...step,\n          targetRef: reclusterButtonRef as React.RefObject<HTMLElement | null>,\n        };\n      return step;\n    }),\n    autoTrigger: false,\n  });\n\n  const handleRecluster = () => {\n    posthog.capture('mindstorm-recluster-clicked');\n    console.log(\"TODO: Recluster notes\");\n  };\n\n  const handleClusterClick = (clusterId: string) => {\n    console.log(\"TODO: Open cluster\", clusterId);\n  };\n\n  const handleClusterFavorite = (clusterId: string) => {\n    console.log(\"TODO: Toggle favorite for cluster\", clusterId);\n    setClusters(\n      clusters.map((cluster) =>\n        cluster.id === clusterId\n          ? { ...cluster, pinned: !(cluster.pinned ?? false) }\n          : cluster\n      )\n    );\n  };\n\n  const handleViewChange = (newView: ViewType) => {\n    posthog.capture('mindstorm-view-changed', { view: newView });\n    setView(newView);\n  };\n\n  // Generate relationships for pin board view\n  const relationships = clusters.map((cluster, index) => {\n    const nextIndex = (index + 1) % clusters.length;\n    return {\n      from: cluster.id,\n      to: clusters[nextIndex].id,\n      strength: 0.6,\n    };\n  });\n\n  // Filter clusters by search\n  const filteredClusters = searchQuery\n    ? clusters.filter(\n        (cluster) =>\n          cluster.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n          cluster.description?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n          cluster.tags?.some((tag) => tag.label.toLowerCase().includes(searchQuery.toLowerCase()))\n      )\n    : clusters;\n\n  const ReclusterButton = () => (\n    <Button\n      ref={reclusterButtonRef}\n      variant=\"outline\"\n      size=\"sm\"\n      onClick={handleRecluster}\n      aria-label=\"Re-cluster notes now\"\n      data-onboarding=\"recluster-button\"\n      className=\"relative\"\n    >\n      Re-cluster now\n      {onboarding.active && onboarding.currentStep && onboarding.step === 1 && (\n        <TourCallout\n          title={onboarding.currentStep.title}\n          description={onboarding.currentStep.description}\n          position={onboarding.currentStep.position}\n          onNext={onboarding.nextStep}\n          onClose={onboarding.endOnboarding}\n          showNext={!onboarding.isLastStep}\n        />\n      )}\n    </Button>\n  );\n\n  return (\n    <div className=\"max-w-5xl mx-auto space-y-6\">\n      <PageHeader\n        title=\"MindStorm\"\n        description=\"Your thoughts grouped by theme.\"\n        actions={\n          <>\n            {!onboarding.active && !dialogTour.open && (\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => dialogTour.startTour()}\n              >\n                Take tour\n              </Button>\n            )}\n            <ReclusterButton />\n          </>\n        }\n      />\n\n      <SectionTourDialog\n        title=\"Welcome to MindStorm\"\n        subtitle=\"AI groups your notes by theme automatically\"\n        accent=\"indigo\"\n        tour={dialogTour}\n      />\n\n      <SectionSummary\n        section=\"mindstorm\"\n        summary=\"AI groups your notes by theme automatically. Related ideas cluster together as you add more notes.\"\n      />\n\n      {/* Search and View Toggle */}\n      <div className=\"flex flex-col sm:flex-row gap-4 items-start sm:items-center\">\n        <div className=\"flex-1 w-full\">\n          <SearchBar\n            value={searchQuery}\n            onChange={setSearchQuery}\n            placeholder=\"Search clusters...\"\n          />\n        </div>\n        <ViewToggle\n          view={view}\n          onViewChange={handleViewChange}\n          availableViews={[\"grid\", \"list\", \"collage\", \"pinboard\"]}\n        />\n      </div>\n\n      <div ref={clustersRef} data-onboarding=\"clusters\" className=\"relative\">\n        {onboarding.active &&\n          onboarding.currentStep &&\n          onboarding.step === 0 && (\n            <TourCallout\n              title={onboarding.currentStep.title}\n              description={onboarding.currentStep.description}\n              position={onboarding.currentStep.position}\n              onNext={onboarding.nextStep}\n              onClose={onboarding.endOnboarding}\n              showNext={!onboarding.isLastStep}\n            />\n          )}\n      </div>\n\n      {view === \"pinboard\" ? (\n        <PinBoardView\n          items={filteredClusters}\n          relationships={relationships}\n          onItemClick={handleClusterClick}\n          onItemFavorite={handleClusterFavorite}\n        />\n      ) : (\n        <CardGrid view={view}>\n          {filteredClusters.map((cluster) => (\n            <ItemCard\n              key={cluster.id}\n              title={cluster.title}\n              description={cluster.description}\n              tags={cluster.tags}\n              pinned={cluster.pinned}\n              onClick={() => handleClusterClick(cluster.id)}\n              onFavorite={() => handleClusterFavorite(cluster.id)}\n              variant={view}\n            />\n          ))}\n        </CardGrid>\n      )}\n\n      {filteredClusters.length === 0 && (\n        <div className=\"text-center py-12 text-muted-foreground\">\n          <p>\n            {searchQuery\n              ? \"No clusters match your search. Try a different query.\"\n              : \"No clusters yet. Add some notes to see them grouped automatically.\"}\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { ItemCard } from \"./ItemCard\";\nimport { cn } from \"@/lib/utils\";\n\ninterface Note {\n  id: string;\n  title: string;\n  description?: string;\n  tags?: { label: string; colorClassName?: string }[];\n  pinned?: boolean;\n  x?: number;\n  y?: number;\n}\n\ninterface Relationship {\n  from: string;\n  to: string;\n  strength?: number; // 0-1, for line thickness/opacity\n}\n\ninterface PinBoardViewProps {\n  items: Note[];\n  relationships?: Relationship[];\n  onItemClick?: (id: string) => void;\n  onItemFavorite?: (id: string) => void;\n  className?: string;\n}\n\nexport function PinBoardView({\n  items,\n  relationships = [],\n  onItemClick,\n  onItemFavorite,\n  className,\n}: PinBoardViewProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [selectedId, setSelectedId] = useState<string | null>(null);\n  const [positions, setPositions] = useState<Map<string, { x: number; y: number }>>(new Map());\n  const [isDragging, setIsDragging] = useState<string | null>(null);\n\n  // Initialize positions randomly or based on relationships\n  useEffect(() => {\n    if (containerRef.current && items.length > 0) {\n      const container = containerRef.current;\n      const width = container.offsetWidth;\n      const height = container.offsetHeight;\n      const newPositions = new Map<string, { x: number; y: number }>();\n\n      items.forEach((item, index) => {\n        if (!item.x || !item.y) {\n          // Random initial position with padding\n          const padding = 200;\n          newPositions.set(item.id, {\n            x: padding + Math.random() * (width - padding * 2),\n            y: padding + Math.random() * (height - padding * 2),\n          });\n        } else {\n          newPositions.set(item.id, { x: item.x, y: item.y });\n        }\n      });\n\n      setPositions(newPositions);\n    }\n  }, [items]);\n\n  const handleMouseDown = (id: string, e: React.MouseEvent) => {\n    e.preventDefault();\n    setIsDragging(id);\n  };\n\n  const handleMouseMove = (e: React.MouseEvent) => {\n    if (!isDragging || !containerRef.current) return;\n\n    const container = containerRef.current;\n    const rect = container.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    setPositions((prev) => {\n      const next = new Map(prev);\n      const current = next.get(isDragging);\n      if (current) {\n        next.set(isDragging, { x, y });\n      }\n      return next;\n    });\n  };\n\n  const handleMouseUp = () => {\n    setIsDragging(null);\n  };\n\n  const getRelatedItems = (id: string): string[] => {\n    return relationships\n      .filter((rel) => rel.from === id || rel.to === id)\n      .map((rel) => (rel.from === id ? rel.to : rel.from));\n  };\n\n  const getLinePath = (fromId: string, toId: string): string | null => {\n    const from = positions.get(fromId);\n    const to = positions.get(toId);\n    if (!from || !to) return null;\n\n    const dx = to.x - from.x;\n    const dy = to.y - from.y;\n    const distance = Math.sqrt(dx * dx + dy * dy);\n    const angle = Math.atan2(dy, dx) * (180 / Math.PI);\n\n    return `M ${from.x} ${from.y} L ${to.x} ${to.y}`;\n  };\n\n  const visibleRelationships = selectedId\n    ? relationships.filter((rel) => rel.from === selectedId || rel.to === selectedId)\n    : relationships;\n\n  return (\n    <div\n      ref={containerRef}\n      className={cn(\n        \"relative w-full h-[600px] md:h-[800px] overflow-hidden rounded-lg border border-[var(--klutr-outline)]/20 bg-background\",\n        className\n      )}\n      onMouseMove={handleMouseMove}\n      onMouseUp={handleMouseUp}\n      onMouseLeave={handleMouseUp}\n    >\n      {/* SVG for relationship lines */}\n      <svg\n        className=\"absolute inset-0 pointer-events-none z-0\"\n        style={{ width: \"100%\", height: \"100%\" }}\n      >\n        <defs>\n          <marker\n            id=\"arrowhead\"\n            markerWidth=\"10\"\n            markerHeight=\"10\"\n            refX=\"9\"\n            refY=\"3\"\n            orient=\"auto\"\n          >\n            <polygon\n              points=\"0 0, 10 3, 0 6\"\n              fill=\"var(--klutr-coral)\"\n              opacity=\"0.5\"\n            />\n          </marker>\n        </defs>\n        {visibleRelationships.map((rel, index) => {\n          const path = getLinePath(rel.from, rel.to);\n          if (!path) return null;\n\n          const isHighlighted = selectedId && (rel.from === selectedId || rel.to === selectedId);\n          const strength = rel.strength || 0.5;\n\n          return (\n            <line\n              key={`${rel.from}-${rel.to}-${index}`}\n              x1={positions.get(rel.from)?.x || 0}\n              y1={positions.get(rel.from)?.y || 0}\n              x2={positions.get(rel.to)?.x || 0}\n              y2={positions.get(rel.to)?.y || 0}\n              stroke=\"var(--klutr-coral)\"\n              strokeWidth={isHighlighted ? 3 : 1 + strength}\n              opacity={isHighlighted ? 0.8 : 0.3}\n              strokeDasharray={rel.strength && rel.strength < 0.5 ? \"5,5\" : \"0\"}\n            />\n          );\n        })}\n      </svg>\n\n      {/* Note cards positioned absolutely */}\n      <AnimatePresence>\n        {items.map((item) => {\n          const pos = positions.get(item.id);\n          if (!pos) return null;\n\n          const relatedIds = getRelatedItems(item.id);\n          const isSelected = selectedId === item.id;\n          const isRelated = selectedId && relatedIds.includes(selectedId);\n\n          return (\n            <motion.div\n              key={item.id}\n              initial={{ opacity: 0, scale: 0.8 }}\n              animate={{\n                opacity: isSelected ? 1 : isRelated ? 0.9 : 0.7,\n                scale: isSelected ? 1.05 : 1,\n                x: pos.x,\n                y: pos.y,\n              }}\n              exit={{ opacity: 0, scale: 0.8 }}\n              transition={{ duration: 0.2 }}\n              className=\"absolute top-0 left-0 w-64 z-10 cursor-move\"\n              style={{\n                transform: `translate(-50%, -50%)`,\n              }}\n              onMouseDown={(e) => handleMouseDown(item.id, e)}\n              onClick={() => {\n                setSelectedId(isSelected ? null : item.id);\n                onItemClick?.(item.id);\n              }}\n            >\n              <div\n                className={cn(\n                  \"transition-all\",\n                  isSelected && \"ring-2 ring-[var(--klutr-coral)] ring-offset-2 rounded-lg\",\n                  isRelated && \"ring-1 ring-[var(--klutr-mint)] ring-offset-1 rounded-lg\"\n                )}\n              >\n                <ItemCard\n                  title={item.title}\n                  description={item.description}\n                  tags={item.tags}\n                  pinned={item.pinned}\n                  onClick={() => {\n                    setSelectedId(isSelected ? null : item.id);\n                    onItemClick?.(item.id);\n                  }}\n                  onFavorite={() => onItemFavorite?.(item.id)}\n                  variant=\"grid\"\n                />\n              </div>\n            </motion.div>\n          );\n        })}\n      </AnimatePresence>\n\n      {/* Instructions overlay */}\n      {items.length === 0 && (\n        <div className=\"absolute inset-0 flex items-center justify-center text-muted-foreground\">\n          <p className=\"text-center\">\n            <span className=\"font-semibold\">Pin Board View</span>\n            <br />\n            <span className=\"text-sm\">\n              Drag notes to organize them. Click to see connections.\n            </span>\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}