{"version":3,"sources":["turbopack:///[project]/app/(app)/muse/page.tsx","turbopack:///[project]/lib/hooks/useMuse.ts"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { AppShell } from \"@/components/layout/AppShell\";\nimport { useMuse } from \"@/lib/hooks/useMuse\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\n\nexport default function MusePage() {\n  const [ideaA, setIdeaA] = useState(\"\");\n  const [ideaB, setIdeaB] = useState(\"\");\n  const { runMuse, loading, response, error, clearResponse } = useMuse();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!ideaA || !ideaB) return;\n    await runMuse(ideaA, ideaB);\n  };\n\n  return (\n    <AppShell activeRoute=\"/app/muse\">\n      <div className=\"max-w-2xl mx-auto py-12 px-4\">\n        <h1 className=\"text-3xl font-display text-[#3ee0c5] mb-6\">Muse</h1>\n        <p className=\"text-slate-400 font-body mb-8\">\n          Your creative remix engine. Combine two ideas into novel insights and\n          unexpected connections.\n        </p>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4 mb-6\">\n          <div>\n            <label\n              htmlFor=\"ideaA\"\n              className=\"block text-sm font-medium text-foreground mb-2\"\n            >\n              Idea A\n            </label>\n            <Input\n              id=\"ideaA\"\n              type=\"text\"\n              placeholder=\"Enter your first idea...\"\n              value={ideaA}\n              onChange={(e) => setIdeaA(e.target.value)}\n              disabled={loading}\n              className=\"w-full\"\n            />\n          </div>\n\n          <div>\n            <label\n              htmlFor=\"ideaB\"\n              className=\"block text-sm font-medium text-foreground mb-2\"\n            >\n              Idea B\n            </label>\n            <Input\n              id=\"ideaB\"\n              type=\"text\"\n              placeholder=\"Enter your second idea...\"\n              value={ideaB}\n              onChange={(e) => setIdeaB(e.target.value)}\n              disabled={loading}\n              className=\"w-full\"\n            />\n          </div>\n\n          <div className=\"flex gap-2\">\n            <Button\n              type=\"submit\"\n              disabled={loading || !ideaA || !ideaB}\n              className=\"bg-[#3ee0c5] hover:bg-[#3ee0c5]/90 text-charcoal\"\n            >\n              {loading ? \"Remixing...\" : \"Run Muse\"}\n            </Button>\n            {(response || error) && (\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={clearResponse}\n                disabled={loading}\n              >\n                Clear\n              </Button>\n            )}\n          </div>\n        </form>\n\n        {error && (\n          <div className=\"mb-4 p-4 bg-destructive/10 border border-destructive/20 rounded-md\">\n            <p className=\"text-destructive text-sm\">{error}</p>\n          </div>\n        )}\n\n        {response && (\n          <div className=\"mt-6 p-6 bg-slate-900/50 border border-slate-700 rounded-lg\">\n            <h2 className=\"text-lg font-display text-[#3ee0c5] mb-3\">\n              Remix\n            </h2>\n            <div className=\"text-slate-300 font-body whitespace-pre-line leading-relaxed\">\n              {response}\n              {loading && (\n                <span className=\"inline-block w-2 h-4 bg-[#3ee0c5] ml-1 animate-pulse\" />\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </AppShell>\n  );\n}\n","import { useState } from 'react'\n\ninterface UseMuseReturn {\n  loading: boolean\n  response: string\n  error: string | null\n  runMuse: (ideaA: string, ideaB: string) => Promise<void>\n  clearResponse: () => void\n}\n\n/**\n * Hook for interacting with Muse creative remix engine\n * Handles streaming responses from /api/muse endpoint\n */\nexport function useMuse(): UseMuseReturn {\n  const [loading, setLoading] = useState(false)\n  const [response, setResponse] = useState('')\n  const [error, setError] = useState<string | null>(null)\n\n  async function runMuse(ideaA: string, ideaB: string) {\n    if (!ideaA || !ideaB) {\n      setError('Both ideas are required')\n      return\n    }\n\n    setLoading(true)\n    setResponse('')\n    setError(null)\n\n    try {\n      const res = await fetch('/api/muse', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ ideaA, ideaB }),\n      })\n\n      if (!res.ok) {\n        const errorData = await res.json().catch(() => ({ error: 'Unknown error' }))\n        throw new Error(errorData.error || `HTTP ${res.status}`)\n      }\n\n      if (!res.body) {\n        throw new Error('Response body is null')\n      }\n\n      const reader = res.body.getReader()\n      const decoder = new TextDecoder()\n\n      while (true) {\n        const { done, value } = await reader.read()\n        if (done) break\n\n        const chunk = decoder.decode(value, { stream: true })\n        setResponse((prev) => prev + chunk)\n      }\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to run Muse'\n      setError(errorMessage)\n      console.error('[useMuse] Error:', err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  function clearResponse() {\n    setResponse('')\n    setError(null)\n  }\n\n  return { loading, response, error, runMuse, clearResponse }\n}\n\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAEe,SAAS,IACtB,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IAC7B,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,SAAE,CAAO,CAAE,SAAO,UAAE,CAAQ,OAAE,CAAK,eAAE,CAAa,CAAE,CCGrD,ADHwD,SCG/C,EACd,GAAM,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAsDlD,MAAO,SAAE,WAAS,QAAU,EAAO,QApDnC,eAAe,EAAQ,CAAa,CAAE,CAAa,EACjD,GAAI,CAAC,GAAS,CAAC,EAAO,YACpB,EAAS,2BAIX,EAAW,IACX,EAAY,IACZ,EAAS,MAET,GAAI,CACF,IAAM,EAAM,MAAM,MAAM,YAAa,CACnC,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,OAAE,QAAO,CAAM,EACtC,GAEA,GAAI,CAAC,EAAI,EAAE,CAAE,CACX,IAAM,EAAY,MAAM,EAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAE,MAAO,gBAAgB,CAAC,CAC1E,OAAM,AAAI,MAAM,EAAU,KAAK,EAAI,CAAC,KAAK,EAAE,EAAI,MAAM,CAAA,CAAE,CACzD,CAEA,GAAI,CAAC,EAAI,IAAI,CACX,CADa,KACP,AAAI,MAAM,yBAGlB,IAAM,EAAS,EAAI,IAAI,CAAC,SAAS,GAC3B,EAAU,IAAI,YAEpB,MAAO,CAAM,CACX,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,EAAO,IAAI,GACzC,GAAI,EAAM,MAEV,IAAM,EAAQ,EAAQ,MAAM,CAAC,EAAO,CAAE,QAAQ,CAAK,GACnD,EAAY,AAAC,GAAS,EAAO,EAC/B,CACF,CAAE,MAAO,EAAK,CAEZ,EADqB,OACZ,MAD2B,MAAQ,EAAI,OAAO,CAAG,sBAE1D,QAAQ,KAAK,CAAC,mBAAoB,EACpC,QAAU,CACR,EAAW,GACb,CACF,EAO4C,cAL5C,SAAS,EACP,EAAY,IACZ,EAAS,KACX,CAE0D,CAC5D,ID3DQ,EAAe,MAAO,IAC1B,EAAE,cAAc,GACX,GAAU,GACf,GADc,CAAQ,EAChB,EAAQ,EAAO,EACvB,EAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,YAAY,qBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qDAA4C,SAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,kGAK7C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,2BACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,QAAQ,QACR,UAAU,0DACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,QACH,KAAK,OACL,YAAY,2BACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,SAAU,EACV,UAAU,cAId,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,QAAQ,QACR,UAAU,0DACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,QACH,KAAK,OACL,YAAY,4BACZ,MAAO,EACP,SAAW,AAAD,GAAO,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,SAAU,EACV,UAAU,cAId,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,SAAU,GAAW,CAAC,GAAS,CAAC,EAChC,UAAU,4DAET,EAAU,cAAgB,aAE5B,AAAC,IAAY,CAAA,CAAK,EACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,UACR,QAAS,EACT,SAAU,WACX,gBAON,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8EACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oCAA4B,MAI5C,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,UAGzD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEACZ,EACA,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mEAQhC"}