module.exports=[980,a=>{"use strict";var b=a.i(17188),c=a.i(68407),d=a.i(52286),e=a.i(21273),f=a.i(43375),g=a.i(57718),h=a.i(47423),i=c,j=a.i(74477);function k(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}class l extends i.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=b.offsetParent,c=(0,h.isHTMLElement)(a)&&a.offsetWidth||0,d=this.props.sizeRef.current;d.height=b.offsetHeight||0,d.width=b.offsetWidth||0,d.top=b.offsetTop,d.left=b.offsetLeft,d.right=c-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:a,isPresent:d,anchorX:e,root:f}){let g=(0,i.useId)(),h=(0,i.useRef)(null),m=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:n}=(0,i.useContext)(j.MotionConfigContext),o=function(...a){return c.useCallback(function(...a){return b=>{let c=!1,d=a.map(a=>{let d=k(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():k(a[b],null)}}}}(...a),a)}(h,a?.ref);return(0,i.useInsertionEffect)(()=>{let{width:a,height:b,top:c,left:i,right:j}=m.current;if(d||!h.current||!a||!b)return;let k="left"===e?`left: ${i}`:`right: ${j}`;h.current.dataset.motionPopId=g;let l=document.createElement("style");n&&(l.nonce=n);let o=f??document.head;return o.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${g}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            ${k}px !important;
            top: ${c}px !important;
          }
        `),()=>{o.contains(l)&&o.removeChild(l)}},[d]),(0,b.jsx)(l,{isPresent:d,childRef:h,sizeRef:m,children:i.cloneElement(a,{ref:o})})}let n=({children:a,initial:d,isPresent:f,onExitComplete:h,custom:i,presenceAffectsLayout:j,mode:k,anchorX:l,root:n})=>{let p=(0,e.useConstant)(o),q=(0,c.useId)(),r=!0,s=(0,c.useMemo)(()=>(r=!1,{id:q,initial:d,isPresent:f,custom:i,onExitComplete:a=>{for(let b of(p.set(a,!0),p.values()))if(!b)return;h&&h()},register:a=>(p.set(a,!1),()=>p.delete(a))}),[f,p,h]);return j&&r&&(s={...s}),(0,c.useMemo)(()=>{p.forEach((a,b)=>p.set(b,!1))},[f]),c.useEffect(()=>{f||p.size||!h||h()},[f]),"popLayout"===k&&(a=(0,b.jsx)(m,{isPresent:f,anchorX:l,root:n,children:a})),(0,b.jsx)(g.PresenceContext.Provider,{value:s,children:a})};function o(){return new Map}var p=a.i(90202);let q=a=>a.key||"";function r(a){let b=[];return c.Children.forEach(a,a=>{(0,c.isValidElement)(a)&&b.push(a)}),b}let s=({children:a,custom:g,initial:h=!0,onExitComplete:i,presenceAffectsLayout:j=!0,mode:k="sync",propagate:l=!1,anchorX:m="left",root:o})=>{let[s,t]=(0,p.usePresence)(l),u=(0,c.useMemo)(()=>r(a),[a]),v=l&&!s?[]:u.map(q),w=(0,c.useRef)(!0),x=(0,c.useRef)(u),y=(0,e.useConstant)(()=>new Map),[z,A]=(0,c.useState)(u),[B,C]=(0,c.useState)(u);(0,f.useIsomorphicLayoutEffect)(()=>{w.current=!1,x.current=u;for(let a=0;a<B.length;a++){let b=q(B[a]);v.includes(b)?y.delete(b):!0!==y.get(b)&&y.set(b,!1)}},[B,v.length,v.join("-")]);let D=[];if(u!==z){let a=[...u];for(let b=0;b<B.length;b++){let c=B[b],d=q(c);v.includes(d)||(a.splice(b,0,c),D.push(c))}return"wait"===k&&D.length&&(a=D),C(r(a)),A(u),null}let{forceRender:E}=(0,c.useContext)(d.LayoutGroupContext);return(0,b.jsx)(b.Fragment,{children:B.map(a=>{let c=q(a),d=(!l||!!s)&&(u===B||v.includes(c));return(0,b.jsx)(n,{isPresent:d,initial:(!w.current||!!h)&&void 0,custom:g,presenceAffectsLayout:j,mode:k,root:o,onExitComplete:d?void 0:()=>{if(!y.has(c))return;y.set(c,!0);let a=!0;y.forEach(b=>{b||(a=!1)}),a&&(E?.(),C(x.current),l&&t?.(),i&&i())},anchorX:m,children:a},c)})})};a.s(["AnimatePresence",()=>s],980)},87553,96739,a=>{"use strict";var b=a.i(17188),c=a.i(83442),d=a.i(980),e=a.i(85807);let f=(0,a.i(61237).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var g=a.i(40695),h=a.i(97895),i=a.i(68407);function j(a,b=!0){let[c,d]=(0,i.useState)(b),[e,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{f(!0)},[a]);let g=(0,i.useRef)(null),h=(0,i.useCallback)(a=>{d(b=>{let c="function"==typeof a?a(b):a;return g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{},100),c})},[a]);return(0,i.useEffect)(()=>()=>{g.current&&clearTimeout(g.current)},[]),{expanded:c,ready:e,toggle:(0,i.useCallback)(()=>h(a=>!a),[h]),setExpanded:h}}function k(a,b,c){let[d,e]=(0,i.useState)(!1),[f,g]=(0,i.useState)(0),[h,j]=(0,i.useState)(!1),[k,l]=(0,i.useState)(!1),m=(0,i.useMemo)(()=>"klutr.section.tour."+a,[a]);(0,i.useEffect)(()=>{try{j(!1),b.length>0&&c?.autoStart!==!1&&(g(0),e(!0))}catch(a){console.warn("[klutr] Failed to check tour completion state:",a),j(!1),b.length>0&&c?.autoStart!==!1&&(g(0),e(!0))}finally{l(!0)}},[m,b,c?.autoStart]);let n=(0,i.useCallback)(()=>{try{j(!0)}catch(a){console.warn("[klutr] Failed to mark tour as seen:",a),j(!0)}},[m]),o=(0,i.useCallback)(()=>{try{j(!1)}catch(a){console.warn("[klutr] Failed to reset tour seen state:",a),j(!1)}},[m]),p=(0,i.useCallback)(a=>{a?.restart&&o(),g(0),e(!0)},[o]),q=(0,i.useCallback)(()=>{n(),e(!1)},[n]),r=(0,i.useCallback)(()=>{n(),e(!1)},[n]),s=(0,i.useCallback)(()=>{g(a=>{let c=a+1;return c>=b.length?(q(),a):c})},[b.length,q]),t=(0,i.useCallback)(()=>{g(a=>Math.max(0,a-1))},[]),u=b[f];return{ready:k,open:d,setOpen:e,steps:b,currentStepIndex:f,currentStep:u,totalSteps:b.length,completed:h,startTour:p,finishTour:q,skipTour:r,goToNextStep:s,goToPreviousStep:t,resetSeen:o}}function l({section:a,summary:i,className:k}){let{expanded:l,ready:m,toggle:n}=j(a,!0);return(0,b.jsx)("div",{className:(0,h.cn)("rounded-lg border bg-muted/30 px-4 py-3 transition-colors border-l-4 border-l-[var(--color-brand-indigo)]/30",k),children:m&&(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsx)(d.AnimatePresence,{initial:!1,children:l&&(0,b.jsx)(c.motion.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex-1 text-sm text-muted-foreground",children:i})}),(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:n,"aria-label":l?"Collapse summary":"Expand summary",children:l?(0,b.jsx)(f,{className:"h-4 w-4"}):(0,b.jsx)(e.ChevronDown,{className:"h-4 w-4"})})]})})}a.s(["useSectionSummary",()=>j,"useSectionTour",()=>k],96739),a.s(["SectionSummary",()=>l],87553)},32267,a=>{"use strict";var b=a.i(31293);a.s(["X",()=>b.default])},49556,39288,12769,53364,a=>{"use strict";var b=a.i(17188),c=a.i(83442),d=a.i(40695),e=a.i(3130),f=a.i(32267);function g({title:a,description:g,position:h,onNext:i,onClose:j,showNext:k=!0}){return(0,b.jsx)(c.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.15},className:`absolute ${{top:"bottom-full mb-2",bottom:"top-full mt-2",left:"right-full mr-2",right:"left-full ml-2"}[h]} z-50`,children:(0,b.jsxs)(e.Card,{className:"p-4 max-w-xs shadow-lg border-2 border-primary/20",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm",children:a}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 -mt-1 -mr-1",onClick:j,children:(0,b.jsx)(f.X,{className:"h-4 w-4"})})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:g}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[k&&(0,b.jsx)(d.Button,{size:"sm",onClick:i,children:"Next"}),!k&&(0,b.jsx)(d.Button,{size:"sm",onClick:j,children:"Done"})]})]})})}a.s(["TourCallout",()=>g],49556);var h=a.i(68407),i=a.i(66083);let j=(0,a.i(61237).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var k=a.i(6966),l=a.i(11374),m=a.i(65733),n=a.i(97895);let o={indigo:"var(--brand-indigo)",lime:"var(--brand-lime)",coral:"var(--brand-coral)"};function p({title:a,subtitle:c,accent:e="indigo",tour:f}){if(!f)return console.warn("[SectionTourDialog] tour prop is required"),null;let{open:g,setOpen:p,steps:q,currentStep:r,currentStepIndex:s,totalSteps:t,ready:u=!0,goToNextStep:v,goToPreviousStep:w,skipTour:x,finishTour:y}=f;if(!Array.isArray(q)||0===q.length)return console.warn("[SectionTourDialog] steps must be a non-empty array"),null;let z=Math.max(0,Math.min(s,q.length-1)),A=e&&o[e]?e:"indigo",B=o[A],C=z===t-1;(0,h.useEffect)(()=>{if(!g)return;let a=a=>{if("Escape"===a.key){a.preventDefault(),x();return}!(a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement)&&("ArrowRight"!==a.key||C?"ArrowLeft"===a.key&&z>0&&(a.preventDefault(),w()):(a.preventDefault(),v()))};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[g,C,z,v,w,x]);let D=(0,h.useRef)(null);if((0,h.useEffect)(()=>{g&&D.current&&r&&(D.current.textContent=`Step ${z+1} of ${t}: ${r.title}. ${r.description}`)},[g,z,t,r]),!u)return null;let E=q[z];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{ref:D,"aria-live":"polite","aria-atomic":"true",className:"sr-only"}),(0,b.jsx)(m.Dialog,{open:g,onOpenChange:p,children:(0,b.jsxs)(m.DialogContent,{className:"max-w-md border-t-8",style:{borderTopColor:B},children:[(0,b.jsxs)(m.DialogHeader,{className:"space-y-3 text-left",children:[(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 text-xs font-medium uppercase tracking-wide",style:{color:B},children:[(0,b.jsx)(j,{className:"h-4 w-4","aria-hidden":"true"}),"Quick Tour"]}),(0,b.jsx)(m.DialogTitle,{children:E?.title??r?.title??a}),(0,b.jsx)(m.DialogDescription,{children:E?.description||r?.description?(0,b.jsxs)(h.Fragment,{children:[E?.description||r?.description,(E?.footnote||r?.footnote)&&(0,b.jsx)("span",{className:"mt-3 block text-xs text-muted-foreground/80",children:E?.footnote||r?.footnote})]}):c??"Here's how this corner of Klutr works."})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-md bg-muted/40 px-3 py-2 text-xs text-muted-foreground",children:[(0,b.jsxs)("span",{children:["Step ",z+1," of ",t]}),(0,b.jsx)("div",{className:"flex items-center gap-1",role:"tablist","aria-label":"Tour progress",children:q.map((a,c)=>(0,b.jsx)("span",{className:(0,n.cn)("h-2 w-2 rounded-full transition",c===z?"bg-foreground":"bg-muted"),role:"tab","aria-selected":c===z,"aria-label":`Step ${c+1}`},c))})]}),(0,b.jsxs)(m.DialogFooter,{className:"gap-2",children:[(0,b.jsx)(d.Button,{type:"button",variant:"ghost",size:"sm",className:"text-muted-foreground",onClick:()=>{i.default.capture("tour-skipped",{tour_title:a,step_index:z,step_title:E?.title,total_steps:t}),x()},children:"Skip tour"}),z>0&&(0,b.jsxs)(d.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{i.default.capture("tour-step-navigated",{tour_title:a,direction:"previous",from_step_index:z,from_step_title:E?.title,total_steps:t}),w()},"aria-label":"Go to previous step",children:[(0,b.jsx)(l.ArrowLeft,{className:"mr-1 h-4 w-4","aria-hidden":"true"}),"Back"]}),(0,b.jsxs)(d.Button,{type:"button",size:"sm",className:"ml-auto text-white shadow hover:opacity-90",style:{backgroundColor:B},onClick:()=>{C?(i.default.capture("tour-finished",{tour_title:a,total_steps:t}),y()):(i.default.capture("tour-step-navigated",{tour_title:a,direction:"next",from_step_index:z,from_step_title:E?.title,total_steps:t}),v())},"aria-label":C?"Finish tour":"Go to next step",children:[C?"Finish":"Next",!C&&(0,b.jsx)(k.ArrowRight,{className:"ml-1 h-4 w-4","aria-hidden":"true"})]})]})]})})]})}a.s(["SectionTourDialog",()=>p],39288);var q=a.i(79697);function r({section:a,steps:b,autoTrigger:c=!0,enabled:d=!0}){let[e,f]=(0,h.useState)(!1),[g,i]=(0,h.useState)(0),[j,k]=(0,h.useState)(null);(0,h.useRef)([]),(0,h.useEffect)(()=>{if(!d)return;let e=(0,q.hasSeenSectionOnboarding)(a);if(c&&!e&&b.length>0){let a=setTimeout(()=>{f(!0),i(0),l(0)},300);return()=>clearTimeout(a)}},[a,c,d,b.length]);let l=a=>{let c=b[a];c?c.targetRef?.current?k(c.targetRef.current):c.targetSelector?k(document.querySelector(c.targetSelector)||null):k(null):k(null)},m=()=>{f(!1),i(0),k(null),(0,q.markSectionOnboardingSeen)(a)},n=e&&b[g]?b[g]:null,o=g===b.length-1;return{active:e,step:g,currentStep:n,targetElement:j,isLastStep:o,nextStep:()=>{if(g<b.length-1){let a=g+1;i(a),l(a)}else m()},startOnboarding:()=>{f(!0),i(0),l(0)},endOnboarding:m}}a.s(["useSectionOnboarding",()=>r],12769);let s={notes:[{id:"capture",title:"Capture your thoughts",description:"Use the quick capture bar to add notes, files, or voice recordings. Everything you add is automatically tagged and organized."},{id:"auto-tagging",title:"Auto-tagging",description:"We analyze your notes and add relevant tags automatically. You can also add your own tags to organize your thoughts."},{id:"archive",title:"Archive what doesn't fit",description:"Swipe left or use the Nope action to archive notes that don't fit your current workflow. Nothing is permanently deleted—you can restore items later."}],mindstorm:[{id:"clusters",title:"Related ideas grouped together",description:"AI analyzes your notes and groups similar ideas into clusters. Related thoughts appear together, making connections easier to spot."},{id:"recluster",title:"Refresh clusters anytime",description:"Click 'Re-cluster now' to update groupings when you add new notes. Clusters improve as you add more content."}],stacks:[{id:"collections",title:"Collections of related notes",description:"Stacks are groups of notes organized by topic, project, or theme. Browse your collections to find what you need."},{id:"tags",title:"Tags organize everything",description:"Notes are automatically grouped by tags and categories. Similar tags create related stacks you can browse."},{id:"pin",title:"Pin important stacks",description:"Pin stacks you use frequently for quick access. Pinned stacks appear at the top of your list."}],vault:[{id:"private-storage",title:"Private, encrypted storage",description:"Your vault encrypts notes on your device before uploading. Only you can read them—we never see your plaintext content."},{id:"unlock",title:"Unlock with your password",description:"Enter your vault password to unlock and view your encrypted notes. Keys are derived from your password and never stored on our servers."}],insights:[{id:"summaries",title:"Weekly summaries",description:"Insights highlight patterns in your thinking. See trends, recurring themes, and activity across your notes."},{id:"generate",title:"Generate insights anytime",description:"Click 'Generate Summary' to create insights from your recent notes. Insights help you discover connections you might have missed."}],memory:[{id:"timeline",title:"Your note-taking timeline",description:"Memory Lane shows your notes organized by time. See what you were thinking across weeks and months."},{id:"rediscover",title:"Rediscover forgotten ideas",description:"Browse past notes to resurface ideas you've set aside. Temporal organization helps you find notes by when you captured them."}],nope:[{id:"archived",title:"Archived notes",description:"Nope Bin holds notes you've set aside. Nothing is permanently deleted—your archived notes stay here until you restore them."},{id:"restore",title:"Restore anytime",description:"Click 'Restore' on any archived note to bring it back to your main notes. Your archived notes are always recoverable."}]},t={notes:[{title:"Capture your thoughts",description:"Use the quick capture bar to add notes, files, or voice recordings. Everything you add is automatically tagged and organized.",targetSelector:'[data-onboarding="quick-capture"]',position:"bottom"},{title:"Auto-tagging",description:"We analyze your notes and add relevant tags automatically. You can also add your own tags to organize your thoughts.",targetSelector:'[data-onboarding="tags"]',position:"bottom"},{title:"Archive what doesn't fit",description:"Swipe left or use the Nope action to archive notes that don't fit your current workflow. Nothing is permanently deleted—you can restore items later.",targetSelector:'[data-onboarding="nope-action"]',position:"top"}],mindstorm:[{title:"Related ideas grouped together",description:"AI analyzes your notes and groups similar ideas into clusters. Related thoughts appear together, making connections easier to spot.",targetSelector:'[data-onboarding="clusters"]',position:"bottom"},{title:"Refresh clusters anytime",description:"Click 'Re-cluster now' to update groupings when you add new notes. Clusters improve as you add more content.",targetSelector:'[data-onboarding="recluster-button"]',position:"left"}],stacks:[{title:"Collections of related notes",description:"Stacks are groups of notes organized by topic, project, or theme. Browse your collections to find what you need.",targetSelector:'[data-onboarding="stacks"]',position:"bottom"},{title:"Tags organize everything",description:"Notes are automatically grouped by tags and categories. Similar tags create related stacks you can browse.",targetSelector:'[data-onboarding="tags"]',position:"bottom"},{title:"Pin important stacks",description:"Pin stacks you use frequently for quick access. Pinned stacks appear at the top of your list.",targetSelector:'[data-onboarding="pin-button"]',position:"left"}],vault:[{title:"Private, encrypted storage",description:"Your vault encrypts notes on your device before uploading. Only you can read them—we never see your plaintext content.",targetSelector:'[data-onboarding="vault-lock"]',position:"bottom"},{title:"Unlock with your password",description:"Enter your vault password to unlock and view your encrypted notes. Keys are derived from your password and never stored on our servers.",targetSelector:'[data-onboarding="unlock-button"]',position:"top"}],insights:[{title:"Weekly summaries",description:"Insights highlight patterns in your thinking. See trends, recurring themes, and activity across your notes.",targetSelector:'[data-onboarding="insights"]',position:"bottom"},{title:"Generate insights anytime",description:"Click 'Generate Summary' to create insights from your recent notes. Insights help you discover connections you might have missed.",targetSelector:'[data-onboarding="generate-button"]',position:"left"}],memory:[{title:"Your note-taking timeline",description:"Memory Lane shows your notes organized by time. See what you were thinking across weeks and months.",targetSelector:'[data-onboarding="timeline"]',position:"bottom"},{title:"Rediscover forgotten ideas",description:"Browse past notes to resurface ideas you've set aside. Temporal organization helps you find notes by when you captured them.",targetSelector:'[data-onboarding="memory-items"]',position:"bottom"}],nope:[{title:"Archived notes",description:"Nope Bin holds notes you've set aside. Nothing is permanently deleted—your archived notes stay here until you restore them.",targetSelector:'[data-onboarding="nope-items"]',position:"bottom"},{title:"Restore anytime",description:"Click 'Restore' on any archived note to bring it back to your main notes. Your archived notes are always recoverable.",targetSelector:'[data-onboarding="restore-button"]',position:"left"}]};function u(a){return t[a]||[]}function v(a){return s[a]||[]}a.s(["getDialogTourSteps",()=>v,"getOnboardingSteps",()=>u],53364)}];

//# sourceMappingURL=_4c00ca0a._.js.map