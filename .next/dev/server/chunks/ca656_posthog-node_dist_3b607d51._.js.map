{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/posthog-node%405.11.2/node_modules/posthog-node/dist/extensions/error-tracking/modifiers/module.node.mjs"],"sourcesContent":["import { dirname, posix, sep } from \"path\";\nfunction createModulerModifier() {\n    const getModuleFromFileName = createGetModuleFromFilename();\n    return async (frames)=>{\n        for (const frame of frames)frame.module = getModuleFromFileName(frame.filename);\n        return frames;\n    };\n}\nfunction createGetModuleFromFilename(basePath = process.argv[1] ? dirname(process.argv[1]) : process.cwd(), isWindows = '\\\\' === sep) {\n    const normalizedBase = isWindows ? normalizeWindowsPath(basePath) : basePath;\n    return (filename)=>{\n        if (!filename) return;\n        const normalizedFilename = isWindows ? normalizeWindowsPath(filename) : filename;\n        let { dir, base: file, ext } = posix.parse(normalizedFilename);\n        if ('.js' === ext || '.mjs' === ext || '.cjs' === ext) file = file.slice(0, -1 * ext.length);\n        const decodedFile = decodeURIComponent(file);\n        if (!dir) dir = '.';\n        const n = dir.lastIndexOf('/node_modules');\n        if (n > -1) return `${dir.slice(n + 14).replace(/\\//g, '.')}:${decodedFile}`;\n        if (dir.startsWith(normalizedBase)) {\n            const moduleName = dir.slice(normalizedBase.length + 1).replace(/\\//g, '.');\n            return moduleName ? `${moduleName}:${decodedFile}` : decodedFile;\n        }\n        return decodedFile;\n    };\n}\nfunction normalizeWindowsPath(path) {\n    return path.replace(/^[A-Z]:/, '').replace(/\\\\/g, '/');\n}\nexport { createModulerModifier };\n"],"names":[],"mappings":";;;;AAAA;;AACA,SAAS;IACL,MAAM,wBAAwB;IAC9B,OAAO,OAAO;QACV,KAAK,MAAM,SAAS,OAAO,MAAM,MAAM,GAAG,sBAAsB,MAAM,QAAQ;QAC9E,OAAO;IACX;AACJ;AACA,SAAS,4BAA4B,WAAW,QAAQ,IAAI,CAAC,EAAE,GAAG,IAAA,4GAAO,EAAC,QAAQ,IAAI,CAAC,EAAE,IAAI,QAAQ,GAAG,EAAE,EAAE,YAAY,SAAS,wGAAG;IAChI,MAAM,iBAAiB,YAAY,qBAAqB,YAAY;IACpE,OAAO,CAAC;QACJ,IAAI,CAAC,UAAU;QACf,MAAM,qBAAqB,YAAY,qBAAqB,YAAY;QACxE,IAAI,EAAE,GAAG,EAAE,MAAM,IAAI,EAAE,GAAG,EAAE,GAAG,0GAAK,CAAC,KAAK,CAAC;QAC3C,IAAI,UAAU,OAAO,WAAW,OAAO,WAAW,KAAK,OAAO,KAAK,KAAK,CAAC,GAAG,CAAC,IAAI,IAAI,MAAM;QAC3F,MAAM,cAAc,mBAAmB;QACvC,IAAI,CAAC,KAAK,MAAM;QAChB,MAAM,IAAI,IAAI,WAAW,CAAC;QAC1B,IAAI,IAAI,CAAC,GAAG,OAAO,GAAG,IAAI,KAAK,CAAC,IAAI,IAAI,OAAO,CAAC,OAAO,KAAK,CAAC,EAAE,aAAa;QAC5E,IAAI,IAAI,UAAU,CAAC,iBAAiB;YAChC,MAAM,aAAa,IAAI,KAAK,CAAC,eAAe,MAAM,GAAG,GAAG,OAAO,CAAC,OAAO;YACvE,OAAO,aAAa,GAAG,WAAW,CAAC,EAAE,aAAa,GAAG;QACzD;QACA,OAAO;IACX;AACJ;AACA,SAAS,qBAAqB,IAAI;IAC9B,OAAO,KAAK,OAAO,CAAC,WAAW,IAAI,OAAO,CAAC,OAAO;AACtD","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/posthog-node%405.11.2/node_modules/posthog-node/dist/extensions/error-tracking/modifiers/context-lines.node.mjs"],"sourcesContent":["import { ErrorTracking } from \"@posthog/core\";\nimport { createReadStream } from \"node:fs\";\nimport { createInterface } from \"node:readline\";\nconst LRU_FILE_CONTENTS_CACHE = new ErrorTracking.ReduceableCache(25);\nconst LRU_FILE_CONTENTS_FS_READ_FAILED = new ErrorTracking.ReduceableCache(20);\nconst DEFAULT_LINES_OF_CONTEXT = 7;\nconst MAX_CONTEXTLINES_COLNO = 1000;\nconst MAX_CONTEXTLINES_LINENO = 10000;\nasync function addSourceContext(frames) {\n    const filesToLines = {};\n    for(let i = frames.length - 1; i >= 0; i--){\n        const frame = frames[i];\n        const filename = frame?.filename;\n        if (!frame || 'string' != typeof filename || 'number' != typeof frame.lineno || shouldSkipContextLinesForFile(filename) || shouldSkipContextLinesForFrame(frame)) continue;\n        const filesToLinesOutput = filesToLines[filename];\n        if (!filesToLinesOutput) filesToLines[filename] = [];\n        filesToLines[filename].push(frame.lineno);\n    }\n    const files = Object.keys(filesToLines);\n    if (0 == files.length) return frames;\n    const readlinePromises = [];\n    for (const file of files){\n        if (LRU_FILE_CONTENTS_FS_READ_FAILED.get(file)) continue;\n        const filesToLineRanges = filesToLines[file];\n        if (!filesToLineRanges) continue;\n        filesToLineRanges.sort((a, b)=>a - b);\n        const ranges = makeLineReaderRanges(filesToLineRanges);\n        if (ranges.every((r)=>rangeExistsInContentCache(file, r))) continue;\n        const cache = emplace(LRU_FILE_CONTENTS_CACHE, file, {});\n        readlinePromises.push(getContextLinesFromFile(file, ranges, cache));\n    }\n    await Promise.all(readlinePromises).catch(()=>{});\n    if (frames && frames.length > 0) addSourceContextToFrames(frames, LRU_FILE_CONTENTS_CACHE);\n    LRU_FILE_CONTENTS_CACHE.reduce();\n    return frames;\n}\nfunction getContextLinesFromFile(path, ranges, output) {\n    return new Promise((resolve)=>{\n        const stream = createReadStream(path);\n        const lineReaded = createInterface({\n            input: stream\n        });\n        function destroyStreamAndResolve() {\n            stream.destroy();\n            resolve();\n        }\n        let lineNumber = 0;\n        let currentRangeIndex = 0;\n        const range = ranges[currentRangeIndex];\n        if (void 0 === range) return void destroyStreamAndResolve();\n        let rangeStart = range[0];\n        let rangeEnd = range[1];\n        function onStreamError() {\n            LRU_FILE_CONTENTS_FS_READ_FAILED.set(path, 1);\n            lineReaded.close();\n            lineReaded.removeAllListeners();\n            destroyStreamAndResolve();\n        }\n        stream.on('error', onStreamError);\n        lineReaded.on('error', onStreamError);\n        lineReaded.on('close', destroyStreamAndResolve);\n        lineReaded.on('line', (line)=>{\n            lineNumber++;\n            if (lineNumber < rangeStart) return;\n            output[lineNumber] = snipLine(line, 0);\n            if (lineNumber >= rangeEnd) {\n                if (currentRangeIndex === ranges.length - 1) {\n                    lineReaded.close();\n                    lineReaded.removeAllListeners();\n                    return;\n                }\n                currentRangeIndex++;\n                const range = ranges[currentRangeIndex];\n                if (void 0 === range) {\n                    lineReaded.close();\n                    lineReaded.removeAllListeners();\n                    return;\n                }\n                rangeStart = range[0];\n                rangeEnd = range[1];\n            }\n        });\n    });\n}\nfunction addSourceContextToFrames(frames, cache) {\n    for (const frame of frames)if (frame.filename && void 0 === frame.context_line && 'number' == typeof frame.lineno) {\n        const contents = cache.get(frame.filename);\n        if (void 0 === contents) continue;\n        addContextToFrame(frame.lineno, frame, contents);\n    }\n}\nfunction addContextToFrame(lineno, frame, contents) {\n    if (void 0 === frame.lineno || void 0 === contents) return;\n    frame.pre_context = [];\n    for(let i = makeRangeStart(lineno); i < lineno; i++){\n        const line = contents[i];\n        if (void 0 === line) return void clearLineContext(frame);\n        frame.pre_context.push(line);\n    }\n    if (void 0 === contents[lineno]) return void clearLineContext(frame);\n    frame.context_line = contents[lineno];\n    const end = makeRangeEnd(lineno);\n    frame.post_context = [];\n    for(let i = lineno + 1; i <= end; i++){\n        const line = contents[i];\n        if (void 0 === line) break;\n        frame.post_context.push(line);\n    }\n}\nfunction clearLineContext(frame) {\n    delete frame.pre_context;\n    delete frame.context_line;\n    delete frame.post_context;\n}\nfunction shouldSkipContextLinesForFile(path) {\n    return path.startsWith('node:') || path.endsWith('.min.js') || path.endsWith('.min.cjs') || path.endsWith('.min.mjs') || path.startsWith('data:');\n}\nfunction shouldSkipContextLinesForFrame(frame) {\n    if (void 0 !== frame.lineno && frame.lineno > MAX_CONTEXTLINES_LINENO) return true;\n    if (void 0 !== frame.colno && frame.colno > MAX_CONTEXTLINES_COLNO) return true;\n    return false;\n}\nfunction rangeExistsInContentCache(file, range) {\n    const contents = LRU_FILE_CONTENTS_CACHE.get(file);\n    if (void 0 === contents) return false;\n    for(let i = range[0]; i <= range[1]; i++)if (void 0 === contents[i]) return false;\n    return true;\n}\nfunction makeLineReaderRanges(lines) {\n    if (!lines.length) return [];\n    let i = 0;\n    const line = lines[0];\n    if ('number' != typeof line) return [];\n    let current = makeContextRange(line);\n    const out = [];\n    while(true){\n        if (i === lines.length - 1) {\n            out.push(current);\n            break;\n        }\n        const next = lines[i + 1];\n        if ('number' != typeof next) break;\n        if (next <= current[1]) current[1] = next + DEFAULT_LINES_OF_CONTEXT;\n        else {\n            out.push(current);\n            current = makeContextRange(next);\n        }\n        i++;\n    }\n    return out;\n}\nfunction makeContextRange(line) {\n    return [\n        makeRangeStart(line),\n        makeRangeEnd(line)\n    ];\n}\nfunction makeRangeStart(line) {\n    return Math.max(1, line - DEFAULT_LINES_OF_CONTEXT);\n}\nfunction makeRangeEnd(line) {\n    return line + DEFAULT_LINES_OF_CONTEXT;\n}\nfunction emplace(map, key, contents) {\n    const value = map.get(key);\n    if (void 0 === value) {\n        map.set(key, contents);\n        return contents;\n    }\n    return value;\n}\nfunction snipLine(line, colno) {\n    let newLine = line;\n    const lineLength = newLine.length;\n    if (lineLength <= 150) return newLine;\n    if (colno > lineLength) colno = lineLength;\n    let start = Math.max(colno - 60, 0);\n    if (start < 5) start = 0;\n    let end = Math.min(start + 140, lineLength);\n    if (end > lineLength - 5) end = lineLength;\n    if (end === lineLength) start = Math.max(end - 140, 0);\n    newLine = newLine.slice(start, end);\n    if (start > 0) newLine = `...${newLine}`;\n    if (end < lineLength) newLine += '...';\n    return newLine;\n}\nexport { MAX_CONTEXTLINES_COLNO, MAX_CONTEXTLINES_LINENO, addSourceContext };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/posthog-node%405.11.2/node_modules/posthog-node/dist/extensions/error-tracking/autocapture.mjs"],"sourcesContent":["function makeUncaughtExceptionHandler(captureFn, onFatalFn) {\n    let calledFatalError = false;\n    return Object.assign((error)=>{\n        const userProvidedListenersCount = global.process.listeners('uncaughtException').filter((listener)=>'domainUncaughtExceptionClear' !== listener.name && true !== listener._posthogErrorHandler).length;\n        const processWouldExit = 0 === userProvidedListenersCount;\n        captureFn(error, {\n            mechanism: {\n                type: 'onuncaughtexception',\n                handled: false\n            }\n        });\n        if (!calledFatalError && processWouldExit) {\n            calledFatalError = true;\n            onFatalFn(error);\n        }\n    }, {\n        _posthogErrorHandler: true\n    });\n}\nfunction addUncaughtExceptionListener(captureFn, onFatalFn) {\n    global.process.on('uncaughtException', makeUncaughtExceptionHandler(captureFn, onFatalFn));\n}\nfunction addUnhandledRejectionListener(captureFn) {\n    global.process.on('unhandledRejection', (reason)=>captureFn(reason, {\n            mechanism: {\n                type: 'onunhandledrejection',\n                handled: false\n            }\n        }));\n}\nexport { addUncaughtExceptionListener, addUnhandledRejectionListener };\n"],"names":[],"mappings":";;;;;;AAAA,SAAS,6BAA6B,SAAS,EAAE,SAAS;IACtD,IAAI,mBAAmB;IACvB,OAAO,OAAO,MAAM,CAAC,CAAC;QAClB,MAAM,6BAA6B,yDAAO,OAAO,CAAC,SAAS,CAAC,qBAAqB,MAAM,CAAC,CAAC,WAAW,mCAAmC,SAAS,IAAI,IAAI,SAAS,SAAS,oBAAoB,EAAE,MAAM;QACtM,MAAM,mBAAmB,MAAM;QAC/B,UAAU,OAAO;YACb,WAAW;gBACP,MAAM;gBACN,SAAS;YACb;QACJ;QACA,IAAI,CAAC,oBAAoB,kBAAkB;YACvC,mBAAmB;YACnB,UAAU;QACd;IACJ,GAAG;QACC,sBAAsB;IAC1B;AACJ;AACA,SAAS,6BAA6B,SAAS,EAAE,SAAS;IACtD,yDAAO,OAAO,CAAC,EAAE,CAAC,qBAAqB,6BAA6B,WAAW;AACnF;AACA,SAAS,8BAA8B,SAAS;IAC5C,yDAAO,OAAO,CAAC,EAAE,CAAC,sBAAsB,CAAC,SAAS,UAAU,QAAQ;YAC5D,WAAW;gBACP,MAAM;gBACN,SAAS;YACb;QACJ;AACR","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/posthog-node%405.11.2/node_modules/posthog-node/dist/extensions/error-tracking/index.mjs"],"sourcesContent":["import { addUncaughtExceptionListener, addUnhandledRejectionListener } from \"./autocapture.mjs\";\nimport { BucketedRateLimiter, uuidv7 } from \"@posthog/core\";\nconst SHUTDOWN_TIMEOUT = 2000;\nclass ErrorTracking {\n    constructor(client, options, _logger){\n        this.client = client;\n        this._exceptionAutocaptureEnabled = options.enableExceptionAutocapture || false;\n        this._logger = _logger;\n        this._rateLimiter = new BucketedRateLimiter({\n            refillRate: 1,\n            bucketSize: 10,\n            refillInterval: 10000,\n            _logger: this._logger\n        });\n        this.startAutocaptureIfEnabled();\n    }\n    static async buildEventMessage(error, hint, distinctId, additionalProperties) {\n        const properties = {\n            ...additionalProperties\n        };\n        if (!distinctId) properties.$process_person_profile = false;\n        const exceptionProperties = this.errorPropertiesBuilder.buildFromUnknown(error, hint);\n        exceptionProperties.$exception_list = await this.errorPropertiesBuilder.modifyFrames(exceptionProperties.$exception_list);\n        return {\n            event: '$exception',\n            distinctId: distinctId || uuidv7(),\n            properties: {\n                ...exceptionProperties,\n                ...properties\n            }\n        };\n    }\n    startAutocaptureIfEnabled() {\n        if (this.isEnabled()) {\n            addUncaughtExceptionListener(this.onException.bind(this), this.onFatalError.bind(this));\n            addUnhandledRejectionListener(this.onException.bind(this));\n        }\n    }\n    onException(exception, hint) {\n        this.client.addPendingPromise((async ()=>{\n            const eventMessage = await ErrorTracking.buildEventMessage(exception, hint);\n            const exceptionProperties = eventMessage.properties;\n            const exceptionType = exceptionProperties?.$exception_list[0]?.type ?? 'Exception';\n            const isRateLimited = this._rateLimiter.consumeRateLimit(exceptionType);\n            if (isRateLimited) return void this._logger.info('Skipping exception capture because of client rate limiting.', {\n                exception: exceptionType\n            });\n            return this.client.capture(eventMessage);\n        })());\n    }\n    async onFatalError(exception) {\n        console.error(exception);\n        await this.client.shutdown(SHUTDOWN_TIMEOUT);\n        process.exit(1);\n    }\n    isEnabled() {\n        return !this.client.isDisabled && this._exceptionAutocaptureEnabled;\n    }\n    shutdown() {\n        this._rateLimiter.stop();\n    }\n}\nexport { ErrorTracking as default };\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAAA;;;AACA,MAAM,mBAAmB;AACzB,MAAM;IACF,YAAY,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC;QACjC,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,4BAA4B,GAAG,QAAQ,0BAA0B,IAAI;QAC1E,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,YAAY,GAAG,IAAI,yQAAmB,CAAC;YACxC,YAAY;YACZ,YAAY;YACZ,gBAAgB;YAChB,SAAS,IAAI,CAAC,OAAO;QACzB;QACA,IAAI,CAAC,yBAAyB;IAClC;IACA,aAAa,kBAAkB,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,oBAAoB,EAAE;QAC1E,MAAM,aAAa;YACf,GAAG,oBAAoB;QAC3B;QACA,IAAI,CAAC,YAAY,WAAW,uBAAuB,GAAG;QACtD,MAAM,sBAAsB,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,CAAC,OAAO;QAChF,oBAAoB,eAAe,GAAG,MAAM,IAAI,CAAC,sBAAsB,CAAC,YAAY,CAAC,oBAAoB,eAAe;QACxH,OAAO;YACH,OAAO;YACP,YAAY,cAAc,IAAA,wOAAM;YAChC,YAAY;gBACR,GAAG,mBAAmB;gBACtB,GAAG,UAAU;YACjB;QACJ;IACJ;IACA,4BAA4B;QACxB,IAAI,IAAI,CAAC,SAAS,IAAI;YAClB,IAAA,yRAA4B,EAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI;YACrF,IAAA,0RAA6B,EAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI;QAC5D;IACJ;IACA,YAAY,SAAS,EAAE,IAAI,EAAE;QACzB,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;YAC3B,MAAM,eAAe,MAAM,cAAc,iBAAiB,CAAC,WAAW;YACtE,MAAM,sBAAsB,aAAa,UAAU;YACnD,MAAM,gBAAgB,qBAAqB,eAAe,CAAC,EAAE,EAAE,QAAQ;YACvE,MAAM,gBAAgB,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC;YACzD,IAAI,eAAe,OAAO,KAAK,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,+DAA+D;gBAC5G,WAAW;YACf;YACA,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;QAC/B,CAAC;IACL;IACA,MAAM,aAAa,SAAS,EAAE;QAC1B,QAAQ,KAAK,CAAC;QACd,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;QAC3B,QAAQ,IAAI,CAAC;IACjB;IACA,YAAY;QACR,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,IAAI,IAAI,CAAC,4BAA4B;IACvE;IACA,WAAW;QACP,IAAI,CAAC,YAAY,CAAC,IAAI;IAC1B;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/posthog-node%405.11.2/node_modules/posthog-node/dist/version.mjs"],"sourcesContent":["const version = '5.11.2';\nexport { version };\n"],"names":[],"mappings":";;;;AAAA,MAAM,UAAU","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 372, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/posthog-node%405.11.2/node_modules/posthog-node/dist/extensions/feature-flags/crypto.mjs"],"sourcesContent":["async function hashSHA1(text) {\n    const subtle = globalThis.crypto?.subtle;\n    if (!subtle) throw new Error('SubtleCrypto API not available');\n    const hashBuffer = await subtle.digest('SHA-1', new TextEncoder().encode(text));\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    return hashArray.map((byte)=>byte.toString(16).padStart(2, '0')).join('');\n}\nexport { hashSHA1 };\n"],"names":[],"mappings":";;;;AAAA,eAAe,SAAS,IAAI;IACxB,MAAM,SAAS,WAAW,MAAM,EAAE;IAClC,IAAI,CAAC,QAAQ,MAAM,IAAI,MAAM;IAC7B,MAAM,aAAa,MAAM,OAAO,MAAM,CAAC,SAAS,IAAI,cAAc,MAAM,CAAC;IACzE,MAAM,YAAY,MAAM,IAAI,CAAC,IAAI,WAAW;IAC5C,OAAO,UAAU,GAAG,CAAC,CAAC,OAAO,KAAK,QAAQ,CAAC,IAAI,QAAQ,CAAC,GAAG,MAAM,IAAI,CAAC;AAC1E","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/posthog-node%405.11.2/node_modules/posthog-node/dist/extensions/feature-flags/feature-flags.mjs"],"sourcesContent":["import { safeSetTimeout } from \"@posthog/core\";\nimport { hashSHA1 } from \"./crypto.mjs\";\nconst SIXTY_SECONDS = 60000;\nconst LONG_SCALE = 0xfffffffffffffff;\nconst NULL_VALUES_ALLOWED_OPERATORS = [\n    'is_not'\n];\nclass ClientError extends Error {\n    constructor(message){\n        super();\n        Error.captureStackTrace(this, this.constructor);\n        this.name = 'ClientError';\n        this.message = message;\n        Object.setPrototypeOf(this, ClientError.prototype);\n    }\n}\nclass InconclusiveMatchError extends Error {\n    constructor(message){\n        super(message);\n        this.name = this.constructor.name;\n        Error.captureStackTrace(this, this.constructor);\n        Object.setPrototypeOf(this, InconclusiveMatchError.prototype);\n    }\n}\nclass RequiresServerEvaluation extends Error {\n    constructor(message){\n        super(message);\n        this.name = this.constructor.name;\n        Error.captureStackTrace(this, this.constructor);\n        Object.setPrototypeOf(this, RequiresServerEvaluation.prototype);\n    }\n}\nclass FeatureFlagsPoller {\n    constructor({ pollingInterval, personalApiKey, projectApiKey, timeout, host, customHeaders, ...options }){\n        this.debugMode = false;\n        this.shouldBeginExponentialBackoff = false;\n        this.backOffCount = 0;\n        this.pollingInterval = pollingInterval;\n        this.personalApiKey = personalApiKey;\n        this.featureFlags = [];\n        this.featureFlagsByKey = {};\n        this.groupTypeMapping = {};\n        this.cohorts = {};\n        this.loadedSuccessfullyOnce = false;\n        this.timeout = timeout;\n        this.projectApiKey = projectApiKey;\n        this.host = host;\n        this.poller = void 0;\n        this.fetch = options.fetch || fetch;\n        this.onError = options.onError;\n        this.customHeaders = customHeaders;\n        this.onLoad = options.onLoad;\n        this.loadFeatureFlags();\n    }\n    debug(enabled = true) {\n        this.debugMode = enabled;\n    }\n    logMsgIfDebug(fn) {\n        if (this.debugMode) fn();\n    }\n    async getFeatureFlag(key, distinctId, groups = {}, personProperties = {}, groupProperties = {}) {\n        await this.loadFeatureFlags();\n        let response;\n        let featureFlag;\n        if (!this.loadedSuccessfullyOnce) return response;\n        featureFlag = this.featureFlagsByKey[key];\n        if (void 0 !== featureFlag) try {\n            const result = await this.computeFlagAndPayloadLocally(featureFlag, distinctId, groups, personProperties, groupProperties);\n            response = result.value;\n            this.logMsgIfDebug(()=>console.debug(`Successfully computed flag locally: ${key} -> ${response}`));\n        } catch (e) {\n            if (e instanceof RequiresServerEvaluation || e instanceof InconclusiveMatchError) this.logMsgIfDebug(()=>console.debug(`${e.name} when computing flag locally: ${key}: ${e.message}`));\n            else if (e instanceof Error) this.onError?.(new Error(`Error computing flag locally: ${key}: ${e}`));\n        }\n        return response;\n    }\n    async getAllFlagsAndPayloads(distinctId, groups = {}, personProperties = {}, groupProperties = {}, flagKeysToExplicitlyEvaluate) {\n        await this.loadFeatureFlags();\n        const response = {};\n        const payloads = {};\n        let fallbackToFlags = 0 == this.featureFlags.length;\n        const flagsToEvaluate = flagKeysToExplicitlyEvaluate ? flagKeysToExplicitlyEvaluate.map((key)=>this.featureFlagsByKey[key]).filter(Boolean) : this.featureFlags;\n        const sharedEvaluationCache = {};\n        await Promise.all(flagsToEvaluate.map(async (flag)=>{\n            try {\n                const { value: matchValue, payload: matchPayload } = await this.computeFlagAndPayloadLocally(flag, distinctId, groups, personProperties, groupProperties, void 0, sharedEvaluationCache);\n                response[flag.key] = matchValue;\n                if (matchPayload) payloads[flag.key] = matchPayload;\n            } catch (e) {\n                if (e instanceof RequiresServerEvaluation || e instanceof InconclusiveMatchError) this.logMsgIfDebug(()=>console.debug(`${e.name} when computing flag locally: ${flag.key}: ${e.message}`));\n                else if (e instanceof Error) this.onError?.(new Error(`Error computing flag locally: ${flag.key}: ${e}`));\n                fallbackToFlags = true;\n            }\n        }));\n        return {\n            response,\n            payloads,\n            fallbackToFlags\n        };\n    }\n    async computeFlagAndPayloadLocally(flag, distinctId, groups = {}, personProperties = {}, groupProperties = {}, matchValue, evaluationCache, skipLoadCheck = false) {\n        if (!skipLoadCheck) await this.loadFeatureFlags();\n        if (!this.loadedSuccessfullyOnce) return {\n            value: false,\n            payload: null\n        };\n        let flagValue;\n        flagValue = void 0 !== matchValue ? matchValue : await this.computeFlagValueLocally(flag, distinctId, groups, personProperties, groupProperties, evaluationCache);\n        const payload = this.getFeatureFlagPayload(flag.key, flagValue);\n        return {\n            value: flagValue,\n            payload\n        };\n    }\n    async computeFlagValueLocally(flag, distinctId, groups = {}, personProperties = {}, groupProperties = {}, evaluationCache = {}) {\n        if (flag.ensure_experience_continuity) throw new InconclusiveMatchError('Flag has experience continuity enabled');\n        if (!flag.active) return false;\n        const flagFilters = flag.filters || {};\n        const aggregation_group_type_index = flagFilters.aggregation_group_type_index;\n        if (void 0 == aggregation_group_type_index) return await this.matchFeatureFlagProperties(flag, distinctId, personProperties, evaluationCache);\n        {\n            const groupName = this.groupTypeMapping[String(aggregation_group_type_index)];\n            if (!groupName) {\n                this.logMsgIfDebug(()=>console.warn(`[FEATURE FLAGS] Unknown group type index ${aggregation_group_type_index} for feature flag ${flag.key}`));\n                throw new InconclusiveMatchError('Flag has unknown group type index');\n            }\n            if (!(groupName in groups)) {\n                this.logMsgIfDebug(()=>console.warn(`[FEATURE FLAGS] Can't compute group feature flag: ${flag.key} without group names passed in`));\n                return false;\n            }\n            const focusedGroupProperties = groupProperties[groupName];\n            return await this.matchFeatureFlagProperties(flag, groups[groupName], focusedGroupProperties, evaluationCache);\n        }\n    }\n    getFeatureFlagPayload(key, flagValue) {\n        let payload = null;\n        if (false !== flagValue && null != flagValue) {\n            if ('boolean' == typeof flagValue) payload = this.featureFlagsByKey?.[key]?.filters?.payloads?.[flagValue.toString()] || null;\n            else if ('string' == typeof flagValue) payload = this.featureFlagsByKey?.[key]?.filters?.payloads?.[flagValue] || null;\n            if (null != payload) {\n                if ('object' == typeof payload) return payload;\n                if ('string' == typeof payload) try {\n                    return JSON.parse(payload);\n                } catch  {}\n                return payload;\n            }\n        }\n        return null;\n    }\n    async evaluateFlagDependency(property, distinctId, properties, evaluationCache) {\n        const targetFlagKey = property.key;\n        if (!this.featureFlagsByKey) throw new InconclusiveMatchError('Feature flags not available for dependency evaluation');\n        if (!('dependency_chain' in property)) throw new InconclusiveMatchError(`Flag dependency property for '${targetFlagKey}' is missing required 'dependency_chain' field`);\n        const dependencyChain = property.dependency_chain;\n        if (!Array.isArray(dependencyChain)) throw new InconclusiveMatchError(`Flag dependency property for '${targetFlagKey}' has an invalid 'dependency_chain' (expected array, got ${typeof dependencyChain})`);\n        if (0 === dependencyChain.length) throw new InconclusiveMatchError(`Circular dependency detected for flag '${targetFlagKey}' (empty dependency chain)`);\n        for (const depFlagKey of dependencyChain){\n            if (!(depFlagKey in evaluationCache)) {\n                const depFlag = this.featureFlagsByKey[depFlagKey];\n                if (depFlag) if (depFlag.active) try {\n                    const depResult = await this.matchFeatureFlagProperties(depFlag, distinctId, properties, evaluationCache);\n                    evaluationCache[depFlagKey] = depResult;\n                } catch (error) {\n                    throw new InconclusiveMatchError(`Error evaluating flag dependency '${depFlagKey}' for flag '${targetFlagKey}': ${error}`);\n                }\n                else evaluationCache[depFlagKey] = false;\n                else throw new InconclusiveMatchError(`Missing flag dependency '${depFlagKey}' for flag '${targetFlagKey}'`);\n            }\n            const cachedResult = evaluationCache[depFlagKey];\n            if (null == cachedResult) throw new InconclusiveMatchError(`Dependency '${depFlagKey}' could not be evaluated`);\n        }\n        const targetFlagValue = evaluationCache[targetFlagKey];\n        return this.flagEvaluatesToExpectedValue(property.value, targetFlagValue);\n    }\n    flagEvaluatesToExpectedValue(expectedValue, flagValue) {\n        if ('boolean' == typeof expectedValue) return expectedValue === flagValue || 'string' == typeof flagValue && '' !== flagValue && true === expectedValue;\n        if ('string' == typeof expectedValue) return flagValue === expectedValue;\n        return false;\n    }\n    async matchFeatureFlagProperties(flag, distinctId, properties, evaluationCache = {}) {\n        const flagFilters = flag.filters || {};\n        const flagConditions = flagFilters.groups || [];\n        let isInconclusive = false;\n        let result;\n        for (const condition of flagConditions)try {\n            if (await this.isConditionMatch(flag, distinctId, condition, properties, evaluationCache)) {\n                const variantOverride = condition.variant;\n                const flagVariants = flagFilters.multivariate?.variants || [];\n                result = variantOverride && flagVariants.some((variant)=>variant.key === variantOverride) ? variantOverride : await this.getMatchingVariant(flag, distinctId) || true;\n                break;\n            }\n        } catch (e) {\n            if (e instanceof RequiresServerEvaluation) throw e;\n            if (e instanceof InconclusiveMatchError) isInconclusive = true;\n            else throw e;\n        }\n        if (void 0 !== result) return result;\n        if (isInconclusive) throw new InconclusiveMatchError(\"Can't determine if feature flag is enabled or not with given properties\");\n        return false;\n    }\n    async isConditionMatch(flag, distinctId, condition, properties, evaluationCache = {}) {\n        const rolloutPercentage = condition.rollout_percentage;\n        const warnFunction = (msg)=>{\n            this.logMsgIfDebug(()=>console.warn(msg));\n        };\n        if ((condition.properties || []).length > 0) {\n            for (const prop of condition.properties){\n                const propertyType = prop.type;\n                let matches = false;\n                matches = 'cohort' === propertyType ? matchCohort(prop, properties, this.cohorts, this.debugMode) : 'flag' === propertyType ? await this.evaluateFlagDependency(prop, distinctId, properties, evaluationCache) : matchProperty(prop, properties, warnFunction);\n                if (!matches) return false;\n            }\n            if (void 0 == rolloutPercentage) return true;\n        }\n        if (void 0 != rolloutPercentage && await _hash(flag.key, distinctId) > rolloutPercentage / 100.0) return false;\n        return true;\n    }\n    async getMatchingVariant(flag, distinctId) {\n        const hashValue = await _hash(flag.key, distinctId, 'variant');\n        const matchingVariant = this.variantLookupTable(flag).find((variant)=>hashValue >= variant.valueMin && hashValue < variant.valueMax);\n        if (matchingVariant) return matchingVariant.key;\n    }\n    variantLookupTable(flag) {\n        const lookupTable = [];\n        let valueMin = 0;\n        let valueMax = 0;\n        const flagFilters = flag.filters || {};\n        const multivariates = flagFilters.multivariate?.variants || [];\n        multivariates.forEach((variant)=>{\n            valueMax = valueMin + variant.rollout_percentage / 100.0;\n            lookupTable.push({\n                valueMin,\n                valueMax,\n                key: variant.key\n            });\n            valueMin = valueMax;\n        });\n        return lookupTable;\n    }\n    async loadFeatureFlags(forceReload = false) {\n        if (!this.loadedSuccessfullyOnce || forceReload) await this._loadFeatureFlags();\n    }\n    isLocalEvaluationReady() {\n        return (this.loadedSuccessfullyOnce ?? false) && (this.featureFlags?.length ?? 0) > 0;\n    }\n    getPollingInterval() {\n        if (!this.shouldBeginExponentialBackoff) return this.pollingInterval;\n        return Math.min(SIXTY_SECONDS, this.pollingInterval * 2 ** this.backOffCount);\n    }\n    async _loadFeatureFlags() {\n        if (this.poller) {\n            clearTimeout(this.poller);\n            this.poller = void 0;\n        }\n        this.poller = setTimeout(()=>this._loadFeatureFlags(), this.getPollingInterval());\n        try {\n            const res = await this._requestFeatureFlagDefinitions();\n            if (!res) return;\n            switch(res.status){\n                case 401:\n                    this.shouldBeginExponentialBackoff = true;\n                    this.backOffCount += 1;\n                    throw new ClientError(`Your project key or personal API key is invalid. Setting next polling interval to ${this.getPollingInterval()}ms. More information: https://posthog.com/docs/api#rate-limiting`);\n                case 402:\n                    console.warn('[FEATURE FLAGS] Feature flags quota limit exceeded - unsetting all local flags. Learn more about billing limits at https://posthog.com/docs/billing/limits-alerts');\n                    this.featureFlags = [];\n                    this.featureFlagsByKey = {};\n                    this.groupTypeMapping = {};\n                    this.cohorts = {};\n                    return;\n                case 403:\n                    this.shouldBeginExponentialBackoff = true;\n                    this.backOffCount += 1;\n                    throw new ClientError(`Your personal API key does not have permission to fetch feature flag definitions for local evaluation. Setting next polling interval to ${this.getPollingInterval()}ms. Are you sure you're using the correct personal and Project API key pair? More information: https://posthog.com/docs/api/overview`);\n                case 429:\n                    this.shouldBeginExponentialBackoff = true;\n                    this.backOffCount += 1;\n                    throw new ClientError(`You are being rate limited. Setting next polling interval to ${this.getPollingInterval()}ms. More information: https://posthog.com/docs/api#rate-limiting`);\n                case 200:\n                    {\n                        const responseJson = await res.json() ?? {};\n                        if (!('flags' in responseJson)) return void this.onError?.(new Error(`Invalid response when getting feature flags: ${JSON.stringify(responseJson)}`));\n                        this.featureFlags = responseJson.flags ?? [];\n                        this.featureFlagsByKey = this.featureFlags.reduce((acc, curr)=>(acc[curr.key] = curr, acc), {});\n                        this.groupTypeMapping = responseJson.group_type_mapping || {};\n                        this.cohorts = responseJson.cohorts || {};\n                        this.loadedSuccessfullyOnce = true;\n                        this.shouldBeginExponentialBackoff = false;\n                        this.backOffCount = 0;\n                        this.onLoad?.(this.featureFlags.length);\n                        break;\n                    }\n                default:\n                    return;\n            }\n        } catch (err) {\n            if (err instanceof ClientError) this.onError?.(err);\n        }\n    }\n    getPersonalApiKeyRequestOptions(method = 'GET') {\n        return {\n            method,\n            headers: {\n                ...this.customHeaders,\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${this.personalApiKey}`\n            }\n        };\n    }\n    async _requestFeatureFlagDefinitions() {\n        const url = `${this.host}/api/feature_flag/local_evaluation?token=${this.projectApiKey}&send_cohorts`;\n        const options = this.getPersonalApiKeyRequestOptions();\n        let abortTimeout = null;\n        if (this.timeout && 'number' == typeof this.timeout) {\n            const controller = new AbortController();\n            abortTimeout = safeSetTimeout(()=>{\n                controller.abort();\n            }, this.timeout);\n            options.signal = controller.signal;\n        }\n        try {\n            return await this.fetch(url, options);\n        } finally{\n            clearTimeout(abortTimeout);\n        }\n    }\n    stopPoller() {\n        clearTimeout(this.poller);\n    }\n}\nasync function _hash(key, distinctId, salt = '') {\n    const hashString = await hashSHA1(`${key}.${distinctId}${salt}`);\n    return parseInt(hashString.slice(0, 15), 16) / LONG_SCALE;\n}\nfunction matchProperty(property, propertyValues, warnFunction) {\n    const key = property.key;\n    const value = property.value;\n    const operator = property.operator || 'exact';\n    if (key in propertyValues) {\n        if ('is_not_set' === operator) throw new InconclusiveMatchError(\"Operator is_not_set is not supported\");\n    } else throw new InconclusiveMatchError(`Property ${key} not found in propertyValues`);\n    const overrideValue = propertyValues[key];\n    if (null == overrideValue && !NULL_VALUES_ALLOWED_OPERATORS.includes(operator)) {\n        if (warnFunction) warnFunction(`Property ${key} cannot have a value of null/undefined with the ${operator} operator`);\n        return false;\n    }\n    function computeExactMatch(value, overrideValue) {\n        if (Array.isArray(value)) return value.map((val)=>String(val).toLowerCase()).includes(String(overrideValue).toLowerCase());\n        return String(value).toLowerCase() === String(overrideValue).toLowerCase();\n    }\n    function compare(lhs, rhs, operator) {\n        if ('gt' === operator) return lhs > rhs;\n        if ('gte' === operator) return lhs >= rhs;\n        if ('lt' === operator) return lhs < rhs;\n        if ('lte' === operator) return lhs <= rhs;\n        throw new Error(`Invalid operator: ${operator}`);\n    }\n    switch(operator){\n        case 'exact':\n            return computeExactMatch(value, overrideValue);\n        case 'is_not':\n            return !computeExactMatch(value, overrideValue);\n        case 'is_set':\n            return key in propertyValues;\n        case 'icontains':\n            return String(overrideValue).toLowerCase().includes(String(value).toLowerCase());\n        case 'not_icontains':\n            return !String(overrideValue).toLowerCase().includes(String(value).toLowerCase());\n        case 'regex':\n            return isValidRegex(String(value)) && null !== String(overrideValue).match(String(value));\n        case 'not_regex':\n            return isValidRegex(String(value)) && null === String(overrideValue).match(String(value));\n        case 'gt':\n        case 'gte':\n        case 'lt':\n        case 'lte':\n            {\n                let parsedValue = 'number' == typeof value ? value : null;\n                if ('string' == typeof value) try {\n                    parsedValue = parseFloat(value);\n                } catch (err) {}\n                if (null == parsedValue || null == overrideValue) return compare(String(overrideValue), String(value), operator);\n                if ('string' == typeof overrideValue) return compare(overrideValue, String(value), operator);\n                return compare(overrideValue, parsedValue, operator);\n            }\n        case 'is_date_after':\n        case 'is_date_before':\n            {\n                if ('boolean' == typeof value) throw new InconclusiveMatchError(\"Date operations cannot be performed on boolean values\");\n                let parsedDate = relativeDateParseForFeatureFlagMatching(String(value));\n                if (null == parsedDate) parsedDate = convertToDateTime(value);\n                if (null == parsedDate) throw new InconclusiveMatchError(`Invalid date: ${value}`);\n                const overrideDate = convertToDateTime(overrideValue);\n                if ([\n                    'is_date_before'\n                ].includes(operator)) return overrideDate < parsedDate;\n                return overrideDate > parsedDate;\n            }\n        default:\n            throw new InconclusiveMatchError(`Unknown operator: ${operator}`);\n    }\n}\nfunction checkCohortExists(cohortId, cohortProperties) {\n    if (!(cohortId in cohortProperties)) throw new RequiresServerEvaluation(`cohort ${cohortId} not found in local cohorts - likely a static cohort that requires server evaluation`);\n}\nfunction matchCohort(property, propertyValues, cohortProperties, debugMode = false) {\n    const cohortId = String(property.value);\n    checkCohortExists(cohortId, cohortProperties);\n    const propertyGroup = cohortProperties[cohortId];\n    return matchPropertyGroup(propertyGroup, propertyValues, cohortProperties, debugMode);\n}\nfunction matchPropertyGroup(propertyGroup, propertyValues, cohortProperties, debugMode = false) {\n    if (!propertyGroup) return true;\n    const propertyGroupType = propertyGroup.type;\n    const properties = propertyGroup.values;\n    if (!properties || 0 === properties.length) return true;\n    let errorMatchingLocally = false;\n    if ('values' in properties[0]) {\n        for (const prop of properties)try {\n            const matches = matchPropertyGroup(prop, propertyValues, cohortProperties, debugMode);\n            if ('AND' === propertyGroupType) {\n                if (!matches) return false;\n            } else if (matches) return true;\n        } catch (err) {\n            if (err instanceof RequiresServerEvaluation) throw err;\n            if (err instanceof InconclusiveMatchError) {\n                if (debugMode) console.debug(`Failed to compute property ${prop} locally: ${err}`);\n                errorMatchingLocally = true;\n            } else throw err;\n        }\n        if (errorMatchingLocally) throw new InconclusiveMatchError(\"Can't match cohort without a given cohort property value\");\n        return 'AND' === propertyGroupType;\n    }\n    for (const prop of properties)try {\n        let matches;\n        if ('cohort' === prop.type) matches = matchCohort(prop, propertyValues, cohortProperties, debugMode);\n        else if ('flag' === prop.type) {\n            if (debugMode) console.warn(`[FEATURE FLAGS] Flag dependency filters are not supported in local evaluation. Skipping condition with dependency on flag '${prop.key || 'unknown'}'`);\n            continue;\n        } else matches = matchProperty(prop, propertyValues);\n        const negation = prop.negation || false;\n        if ('AND' === propertyGroupType) {\n            if (!matches && !negation) return false;\n            if (matches && negation) return false;\n        } else {\n            if (matches && !negation) return true;\n            if (!matches && negation) return true;\n        }\n    } catch (err) {\n        if (err instanceof RequiresServerEvaluation) throw err;\n        if (err instanceof InconclusiveMatchError) {\n            if (debugMode) console.debug(`Failed to compute property ${prop} locally: ${err}`);\n            errorMatchingLocally = true;\n        } else throw err;\n    }\n    if (errorMatchingLocally) throw new InconclusiveMatchError(\"can't match cohort without a given cohort property value\");\n    return 'AND' === propertyGroupType;\n}\nfunction isValidRegex(regex) {\n    try {\n        new RegExp(regex);\n        return true;\n    } catch (err) {\n        return false;\n    }\n}\nfunction convertToDateTime(value) {\n    if (value instanceof Date) return value;\n    if ('string' == typeof value || 'number' == typeof value) {\n        const date = new Date(value);\n        if (!isNaN(date.valueOf())) return date;\n        throw new InconclusiveMatchError(`${value} is in an invalid date format`);\n    }\n    throw new InconclusiveMatchError(`The date provided ${value} must be a string, number, or date object`);\n}\nfunction relativeDateParseForFeatureFlagMatching(value) {\n    const regex = /^-?(?<number>[0-9]+)(?<interval>[a-z])$/;\n    const match = value.match(regex);\n    const parsedDt = new Date(new Date().toISOString());\n    if (!match) return null;\n    {\n        if (!match.groups) return null;\n        const number = parseInt(match.groups['number']);\n        if (number >= 10000) return null;\n        const interval = match.groups['interval'];\n        if ('h' == interval) parsedDt.setUTCHours(parsedDt.getUTCHours() - number);\n        else if ('d' == interval) parsedDt.setUTCDate(parsedDt.getUTCDate() - number);\n        else if ('w' == interval) parsedDt.setUTCDate(parsedDt.getUTCDate() - 7 * number);\n        else if ('m' == interval) parsedDt.setUTCMonth(parsedDt.getUTCMonth() - number);\n        else {\n            if ('y' != interval) return null;\n            parsedDt.setUTCFullYear(parsedDt.getUTCFullYear() - number);\n        }\n        return parsedDt;\n    }\n}\nexport { ClientError, FeatureFlagsPoller, InconclusiveMatchError, RequiresServerEvaluation, matchProperty, relativeDateParseForFeatureFlagMatching };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 906, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/posthog-node%405.11.2/node_modules/posthog-node/dist/storage-memory.mjs"],"sourcesContent":["class PostHogMemoryStorage {\n    getProperty(key) {\n        return this._memoryStorage[key];\n    }\n    setProperty(key, value) {\n        this._memoryStorage[key] = null !== value ? value : void 0;\n    }\n    constructor(){\n        this._memoryStorage = {};\n    }\n}\nexport { PostHogMemoryStorage };\n"],"names":[],"mappings":";;;;AAAA,MAAM;IACF,YAAY,GAAG,EAAE;QACb,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI;IACnC;IACA,YAAY,GAAG,EAAE,KAAK,EAAE;QACpB,IAAI,CAAC,cAAc,CAAC,IAAI,GAAG,SAAS,QAAQ,QAAQ,KAAK;IAC7D;IACA,aAAa;QACT,IAAI,CAAC,cAAc,GAAG,CAAC;IAC3B;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 926, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/posthog-node%405.11.2/node_modules/posthog-node/dist/client.mjs"],"sourcesContent":["import { version } from \"./version.mjs\";\nimport { PostHogCoreStateless, getFeatureFlagValue, isBlockedUA, isPlainObject, safeSetTimeout } from \"@posthog/core\";\nimport { FeatureFlagsPoller, InconclusiveMatchError, RequiresServerEvaluation } from \"./extensions/feature-flags/feature-flags.mjs\";\nimport error_tracking from \"./extensions/error-tracking/index.mjs\";\nimport { PostHogMemoryStorage } from \"./storage-memory.mjs\";\nconst MINIMUM_POLLING_INTERVAL = 100;\nconst THIRTY_SECONDS = 30000;\nconst MAX_CACHE_SIZE = 50000;\nclass PostHogBackendClient extends PostHogCoreStateless {\n    constructor(apiKey, options = {}){\n        super(apiKey, options), this._memoryStorage = new PostHogMemoryStorage();\n        this.options = options;\n        this.options.featureFlagsPollingInterval = 'number' == typeof options.featureFlagsPollingInterval ? Math.max(options.featureFlagsPollingInterval, MINIMUM_POLLING_INTERVAL) : THIRTY_SECONDS;\n        if (options.personalApiKey) {\n            if (options.personalApiKey.includes('phc_')) throw new Error('Your Personal API key is invalid. These keys are prefixed with \"phx_\" and can be created in PostHog project settings.');\n            const shouldEnableLocalEvaluation = false !== options.enableLocalEvaluation;\n            if (shouldEnableLocalEvaluation) this.featureFlagsPoller = new FeatureFlagsPoller({\n                pollingInterval: this.options.featureFlagsPollingInterval,\n                personalApiKey: options.personalApiKey,\n                projectApiKey: apiKey,\n                timeout: options.requestTimeout ?? 10000,\n                host: this.host,\n                fetch: options.fetch,\n                onError: (err)=>{\n                    this._events.emit('error', err);\n                },\n                onLoad: (count)=>{\n                    this._events.emit('localEvaluationFlagsLoaded', count);\n                },\n                customHeaders: this.getCustomHeaders()\n            });\n        }\n        this.errorTracking = new error_tracking(this, options, this._logger);\n        this.distinctIdHasSentFlagCalls = {};\n        this.maxCacheSize = options.maxCacheSize || MAX_CACHE_SIZE;\n    }\n    getPersistedProperty(key) {\n        return this._memoryStorage.getProperty(key);\n    }\n    setPersistedProperty(key, value) {\n        return this._memoryStorage.setProperty(key, value);\n    }\n    fetch(url, options) {\n        return this.options.fetch ? this.options.fetch(url, options) : fetch(url, options);\n    }\n    getLibraryVersion() {\n        return version;\n    }\n    getCustomUserAgent() {\n        return `${this.getLibraryId()}/${this.getLibraryVersion()}`;\n    }\n    enable() {\n        return super.optIn();\n    }\n    disable() {\n        return super.optOut();\n    }\n    debug(enabled = true) {\n        super.debug(enabled);\n        this.featureFlagsPoller?.debug(enabled);\n    }\n    capture(props) {\n        if ('string' == typeof props) this._logger.warn('Called capture() with a string as the first argument when an object was expected.');\n        this.addPendingPromise(this.prepareEventMessage(props).then(({ distinctId, event, properties, options })=>super.captureStateless(distinctId, event, properties, {\n                timestamp: options.timestamp,\n                disableGeoip: options.disableGeoip,\n                uuid: options.uuid\n            })).catch((err)=>{\n            if (err) console.error(err);\n        }));\n    }\n    async captureImmediate(props) {\n        if ('string' == typeof props) this._logger.warn('Called captureImmediate() with a string as the first argument when an object was expected.');\n        return this.addPendingPromise(this.prepareEventMessage(props).then(({ distinctId, event, properties, options })=>super.captureStatelessImmediate(distinctId, event, properties, {\n                timestamp: options.timestamp,\n                disableGeoip: options.disableGeoip,\n                uuid: options.uuid\n            })).catch((err)=>{\n            if (err) console.error(err);\n        }));\n    }\n    identify({ distinctId, properties, disableGeoip }) {\n        const userPropsOnce = properties?.$set_once;\n        delete properties?.$set_once;\n        const userProps = properties?.$set || properties;\n        super.identifyStateless(distinctId, {\n            $set: userProps,\n            $set_once: userPropsOnce\n        }, {\n            disableGeoip\n        });\n    }\n    async identifyImmediate({ distinctId, properties, disableGeoip }) {\n        const userPropsOnce = properties?.$set_once;\n        delete properties?.$set_once;\n        const userProps = properties?.$set || properties;\n        await super.identifyStatelessImmediate(distinctId, {\n            $set: userProps,\n            $set_once: userPropsOnce\n        }, {\n            disableGeoip\n        });\n    }\n    alias(data) {\n        super.aliasStateless(data.alias, data.distinctId, void 0, {\n            disableGeoip: data.disableGeoip\n        });\n    }\n    async aliasImmediate(data) {\n        await super.aliasStatelessImmediate(data.alias, data.distinctId, void 0, {\n            disableGeoip: data.disableGeoip\n        });\n    }\n    isLocalEvaluationReady() {\n        return this.featureFlagsPoller?.isLocalEvaluationReady() ?? false;\n    }\n    async waitForLocalEvaluationReady(timeoutMs = THIRTY_SECONDS) {\n        if (this.isLocalEvaluationReady()) return true;\n        if (void 0 === this.featureFlagsPoller) return false;\n        return new Promise((resolve)=>{\n            const timeout = setTimeout(()=>{\n                cleanup();\n                resolve(false);\n            }, timeoutMs);\n            const cleanup = this._events.on('localEvaluationFlagsLoaded', (count)=>{\n                clearTimeout(timeout);\n                cleanup();\n                resolve(count > 0);\n            });\n        });\n    }\n    async getFeatureFlag(key, distinctId, options) {\n        const { groups, disableGeoip } = options || {};\n        let { onlyEvaluateLocally, sendFeatureFlagEvents, personProperties, groupProperties } = options || {};\n        const adjustedProperties = this.addLocalPersonAndGroupProperties(distinctId, groups, personProperties, groupProperties);\n        personProperties = adjustedProperties.allPersonProperties;\n        groupProperties = adjustedProperties.allGroupProperties;\n        if (void 0 == onlyEvaluateLocally) onlyEvaluateLocally = false;\n        if (void 0 == sendFeatureFlagEvents) sendFeatureFlagEvents = this.options.sendFeatureFlagEvent ?? true;\n        let response = await this.featureFlagsPoller?.getFeatureFlag(key, distinctId, groups, personProperties, groupProperties);\n        const flagWasLocallyEvaluated = void 0 !== response;\n        let requestId;\n        let flagDetail;\n        if (!flagWasLocallyEvaluated && !onlyEvaluateLocally) {\n            const remoteResponse = await super.getFeatureFlagDetailStateless(key, distinctId, groups, personProperties, groupProperties, disableGeoip);\n            if (void 0 === remoteResponse) return;\n            flagDetail = remoteResponse.response;\n            response = getFeatureFlagValue(flagDetail);\n            requestId = remoteResponse?.requestId;\n        }\n        const featureFlagReportedKey = `${key}_${response}`;\n        if (sendFeatureFlagEvents && (!(distinctId in this.distinctIdHasSentFlagCalls) || !this.distinctIdHasSentFlagCalls[distinctId].includes(featureFlagReportedKey))) {\n            if (Object.keys(this.distinctIdHasSentFlagCalls).length >= this.maxCacheSize) this.distinctIdHasSentFlagCalls = {};\n            if (Array.isArray(this.distinctIdHasSentFlagCalls[distinctId])) this.distinctIdHasSentFlagCalls[distinctId].push(featureFlagReportedKey);\n            else this.distinctIdHasSentFlagCalls[distinctId] = [\n                featureFlagReportedKey\n            ];\n            this.capture({\n                distinctId,\n                event: '$feature_flag_called',\n                properties: {\n                    $feature_flag: key,\n                    $feature_flag_response: response,\n                    $feature_flag_id: flagDetail?.metadata?.id,\n                    $feature_flag_version: flagDetail?.metadata?.version,\n                    $feature_flag_reason: flagDetail?.reason?.description ?? flagDetail?.reason?.code,\n                    locally_evaluated: flagWasLocallyEvaluated,\n                    [`$feature/${key}`]: response,\n                    $feature_flag_request_id: requestId\n                },\n                groups,\n                disableGeoip\n            });\n        }\n        return response;\n    }\n    async getFeatureFlagPayload(key, distinctId, matchValue, options) {\n        const { groups, disableGeoip } = options || {};\n        let { onlyEvaluateLocally, personProperties, groupProperties } = options || {};\n        const adjustedProperties = this.addLocalPersonAndGroupProperties(distinctId, groups, personProperties, groupProperties);\n        personProperties = adjustedProperties.allPersonProperties;\n        groupProperties = adjustedProperties.allGroupProperties;\n        let response;\n        const localEvaluationEnabled = void 0 !== this.featureFlagsPoller;\n        if (localEvaluationEnabled) {\n            await this.featureFlagsPoller?.loadFeatureFlags();\n            const flag = this.featureFlagsPoller?.featureFlagsByKey[key];\n            if (flag) try {\n                const result = await this.featureFlagsPoller?.computeFlagAndPayloadLocally(flag, distinctId, groups, personProperties, groupProperties, matchValue);\n                if (result) {\n                    matchValue = result.value;\n                    response = result.payload;\n                }\n            } catch (e) {\n                if (e instanceof RequiresServerEvaluation || e instanceof InconclusiveMatchError) this._logger?.info(`${e.name} when computing flag locally: ${flag.key}: ${e.message}`);\n                else throw e;\n            }\n        }\n        if (void 0 == onlyEvaluateLocally) onlyEvaluateLocally = false;\n        const payloadWasLocallyEvaluated = void 0 !== response;\n        if (!payloadWasLocallyEvaluated && !onlyEvaluateLocally) response = await super.getFeatureFlagPayloadStateless(key, distinctId, groups, personProperties, groupProperties, disableGeoip);\n        return response;\n    }\n    async getRemoteConfigPayload(flagKey) {\n        if (!this.options.personalApiKey) throw new Error('Personal API key is required for remote config payload decryption');\n        const response = await this._requestRemoteConfigPayload(flagKey);\n        if (!response) return;\n        const parsed = await response.json();\n        if ('string' == typeof parsed) try {\n            return JSON.parse(parsed);\n        } catch (e) {}\n        return parsed;\n    }\n    async isFeatureEnabled(key, distinctId, options) {\n        const feat = await this.getFeatureFlag(key, distinctId, options);\n        if (void 0 === feat) return;\n        return !!feat || false;\n    }\n    async getAllFlags(distinctId, options) {\n        const response = await this.getAllFlagsAndPayloads(distinctId, options);\n        return response.featureFlags || {};\n    }\n    async getAllFlagsAndPayloads(distinctId, options) {\n        const { groups, disableGeoip, flagKeys } = options || {};\n        let { onlyEvaluateLocally, personProperties, groupProperties } = options || {};\n        const adjustedProperties = this.addLocalPersonAndGroupProperties(distinctId, groups, personProperties, groupProperties);\n        personProperties = adjustedProperties.allPersonProperties;\n        groupProperties = adjustedProperties.allGroupProperties;\n        if (void 0 == onlyEvaluateLocally) onlyEvaluateLocally = false;\n        const localEvaluationResult = await this.featureFlagsPoller?.getAllFlagsAndPayloads(distinctId, groups, personProperties, groupProperties, flagKeys);\n        let featureFlags = {};\n        let featureFlagPayloads = {};\n        let fallbackToFlags = true;\n        if (localEvaluationResult) {\n            featureFlags = localEvaluationResult.response;\n            featureFlagPayloads = localEvaluationResult.payloads;\n            fallbackToFlags = localEvaluationResult.fallbackToFlags;\n        }\n        if (fallbackToFlags && !onlyEvaluateLocally) {\n            const remoteEvaluationResult = await super.getFeatureFlagsAndPayloadsStateless(distinctId, groups, personProperties, groupProperties, disableGeoip, flagKeys);\n            featureFlags = {\n                ...featureFlags,\n                ...remoteEvaluationResult.flags || {}\n            };\n            featureFlagPayloads = {\n                ...featureFlagPayloads,\n                ...remoteEvaluationResult.payloads || {}\n            };\n        }\n        return {\n            featureFlags,\n            featureFlagPayloads\n        };\n    }\n    groupIdentify({ groupType, groupKey, properties, distinctId, disableGeoip }) {\n        super.groupIdentifyStateless(groupType, groupKey, properties, {\n            disableGeoip\n        }, distinctId);\n    }\n    async reloadFeatureFlags() {\n        await this.featureFlagsPoller?.loadFeatureFlags(true);\n    }\n    async _shutdown(shutdownTimeoutMs) {\n        this.featureFlagsPoller?.stopPoller();\n        this.errorTracking.shutdown();\n        return super._shutdown(shutdownTimeoutMs);\n    }\n    async _requestRemoteConfigPayload(flagKey) {\n        if (!this.options.personalApiKey) return;\n        const url = `${this.host}/api/projects/@current/feature_flags/${flagKey}/remote_config?token=${encodeURIComponent(this.apiKey)}`;\n        const options = {\n            method: 'GET',\n            headers: {\n                ...this.getCustomHeaders(),\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${this.options.personalApiKey}`\n            }\n        };\n        let abortTimeout = null;\n        if (this.options.requestTimeout && 'number' == typeof this.options.requestTimeout) {\n            const controller = new AbortController();\n            abortTimeout = safeSetTimeout(()=>{\n                controller.abort();\n            }, this.options.requestTimeout);\n            options.signal = controller.signal;\n        }\n        try {\n            return await this.fetch(url, options);\n        } catch (error) {\n            this._events.emit('error', error);\n            return;\n        } finally{\n            if (abortTimeout) clearTimeout(abortTimeout);\n        }\n    }\n    extractPropertiesFromEvent(eventProperties, groups) {\n        if (!eventProperties) return {\n            personProperties: {},\n            groupProperties: {}\n        };\n        const personProperties = {};\n        const groupProperties = {};\n        for (const [key, value] of Object.entries(eventProperties))if (isPlainObject(value) && groups && key in groups) {\n            const groupProps = {};\n            for (const [groupKey, groupValue] of Object.entries(value))groupProps[String(groupKey)] = String(groupValue);\n            groupProperties[String(key)] = groupProps;\n        } else personProperties[String(key)] = String(value);\n        return {\n            personProperties,\n            groupProperties\n        };\n    }\n    async getFeatureFlagsForEvent(distinctId, groups, disableGeoip, sendFeatureFlagsOptions) {\n        const finalPersonProperties = sendFeatureFlagsOptions?.personProperties || {};\n        const finalGroupProperties = sendFeatureFlagsOptions?.groupProperties || {};\n        const flagKeys = sendFeatureFlagsOptions?.flagKeys;\n        const onlyEvaluateLocally = sendFeatureFlagsOptions?.onlyEvaluateLocally ?? false;\n        if (onlyEvaluateLocally) if (!((this.featureFlagsPoller?.featureFlags?.length || 0) > 0)) return {};\n        else {\n            const groupsWithStringValues = {};\n            for (const [key, value] of Object.entries(groups || {}))groupsWithStringValues[key] = String(value);\n            return await this.getAllFlags(distinctId, {\n                groups: groupsWithStringValues,\n                personProperties: finalPersonProperties,\n                groupProperties: finalGroupProperties,\n                disableGeoip,\n                onlyEvaluateLocally: true,\n                flagKeys\n            });\n        }\n        if ((this.featureFlagsPoller?.featureFlags?.length || 0) > 0) {\n            const groupsWithStringValues = {};\n            for (const [key, value] of Object.entries(groups || {}))groupsWithStringValues[key] = String(value);\n            return await this.getAllFlags(distinctId, {\n                groups: groupsWithStringValues,\n                personProperties: finalPersonProperties,\n                groupProperties: finalGroupProperties,\n                disableGeoip,\n                onlyEvaluateLocally: true,\n                flagKeys\n            });\n        }\n        return (await super.getFeatureFlagsStateless(distinctId, groups, finalPersonProperties, finalGroupProperties, disableGeoip)).flags;\n    }\n    addLocalPersonAndGroupProperties(distinctId, groups, personProperties, groupProperties) {\n        const allPersonProperties = {\n            distinct_id: distinctId,\n            ...personProperties || {}\n        };\n        const allGroupProperties = {};\n        if (groups) for (const groupName of Object.keys(groups))allGroupProperties[groupName] = {\n            $group_key: groups[groupName],\n            ...groupProperties?.[groupName] || {}\n        };\n        return {\n            allPersonProperties,\n            allGroupProperties\n        };\n    }\n    captureException(error, distinctId, additionalProperties) {\n        const syntheticException = new Error('PostHog syntheticException');\n        this.addPendingPromise(error_tracking.buildEventMessage(error, {\n            syntheticException\n        }, distinctId, additionalProperties).then((msg)=>this.capture(msg)));\n    }\n    async captureExceptionImmediate(error, distinctId, additionalProperties) {\n        const syntheticException = new Error('PostHog syntheticException');\n        this.addPendingPromise(error_tracking.buildEventMessage(error, {\n            syntheticException\n        }, distinctId, additionalProperties).then((msg)=>this.captureImmediate(msg)));\n    }\n    async prepareEventMessage(props) {\n        const { distinctId, event, properties, groups, sendFeatureFlags, timestamp, disableGeoip, uuid } = props;\n        const eventMessage = this._runBeforeSend({\n            distinctId,\n            event,\n            properties,\n            groups,\n            sendFeatureFlags,\n            timestamp,\n            disableGeoip,\n            uuid\n        });\n        if (!eventMessage) return Promise.reject(null);\n        const eventProperties = await Promise.resolve().then(async ()=>{\n            if (sendFeatureFlags) {\n                const sendFeatureFlagsOptions = 'object' == typeof sendFeatureFlags ? sendFeatureFlags : void 0;\n                return await this.getFeatureFlagsForEvent(distinctId, groups, disableGeoip, sendFeatureFlagsOptions);\n            }\n            return {};\n        }).then((flags)=>{\n            const additionalProperties = {};\n            if (flags) for (const [feature, variant] of Object.entries(flags))additionalProperties[`$feature/${feature}`] = variant;\n            const activeFlags = Object.keys(flags || {}).filter((flag)=>flags?.[flag] !== false).sort();\n            if (activeFlags.length > 0) additionalProperties['$active_feature_flags'] = activeFlags;\n            return additionalProperties;\n        }).catch(()=>({})).then((additionalProperties)=>{\n            const props = {\n                ...additionalProperties,\n                ...eventMessage.properties || {},\n                $groups: eventMessage.groups || groups\n            };\n            return props;\n        });\n        if ('$pageview' === eventMessage.event && this.options.__preview_capture_bot_pageviews && 'string' == typeof eventProperties.$raw_user_agent) {\n            if (isBlockedUA(eventProperties.$raw_user_agent, this.options.custom_blocked_useragents || [])) {\n                eventMessage.event = '$bot_pageview';\n                eventProperties.$browser_type = 'bot';\n            }\n        }\n        return {\n            distinctId: eventMessage.distinctId,\n            event: eventMessage.event,\n            properties: eventProperties,\n            options: {\n                timestamp: eventMessage.timestamp,\n                disableGeoip: eventMessage.disableGeoip,\n                uuid: eventMessage.uuid\n            }\n        };\n    }\n    _runBeforeSend(eventMessage) {\n        const beforeSend = this.options.before_send;\n        if (!beforeSend) return eventMessage;\n        const fns = Array.isArray(beforeSend) ? beforeSend : [\n            beforeSend\n        ];\n        let result = eventMessage;\n        for (const fn of fns){\n            result = fn(result);\n            if (!result) {\n                this._logger.info(`Event '${eventMessage.event}' was rejected in beforeSend function`);\n                return null;\n            }\n            if (!result.properties || 0 === Object.keys(result.properties).length) {\n                const message = `Event '${result.event}' has no properties after beforeSend function, this is likely an error.`;\n                this._logger.warn(message);\n            }\n        }\n        return result;\n    }\n}\nexport { PostHogBackendClient };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1387, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/posthog-node%405.11.2/node_modules/posthog-node/dist/extensions/sentry-integration.mjs"],"sourcesContent":["const NAME = 'posthog-node';\nfunction createEventProcessor(_posthog, { organization, projectId, prefix, severityAllowList = [\n    'error'\n], sendExceptionsToPostHog = true } = {}) {\n    return (event)=>{\n        const shouldProcessLevel = '*' === severityAllowList || severityAllowList.includes(event.level);\n        if (!shouldProcessLevel) return event;\n        if (!event.tags) event.tags = {};\n        const userId = event.tags[PostHogSentryIntegration.POSTHOG_ID_TAG];\n        if (void 0 === userId) return event;\n        const uiHost = _posthog.options.host ?? 'https://us.i.posthog.com';\n        const personUrl = new URL(`/project/${_posthog.apiKey}/person/${userId}`, uiHost).toString();\n        event.tags['PostHog Person URL'] = personUrl;\n        const exceptions = event.exception?.values || [];\n        const exceptionList = exceptions.map((exception)=>({\n                ...exception,\n                stacktrace: exception.stacktrace ? {\n                    ...exception.stacktrace,\n                    type: 'raw',\n                    frames: (exception.stacktrace.frames || []).map((frame)=>({\n                            ...frame,\n                            platform: \"node:javascript\"\n                        }))\n                } : void 0\n            }));\n        const properties = {\n            $exception_message: exceptions[0]?.value || event.message,\n            $exception_type: exceptions[0]?.type,\n            $exception_level: event.level,\n            $exception_list: exceptionList,\n            $sentry_event_id: event.event_id,\n            $sentry_exception: event.exception,\n            $sentry_exception_message: exceptions[0]?.value || event.message,\n            $sentry_exception_type: exceptions[0]?.type,\n            $sentry_tags: event.tags\n        };\n        if (organization && projectId) properties['$sentry_url'] = (prefix || 'https://sentry.io/organizations/') + organization + '/issues/?project=' + projectId + '&query=' + event.event_id;\n        if (sendExceptionsToPostHog) _posthog.capture({\n            event: '$exception',\n            distinctId: userId,\n            properties\n        });\n        return event;\n    };\n}\nfunction sentryIntegration(_posthog, options) {\n    const processor = createEventProcessor(_posthog, options);\n    return {\n        name: NAME,\n        processEvent (event) {\n            return processor(event);\n        }\n    };\n}\nclass PostHogSentryIntegration {\n    static #_ = this.POSTHOG_ID_TAG = 'posthog_distinct_id';\n    constructor(_posthog, organization, prefix, severityAllowList, sendExceptionsToPostHog){\n        this.name = NAME;\n        this.name = NAME;\n        this.setupOnce = function(addGlobalEventProcessor, getCurrentHub) {\n            const projectId = getCurrentHub()?.getClient()?.getDsn()?.projectId;\n            addGlobalEventProcessor(createEventProcessor(_posthog, {\n                organization,\n                projectId,\n                prefix,\n                severityAllowList,\n                sendExceptionsToPostHog: sendExceptionsToPostHog ?? true\n            }));\n        };\n    }\n}\nexport { PostHogSentryIntegration, createEventProcessor, sentryIntegration };\n"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,OAAO;AACb,SAAS,qBAAqB,QAAQ,EAAE,EAAE,YAAY,EAAE,SAAS,EAAE,MAAM,EAAE,oBAAoB;IAC3F;CACH,EAAE,0BAA0B,IAAI,EAAE,GAAG,CAAC,CAAC;IACpC,OAAO,CAAC;QACJ,MAAM,qBAAqB,QAAQ,qBAAqB,kBAAkB,QAAQ,CAAC,MAAM,KAAK;QAC9F,IAAI,CAAC,oBAAoB,OAAO;QAChC,IAAI,CAAC,MAAM,IAAI,EAAE,MAAM,IAAI,GAAG,CAAC;QAC/B,MAAM,SAAS,MAAM,IAAI,CAAC,yBAAyB,cAAc,CAAC;QAClE,IAAI,KAAK,MAAM,QAAQ,OAAO;QAC9B,MAAM,SAAS,SAAS,OAAO,CAAC,IAAI,IAAI;QACxC,MAAM,YAAY,IAAI,IAAI,CAAC,SAAS,EAAE,SAAS,MAAM,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,QAAQ;QAC1F,MAAM,IAAI,CAAC,qBAAqB,GAAG;QACnC,MAAM,aAAa,MAAM,SAAS,EAAE,UAAU,EAAE;QAChD,MAAM,gBAAgB,WAAW,GAAG,CAAC,CAAC,YAAY,CAAC;gBAC3C,GAAG,SAAS;gBACZ,YAAY,UAAU,UAAU,GAAG;oBAC/B,GAAG,UAAU,UAAU;oBACvB,MAAM;oBACN,QAAQ,CAAC,UAAU,UAAU,CAAC,MAAM,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC;4BAClD,GAAG,KAAK;4BACR,UAAU;wBACd,CAAC;gBACT,IAAI,KAAK;YACb,CAAC;QACL,MAAM,aAAa;YACf,oBAAoB,UAAU,CAAC,EAAE,EAAE,SAAS,MAAM,OAAO;YACzD,iBAAiB,UAAU,CAAC,EAAE,EAAE;YAChC,kBAAkB,MAAM,KAAK;YAC7B,iBAAiB;YACjB,kBAAkB,MAAM,QAAQ;YAChC,mBAAmB,MAAM,SAAS;YAClC,2BAA2B,UAAU,CAAC,EAAE,EAAE,SAAS,MAAM,OAAO;YAChE,wBAAwB,UAAU,CAAC,EAAE,EAAE;YACvC,cAAc,MAAM,IAAI;QAC5B;QACA,IAAI,gBAAgB,WAAW,UAAU,CAAC,cAAc,GAAG,CAAC,UAAU,kCAAkC,IAAI,eAAe,sBAAsB,YAAY,YAAY,MAAM,QAAQ;QACvL,IAAI,yBAAyB,SAAS,OAAO,CAAC;YAC1C,OAAO;YACP,YAAY;YACZ;QACJ;QACA,OAAO;IACX;AACJ;AACA,SAAS,kBAAkB,QAAQ,EAAE,OAAO;IACxC,MAAM,YAAY,qBAAqB,UAAU;IACjD,OAAO;QACH,MAAM;QACN,cAAc,KAAK;YACf,OAAO,UAAU;QACrB;IACJ;AACJ;AACA,MAAM;IACF,OAAO,CAAA,CAAE,GAAG,IAAI,CAAC,cAAc,GAAG,sBAAsB;IACxD,YAAY,QAAQ,EAAE,YAAY,EAAE,MAAM,EAAE,iBAAiB,EAAE,uBAAuB,CAAC;QACnF,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,SAAS,GAAG,SAAS,uBAAuB,EAAE,aAAa;YAC5D,MAAM,YAAY,iBAAiB,aAAa,UAAU;YAC1D,wBAAwB,qBAAqB,UAAU;gBACnD;gBACA;gBACA;gBACA;gBACA,yBAAyB,2BAA2B;YACxD;QACJ;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1471, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/posthog-node%405.11.2/node_modules/posthog-node/dist/extensions/express.mjs"],"sourcesContent":["import { uuidv7 } from \"@posthog/core\";\nimport error_tracking from \"./error-tracking/index.mjs\";\nfunction setupExpressErrorHandler(_posthog, app) {\n    app.use((error, _, __, next)=>{\n        const hint = {\n            mechanism: {\n                type: 'middleware',\n                handled: false\n            }\n        };\n        error_tracking.buildEventMessage(error, hint, uuidv7(), {\n            $process_person_profile: false\n        }).then((msg)=>_posthog.capture(msg));\n        next(error);\n    });\n}\nexport { setupExpressErrorHandler };\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AACA,SAAS,yBAAyB,QAAQ,EAAE,GAAG;IAC3C,IAAI,GAAG,CAAC,CAAC,OAAO,GAAG,IAAI;QACnB,MAAM,OAAO;YACT,WAAW;gBACP,MAAM;gBACN,SAAS;YACb;QACJ;QACA,8PAAc,CAAC,iBAAiB,CAAC,OAAO,MAAM,IAAA,wOAAM,KAAI;YACpD,yBAAyB;QAC7B,GAAG,IAAI,CAAC,CAAC,MAAM,SAAS,OAAO,CAAC;QAChC,KAAK;IACT;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1499, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 1504, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/posthog-node%405.11.2/node_modules/posthog-node/dist/exports.mjs"],"sourcesContent":["export * from \"./extensions/sentry-integration.mjs\";\nexport * from \"./extensions/express.mjs\";\nexport * from \"./types.mjs\";\n"],"names":[],"mappings":";AAAA;AACA;AACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1515, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/posthog-node%405.11.2/node_modules/posthog-node/dist/entrypoints/index.node.mjs"],"sourcesContent":["import { createModulerModifier } from \"../extensions/error-tracking/modifiers/module.node.mjs\";\nimport { addSourceContext } from \"../extensions/error-tracking/modifiers/context-lines.node.mjs\";\nimport error_tracking from \"../extensions/error-tracking/index.mjs\";\nimport { PostHogBackendClient } from \"../client.mjs\";\nimport { ErrorTracking } from \"@posthog/core\";\nexport * from \"../exports.mjs\";\nerror_tracking.errorPropertiesBuilder = new ErrorTracking.ErrorPropertiesBuilder([\n    new ErrorTracking.EventCoercer(),\n    new ErrorTracking.ErrorCoercer(),\n    new ErrorTracking.ObjectCoercer(),\n    new ErrorTracking.StringCoercer(),\n    new ErrorTracking.PrimitiveCoercer()\n], [\n    ErrorTracking.nodeStackLineParser\n], [\n    createModulerModifier(),\n    addSourceContext\n]);\nclass PostHog extends PostHogBackendClient {\n    getLibraryId() {\n        return 'posthog-node';\n    }\n}\nexport { PostHog };\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;;;;;;;AACA,8PAAc,CAAC,sBAAsB,GAAG,IAAI,kSAAa,CAAC,sBAAsB,CAAC;IAC7E,IAAI,kSAAa,CAAC,YAAY;IAC9B,IAAI,kSAAa,CAAC,YAAY;IAC9B,IAAI,kSAAa,CAAC,aAAa;IAC/B,IAAI,kSAAa,CAAC,aAAa;IAC/B,IAAI,kSAAa,CAAC,gBAAgB;CACrC,EAAE;IACC,kSAAa,CAAC,mBAAmB;CACpC,EAAE;IACC,IAAA,kSAAqB;IACrB,uSAAgB;CACnB;AACD,MAAM,gBAAgB,yOAAoB;IACtC,eAAe;QACX,OAAO;IACX;AACJ","ignoreList":[0],"debugId":null}}]
}