{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/featureFlagUtils.mjs"],"sourcesContent":["const normalizeFlagsResponse = (flagsResponse)=>{\n    if ('flags' in flagsResponse) {\n        const featureFlags = getFlagValuesFromFlags(flagsResponse.flags);\n        const featureFlagPayloads = getPayloadsFromFlags(flagsResponse.flags);\n        return {\n            ...flagsResponse,\n            featureFlags,\n            featureFlagPayloads\n        };\n    }\n    {\n        const featureFlags = flagsResponse.featureFlags ?? {};\n        const featureFlagPayloads = Object.fromEntries(Object.entries(flagsResponse.featureFlagPayloads || {}).map(([k, v])=>[\n                k,\n                parsePayload(v)\n            ]));\n        const flags = Object.fromEntries(Object.entries(featureFlags).map(([key, value])=>[\n                key,\n                getFlagDetailFromFlagAndPayload(key, value, featureFlagPayloads[key])\n            ]));\n        return {\n            ...flagsResponse,\n            featureFlags,\n            featureFlagPayloads,\n            flags\n        };\n    }\n};\nfunction getFlagDetailFromFlagAndPayload(key, value, payload) {\n    return {\n        key: key,\n        enabled: 'string' == typeof value ? true : value,\n        variant: 'string' == typeof value ? value : void 0,\n        reason: void 0,\n        metadata: {\n            id: void 0,\n            version: void 0,\n            payload: payload ? JSON.stringify(payload) : void 0,\n            description: void 0\n        }\n    };\n}\nconst getFlagValuesFromFlags = (flags)=>Object.fromEntries(Object.entries(flags ?? {}).map(([key, detail])=>[\n            key,\n            getFeatureFlagValue(detail)\n        ]).filter(([, value])=>void 0 !== value));\nconst getPayloadsFromFlags = (flags)=>{\n    const safeFlags = flags ?? {};\n    return Object.fromEntries(Object.keys(safeFlags).filter((flag)=>{\n        const details = safeFlags[flag];\n        return details.enabled && details.metadata && void 0 !== details.metadata.payload;\n    }).map((flag)=>{\n        const payload = safeFlags[flag].metadata?.payload;\n        return [\n            flag,\n            payload ? parsePayload(payload) : void 0\n        ];\n    }));\n};\nconst getFlagDetailsFromFlagsAndPayloads = (flagsResponse)=>{\n    const flags = flagsResponse.featureFlags ?? {};\n    const payloads = flagsResponse.featureFlagPayloads ?? {};\n    return Object.fromEntries(Object.entries(flags).map(([key, value])=>[\n            key,\n            {\n                key: key,\n                enabled: 'string' == typeof value ? true : value,\n                variant: 'string' == typeof value ? value : void 0,\n                reason: void 0,\n                metadata: {\n                    id: void 0,\n                    version: void 0,\n                    payload: payloads?.[key] ? JSON.stringify(payloads[key]) : void 0,\n                    description: void 0\n                }\n            }\n        ]));\n};\nconst getFeatureFlagValue = (detail)=>void 0 === detail ? void 0 : detail.variant ?? detail.enabled;\nconst parsePayload = (response)=>{\n    if ('string' != typeof response) return response;\n    try {\n        return JSON.parse(response);\n    } catch  {\n        return response;\n    }\n};\nconst createFlagsResponseFromFlagsAndPayloads = (featureFlags, featureFlagPayloads)=>{\n    const allKeys = [\n        ...new Set([\n            ...Object.keys(featureFlags ?? {}),\n            ...Object.keys(featureFlagPayloads ?? {})\n        ])\n    ];\n    const enabledFlags = allKeys.filter((flag)=>!!featureFlags[flag] || !!featureFlagPayloads[flag]).reduce((res, key)=>(res[key] = featureFlags[key] ?? true, res), {});\n    const flagDetails = {\n        featureFlags: enabledFlags,\n        featureFlagPayloads: featureFlagPayloads ?? {}\n    };\n    return normalizeFlagsResponse(flagDetails);\n};\nconst updateFlagValue = (flag, value)=>({\n        ...flag,\n        enabled: getEnabledFromValue(value),\n        variant: getVariantFromValue(value)\n    });\nfunction getEnabledFromValue(value) {\n    return 'string' == typeof value ? true : value;\n}\nfunction getVariantFromValue(value) {\n    return 'string' == typeof value ? value : void 0;\n}\nexport { createFlagsResponseFromFlagsAndPayloads, getFeatureFlagValue, getFlagDetailsFromFlagsAndPayloads, getFlagValuesFromFlags, getPayloadsFromFlags, normalizeFlagsResponse, parsePayload, updateFlagValue };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/vendor/uuidv7.mjs"],"sourcesContent":["/*! For license information please see uuidv7.mjs.LICENSE.txt */\n/**\n * uuidv7: An experimental implementation of the proposed UUID Version 7\n *\n * @license Apache-2.0\n * @copyright 2021-2023 LiosK\n * @packageDocumentation\n */ const DIGITS = \"0123456789abcdef\";\nclass UUID {\n    constructor(bytes){\n        this.bytes = bytes;\n    }\n    static ofInner(bytes) {\n        if (16 === bytes.length) return new UUID(bytes);\n        throw new TypeError(\"not 128-bit length\");\n    }\n    static fromFieldsV7(unixTsMs, randA, randBHi, randBLo) {\n        if (!Number.isInteger(unixTsMs) || !Number.isInteger(randA) || !Number.isInteger(randBHi) || !Number.isInteger(randBLo) || unixTsMs < 0 || randA < 0 || randBHi < 0 || randBLo < 0 || unixTsMs > 0xffffffffffff || randA > 0xfff || randBHi > 0x3fffffff || randBLo > 0xffffffff) throw new RangeError(\"invalid field value\");\n        const bytes = new Uint8Array(16);\n        bytes[0] = unixTsMs / 2 ** 40;\n        bytes[1] = unixTsMs / 2 ** 32;\n        bytes[2] = unixTsMs / 2 ** 24;\n        bytes[3] = unixTsMs / 2 ** 16;\n        bytes[4] = unixTsMs / 256;\n        bytes[5] = unixTsMs;\n        bytes[6] = 0x70 | randA >>> 8;\n        bytes[7] = randA;\n        bytes[8] = 0x80 | randBHi >>> 24;\n        bytes[9] = randBHi >>> 16;\n        bytes[10] = randBHi >>> 8;\n        bytes[11] = randBHi;\n        bytes[12] = randBLo >>> 24;\n        bytes[13] = randBLo >>> 16;\n        bytes[14] = randBLo >>> 8;\n        bytes[15] = randBLo;\n        return new UUID(bytes);\n    }\n    static parse(uuid) {\n        let hex;\n        switch(uuid.length){\n            case 32:\n                hex = /^[0-9a-f]{32}$/i.exec(uuid)?.[0];\n                break;\n            case 36:\n                hex = /^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(uuid)?.slice(1, 6).join(\"\");\n                break;\n            case 38:\n                hex = /^\\{([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})\\}$/i.exec(uuid)?.slice(1, 6).join(\"\");\n                break;\n            case 45:\n                hex = /^urn:uuid:([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(uuid)?.slice(1, 6).join(\"\");\n                break;\n            default:\n                break;\n        }\n        if (hex) {\n            const inner = new Uint8Array(16);\n            for(let i = 0; i < 16; i += 4){\n                const n = parseInt(hex.substring(2 * i, 2 * i + 8), 16);\n                inner[i + 0] = n >>> 24;\n                inner[i + 1] = n >>> 16;\n                inner[i + 2] = n >>> 8;\n                inner[i + 3] = n;\n            }\n            return new UUID(inner);\n        }\n        throw new SyntaxError(\"could not parse UUID string\");\n    }\n    toString() {\n        let text = \"\";\n        for(let i = 0; i < this.bytes.length; i++){\n            text += DIGITS.charAt(this.bytes[i] >>> 4);\n            text += DIGITS.charAt(0xf & this.bytes[i]);\n            if (3 === i || 5 === i || 7 === i || 9 === i) text += \"-\";\n        }\n        return text;\n    }\n    toHex() {\n        let text = \"\";\n        for(let i = 0; i < this.bytes.length; i++){\n            text += DIGITS.charAt(this.bytes[i] >>> 4);\n            text += DIGITS.charAt(0xf & this.bytes[i]);\n        }\n        return text;\n    }\n    toJSON() {\n        return this.toString();\n    }\n    getVariant() {\n        const n = this.bytes[8] >>> 4;\n        if (n < 0) throw new Error(\"unreachable\");\n        if (n <= 7) return this.bytes.every((e)=>0 === e) ? \"NIL\" : \"VAR_0\";\n        if (n <= 11) return \"VAR_10\";\n        if (n <= 13) return \"VAR_110\";\n        if (n <= 15) return this.bytes.every((e)=>0xff === e) ? \"MAX\" : \"VAR_RESERVED\";\n        else throw new Error(\"unreachable\");\n    }\n    getVersion() {\n        return \"VAR_10\" === this.getVariant() ? this.bytes[6] >>> 4 : void 0;\n    }\n    clone() {\n        return new UUID(this.bytes.slice(0));\n    }\n    equals(other) {\n        return 0 === this.compareTo(other);\n    }\n    compareTo(other) {\n        for(let i = 0; i < 16; i++){\n            const diff = this.bytes[i] - other.bytes[i];\n            if (0 !== diff) return Math.sign(diff);\n        }\n        return 0;\n    }\n}\nclass V7Generator {\n    constructor(randomNumberGenerator){\n        this.timestamp = 0;\n        this.counter = 0;\n        this.random = randomNumberGenerator ?? getDefaultRandom();\n    }\n    generate() {\n        return this.generateOrResetCore(Date.now(), 10000);\n    }\n    generateOrAbort() {\n        return this.generateOrAbortCore(Date.now(), 10000);\n    }\n    generateOrResetCore(unixTsMs, rollbackAllowance) {\n        let value = this.generateOrAbortCore(unixTsMs, rollbackAllowance);\n        if (void 0 === value) {\n            this.timestamp = 0;\n            value = this.generateOrAbortCore(unixTsMs, rollbackAllowance);\n        }\n        return value;\n    }\n    generateOrAbortCore(unixTsMs, rollbackAllowance) {\n        const MAX_COUNTER = 0x3ffffffffff;\n        if (!Number.isInteger(unixTsMs) || unixTsMs < 1 || unixTsMs > 0xffffffffffff) throw new RangeError(\"`unixTsMs` must be a 48-bit positive integer\");\n        if (rollbackAllowance < 0 || rollbackAllowance > 0xffffffffffff) throw new RangeError(\"`rollbackAllowance` out of reasonable range\");\n        if (unixTsMs > this.timestamp) {\n            this.timestamp = unixTsMs;\n            this.resetCounter();\n        } else {\n            if (!(unixTsMs + rollbackAllowance >= this.timestamp)) return;\n            this.counter++;\n            if (this.counter > MAX_COUNTER) {\n                this.timestamp++;\n                this.resetCounter();\n            }\n        }\n        return UUID.fromFieldsV7(this.timestamp, Math.trunc(this.counter / 2 ** 30), this.counter & 2 ** 30 - 1, this.random.nextUint32());\n    }\n    resetCounter() {\n        this.counter = 0x400 * this.random.nextUint32() + (0x3ff & this.random.nextUint32());\n    }\n    generateV4() {\n        const bytes = new Uint8Array(Uint32Array.of(this.random.nextUint32(), this.random.nextUint32(), this.random.nextUint32(), this.random.nextUint32()).buffer);\n        bytes[6] = 0x40 | bytes[6] >>> 4;\n        bytes[8] = 0x80 | bytes[8] >>> 2;\n        return UUID.ofInner(bytes);\n    }\n}\nconst getDefaultRandom = ()=>({\n        nextUint32: ()=>0x10000 * Math.trunc(0x10000 * Math.random()) + Math.trunc(0x10000 * Math.random())\n    });\nlet defaultGenerator;\nconst uuidv7 = ()=>uuidv7obj().toString();\nconst uuidv7obj = ()=>(defaultGenerator || (defaultGenerator = new V7Generator())).generate();\nconst uuidv4 = ()=>uuidv4obj().toString();\nconst uuidv4obj = ()=>(defaultGenerator || (defaultGenerator = new V7Generator())).generateV4();\nexport { UUID, V7Generator, uuidv4, uuidv4obj, uuidv7, uuidv7obj };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/utils/bot-detection.mjs"],"sourcesContent":["const DEFAULT_BLOCKED_UA_STRS = [\n    'amazonbot',\n    'amazonproductbot',\n    'app.hypefactors.com',\n    'applebot',\n    'archive.org_bot',\n    'awariobot',\n    'backlinksextendedbot',\n    'baiduspider',\n    'bingbot',\n    'bingpreview',\n    'chrome-lighthouse',\n    'dataforseobot',\n    'deepscan',\n    'duckduckbot',\n    'facebookexternal',\n    'facebookcatalog',\n    'http://yandex.com/bots',\n    'hubspot',\n    'ia_archiver',\n    'leikibot',\n    'linkedinbot',\n    'meta-externalagent',\n    'mj12bot',\n    'msnbot',\n    'nessus',\n    'petalbot',\n    'pinterest',\n    'prerender',\n    'rogerbot',\n    'screaming frog',\n    'sebot-wa',\n    'sitebulb',\n    'slackbot',\n    'slurp',\n    'trendictionbot',\n    'turnitin',\n    'twitterbot',\n    'vercel-screenshot',\n    'vercelbot',\n    'yahoo! slurp',\n    'yandexbot',\n    'zoombot',\n    'bot.htm',\n    'bot.php',\n    '(bot;',\n    'bot/',\n    'crawler',\n    'ahrefsbot',\n    'ahrefssiteaudit',\n    'semrushbot',\n    'siteauditbot',\n    'splitsignalbot',\n    'gptbot',\n    'oai-searchbot',\n    'chatgpt-user',\n    'perplexitybot',\n    'better uptime bot',\n    'sentryuptimebot',\n    'uptimerobot',\n    'headlesschrome',\n    'cypress',\n    'google-hoteladsverifier',\n    'adsbot-google',\n    'apis-google',\n    'duplexweb-google',\n    'feedfetcher-google',\n    'google favicon',\n    'google web preview',\n    'google-read-aloud',\n    'googlebot',\n    'googleother',\n    'google-cloudvertexbot',\n    'googleweblight',\n    'mediapartners-google',\n    'storebot-google',\n    'google-inspectiontool',\n    'bytespider'\n];\nconst isBlockedUA = function(ua, customBlockedUserAgents = []) {\n    if (!ua) return false;\n    const uaLower = ua.toLowerCase();\n    return DEFAULT_BLOCKED_UA_STRS.concat(customBlockedUserAgents).some((blockedUA)=>{\n        const blockedUaLower = blockedUA.toLowerCase();\n        return -1 !== uaLower.indexOf(blockedUaLower);\n    });\n};\nexport { DEFAULT_BLOCKED_UA_STRS, isBlockedUA };\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,0BAA0B;IAC5B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,MAAM,cAAc,SAAS,EAAE,EAAE,0BAA0B,EAAE;IACzD,IAAI,CAAC,IAAI,OAAO;IAChB,MAAM,UAAU,GAAG,WAAW;IAC9B,OAAO,wBAAwB,MAAM,CAAC,yBAAyB,IAAI,CAAC,CAAC;QACjE,MAAM,iBAAiB,UAAU,WAAW;QAC5C,OAAO,CAAC,MAAM,QAAQ,OAAO,CAAC;IAClC;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 424, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/types.mjs"],"sourcesContent":["var types_PostHogPersistedProperty = /*#__PURE__*/ function(PostHogPersistedProperty) {\n    PostHogPersistedProperty[\"AnonymousId\"] = \"anonymous_id\";\n    PostHogPersistedProperty[\"DistinctId\"] = \"distinct_id\";\n    PostHogPersistedProperty[\"Props\"] = \"props\";\n    PostHogPersistedProperty[\"FeatureFlagDetails\"] = \"feature_flag_details\";\n    PostHogPersistedProperty[\"FeatureFlags\"] = \"feature_flags\";\n    PostHogPersistedProperty[\"FeatureFlagPayloads\"] = \"feature_flag_payloads\";\n    PostHogPersistedProperty[\"BootstrapFeatureFlagDetails\"] = \"bootstrap_feature_flag_details\";\n    PostHogPersistedProperty[\"BootstrapFeatureFlags\"] = \"bootstrap_feature_flags\";\n    PostHogPersistedProperty[\"BootstrapFeatureFlagPayloads\"] = \"bootstrap_feature_flag_payloads\";\n    PostHogPersistedProperty[\"OverrideFeatureFlags\"] = \"override_feature_flags\";\n    PostHogPersistedProperty[\"Queue\"] = \"queue\";\n    PostHogPersistedProperty[\"OptedOut\"] = \"opted_out\";\n    PostHogPersistedProperty[\"SessionId\"] = \"session_id\";\n    PostHogPersistedProperty[\"SessionStartTimestamp\"] = \"session_start_timestamp\";\n    PostHogPersistedProperty[\"SessionLastTimestamp\"] = \"session_timestamp\";\n    PostHogPersistedProperty[\"PersonProperties\"] = \"person_properties\";\n    PostHogPersistedProperty[\"GroupProperties\"] = \"group_properties\";\n    PostHogPersistedProperty[\"InstalledAppBuild\"] = \"installed_app_build\";\n    PostHogPersistedProperty[\"InstalledAppVersion\"] = \"installed_app_version\";\n    PostHogPersistedProperty[\"SessionReplay\"] = \"session_replay\";\n    PostHogPersistedProperty[\"SurveyLastSeenDate\"] = \"survey_last_seen_date\";\n    PostHogPersistedProperty[\"SurveysSeen\"] = \"surveys_seen\";\n    PostHogPersistedProperty[\"Surveys\"] = \"surveys\";\n    PostHogPersistedProperty[\"RemoteConfig\"] = \"remote_config\";\n    PostHogPersistedProperty[\"FlagsEndpointWasHit\"] = \"flags_endpoint_was_hit\";\n    return PostHogPersistedProperty;\n}({});\nvar types_Compression = /*#__PURE__*/ function(Compression) {\n    Compression[\"GZipJS\"] = \"gzip-js\";\n    Compression[\"Base64\"] = \"base64\";\n    return Compression;\n}({});\nvar types_SurveyPosition = /*#__PURE__*/ function(SurveyPosition) {\n    SurveyPosition[\"TopLeft\"] = \"top_left\";\n    SurveyPosition[\"TopCenter\"] = \"top_center\";\n    SurveyPosition[\"TopRight\"] = \"top_right\";\n    SurveyPosition[\"MiddleLeft\"] = \"middle_left\";\n    SurveyPosition[\"MiddleCenter\"] = \"middle_center\";\n    SurveyPosition[\"MiddleRight\"] = \"middle_right\";\n    SurveyPosition[\"Left\"] = \"left\";\n    SurveyPosition[\"Right\"] = \"right\";\n    SurveyPosition[\"Center\"] = \"center\";\n    return SurveyPosition;\n}({});\nvar types_SurveyWidgetType = /*#__PURE__*/ function(SurveyWidgetType) {\n    SurveyWidgetType[\"Button\"] = \"button\";\n    SurveyWidgetType[\"Tab\"] = \"tab\";\n    SurveyWidgetType[\"Selector\"] = \"selector\";\n    return SurveyWidgetType;\n}({});\nvar types_SurveyType = /*#__PURE__*/ function(SurveyType) {\n    SurveyType[\"Popover\"] = \"popover\";\n    SurveyType[\"API\"] = \"api\";\n    SurveyType[\"Widget\"] = \"widget\";\n    SurveyType[\"ExternalSurvey\"] = \"external_survey\";\n    return SurveyType;\n}({});\nvar types_SurveyQuestionDescriptionContentType = /*#__PURE__*/ function(SurveyQuestionDescriptionContentType) {\n    SurveyQuestionDescriptionContentType[\"Html\"] = \"html\";\n    SurveyQuestionDescriptionContentType[\"Text\"] = \"text\";\n    return SurveyQuestionDescriptionContentType;\n}({});\nvar types_SurveyRatingDisplay = /*#__PURE__*/ function(SurveyRatingDisplay) {\n    SurveyRatingDisplay[\"Number\"] = \"number\";\n    SurveyRatingDisplay[\"Emoji\"] = \"emoji\";\n    return SurveyRatingDisplay;\n}({});\nvar types_SurveyQuestionType = /*#__PURE__*/ function(SurveyQuestionType) {\n    SurveyQuestionType[\"Open\"] = \"open\";\n    SurveyQuestionType[\"MultipleChoice\"] = \"multiple_choice\";\n    SurveyQuestionType[\"SingleChoice\"] = \"single_choice\";\n    SurveyQuestionType[\"Rating\"] = \"rating\";\n    SurveyQuestionType[\"Link\"] = \"link\";\n    return SurveyQuestionType;\n}({});\nvar types_SurveyQuestionBranchingType = /*#__PURE__*/ function(SurveyQuestionBranchingType) {\n    SurveyQuestionBranchingType[\"NextQuestion\"] = \"next_question\";\n    SurveyQuestionBranchingType[\"End\"] = \"end\";\n    SurveyQuestionBranchingType[\"ResponseBased\"] = \"response_based\";\n    SurveyQuestionBranchingType[\"SpecificQuestion\"] = \"specific_question\";\n    return SurveyQuestionBranchingType;\n}({});\nvar types_SurveyMatchType = /*#__PURE__*/ function(SurveyMatchType) {\n    SurveyMatchType[\"Regex\"] = \"regex\";\n    SurveyMatchType[\"NotRegex\"] = \"not_regex\";\n    SurveyMatchType[\"Exact\"] = \"exact\";\n    SurveyMatchType[\"IsNot\"] = \"is_not\";\n    SurveyMatchType[\"Icontains\"] = \"icontains\";\n    SurveyMatchType[\"NotIcontains\"] = \"not_icontains\";\n    return SurveyMatchType;\n}({});\nvar types_ActionStepStringMatching = /*#__PURE__*/ function(ActionStepStringMatching) {\n    ActionStepStringMatching[\"Contains\"] = \"contains\";\n    ActionStepStringMatching[\"Exact\"] = \"exact\";\n    ActionStepStringMatching[\"Regex\"] = \"regex\";\n    return ActionStepStringMatching;\n}({});\nconst knownUnsafeEditableEvent = [\n    '$snapshot',\n    '$pageview',\n    '$pageleave',\n    '$set',\n    'survey dismissed',\n    'survey sent',\n    'survey shown',\n    '$identify',\n    '$groupidentify',\n    '$create_alias',\n    '$$client_ingestion_warning',\n    '$web_experiment_applied',\n    '$feature_enrollment_update',\n    '$feature_flag_called'\n];\nexport { types_ActionStepStringMatching as ActionStepStringMatching, types_Compression as Compression, types_PostHogPersistedProperty as PostHogPersistedProperty, types_SurveyMatchType as SurveyMatchType, types_SurveyPosition as SurveyPosition, types_SurveyQuestionBranchingType as SurveyQuestionBranchingType, types_SurveyQuestionDescriptionContentType as SurveyQuestionDescriptionContentType, types_SurveyQuestionType as SurveyQuestionType, types_SurveyRatingDisplay as SurveyRatingDisplay, types_SurveyType as SurveyType, types_SurveyWidgetType as SurveyWidgetType, knownUnsafeEditableEvent };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 569, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/utils/string-utils.mjs"],"sourcesContent":["function includes(str, needle) {\n    return -1 !== str.indexOf(needle);\n}\nconst trim = function(str) {\n    return str.trim();\n};\nconst stripLeadingDollar = function(s) {\n    return s.replace(/^\\$/, '');\n};\nfunction isDistinctIdStringLike(value) {\n    return [\n        'distinct_id',\n        'distinctid'\n    ].includes(value.toLowerCase());\n}\nexport { includes, isDistinctIdStringLike, stripLeadingDollar, trim };\n"],"names":[],"mappings":";;;;;;;;;;AAAA,SAAS,SAAS,GAAG,EAAE,MAAM;IACzB,OAAO,CAAC,MAAM,IAAI,OAAO,CAAC;AAC9B;AACA,MAAM,OAAO,SAAS,GAAG;IACrB,OAAO,IAAI,IAAI;AACnB;AACA,MAAM,qBAAqB,SAAS,CAAC;IACjC,OAAO,EAAE,OAAO,CAAC,OAAO;AAC5B;AACA,SAAS,uBAAuB,KAAK;IACjC,OAAO;QACH;QACA;KACH,CAAC,QAAQ,CAAC,MAAM,WAAW;AAChC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 599, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/utils/type-utils.mjs"],"sourcesContent":["import { knownUnsafeEditableEvent } from \"../types.mjs\";\nimport { includes } from \"./string-utils.mjs\";\nconst nativeIsArray = Array.isArray;\nconst ObjProto = Object.prototype;\nconst type_utils_hasOwnProperty = ObjProto.hasOwnProperty;\nconst type_utils_toString = ObjProto.toString;\nconst isArray = nativeIsArray || function(obj) {\n    return '[object Array]' === type_utils_toString.call(obj);\n};\nconst isFunction = (x)=>'function' == typeof x;\nconst isNativeFunction = (x)=>isFunction(x) && -1 !== x.toString().indexOf('[native code]');\nconst isObject = (x)=>x === Object(x) && !isArray(x);\nconst isEmptyObject = (x)=>{\n    if (isObject(x)) {\n        for(const key in x)if (type_utils_hasOwnProperty.call(x, key)) return false;\n        return true;\n    }\n    return false;\n};\nconst isUndefined = (x)=>void 0 === x;\nconst isString = (x)=>'[object String]' == type_utils_toString.call(x);\nconst isEmptyString = (x)=>isString(x) && 0 === x.trim().length;\nconst isNull = (x)=>null === x;\nconst isNullish = (x)=>isUndefined(x) || isNull(x);\nconst isNumber = (x)=>'[object Number]' == type_utils_toString.call(x);\nconst isBoolean = (x)=>'[object Boolean]' === type_utils_toString.call(x);\nconst isFormData = (x)=>x instanceof FormData;\nconst isFile = (x)=>x instanceof File;\nconst isPlainError = (x)=>x instanceof Error;\nconst isKnownUnsafeEditableEvent = (x)=>includes(knownUnsafeEditableEvent, x);\nfunction isInstanceOf(candidate, base) {\n    try {\n        return candidate instanceof base;\n    } catch  {\n        return false;\n    }\n}\nfunction isPrimitive(value) {\n    return null === value || 'object' != typeof value;\n}\nfunction isBuiltin(candidate, className) {\n    return Object.prototype.toString.call(candidate) === `[object ${className}]`;\n}\nfunction isError(candidate) {\n    switch(Object.prototype.toString.call(candidate)){\n        case '[object Error]':\n        case '[object Exception]':\n        case '[object DOMException]':\n        case '[object DOMError]':\n        case '[object WebAssembly.Exception]':\n            return true;\n        default:\n            return isInstanceOf(candidate, Error);\n    }\n}\nfunction isErrorEvent(event) {\n    return isBuiltin(event, 'ErrorEvent');\n}\nfunction isEvent(candidate) {\n    return !isUndefined(Event) && isInstanceOf(candidate, Event);\n}\nfunction isPlainObject(candidate) {\n    return isBuiltin(candidate, 'Object');\n}\nconst yesLikeValues = [\n    true,\n    'true',\n    1,\n    '1',\n    'yes'\n];\nconst isYesLike = (val)=>includes(yesLikeValues, val);\nconst noLikeValues = [\n    false,\n    'false',\n    0,\n    '0',\n    'no'\n];\nconst isNoLike = (val)=>includes(noLikeValues, val);\nexport { type_utils_hasOwnProperty as hasOwnProperty, isArray, isBoolean, isBuiltin, isEmptyObject, isEmptyString, isError, isErrorEvent, isEvent, isFile, isFormData, isFunction, isInstanceOf, isKnownUnsafeEditableEvent, isNativeFunction, isNoLike, isNull, isNullish, isNumber, isObject, isPlainError, isPlainObject, isPrimitive, isString, isUndefined, isYesLike, noLikeValues, yesLikeValues };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;AACA,MAAM,gBAAgB,MAAM,OAAO;AACnC,MAAM,WAAW,OAAO,SAAS;AACjC,MAAM,4BAA4B,SAAS,cAAc;AACzD,MAAM,sBAAsB,SAAS,QAAQ;AAC7C,MAAM,UAAU,iBAAiB,SAAS,GAAG;IACzC,OAAO,qBAAqB,oBAAoB,IAAI,CAAC;AACzD;AACA,MAAM,aAAa,CAAC,IAAI,cAAc,OAAO;AAC7C,MAAM,mBAAmB,CAAC,IAAI,WAAW,MAAM,CAAC,MAAM,EAAE,QAAQ,GAAG,OAAO,CAAC;AAC3E,MAAM,WAAW,CAAC,IAAI,MAAM,OAAO,MAAM,CAAC,QAAQ;AAClD,MAAM,gBAAgB,CAAC;IACnB,IAAI,SAAS,IAAI;QACb,IAAI,MAAM,OAAO,EAAE,IAAI,0BAA0B,IAAI,CAAC,GAAG,MAAM,OAAO;QACtE,OAAO;IACX;IACA,OAAO;AACX;AACA,MAAM,cAAc,CAAC,IAAI,KAAK,MAAM;AACpC,MAAM,WAAW,CAAC,IAAI,qBAAqB,oBAAoB,IAAI,CAAC;AACpE,MAAM,gBAAgB,CAAC,IAAI,SAAS,MAAM,MAAM,EAAE,IAAI,GAAG,MAAM;AAC/D,MAAM,SAAS,CAAC,IAAI,SAAS;AAC7B,MAAM,YAAY,CAAC,IAAI,YAAY,MAAM,OAAO;AAChD,MAAM,WAAW,CAAC,IAAI,qBAAqB,oBAAoB,IAAI,CAAC;AACpE,MAAM,YAAY,CAAC,IAAI,uBAAuB,oBAAoB,IAAI,CAAC;AACvE,MAAM,aAAa,CAAC,IAAI,aAAa;AACrC,MAAM,SAAS,CAAC,IAAI,aAAa;AACjC,MAAM,eAAe,CAAC,IAAI,aAAa;AACvC,MAAM,6BAA6B,CAAC,IAAI,IAAA,kPAAQ,EAAC,+OAAwB,EAAE;AAC3E,SAAS,aAAa,SAAS,EAAE,IAAI;IACjC,IAAI;QACA,OAAO,qBAAqB;IAChC,EAAE,OAAO;QACL,OAAO;IACX;AACJ;AACA,SAAS,YAAY,KAAK;IACtB,OAAO,SAAS,SAAS,YAAY,OAAO;AAChD;AACA,SAAS,UAAU,SAAS,EAAE,SAAS;IACnC,OAAO,OAAO,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;AAChF;AACA,SAAS,QAAQ,SAAS;IACtB,OAAO,OAAO,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC;QAClC,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YACD,OAAO;QACX;YACI,OAAO,aAAa,WAAW;IACvC;AACJ;AACA,SAAS,aAAa,KAAK;IACvB,OAAO,UAAU,OAAO;AAC5B;AACA,SAAS,QAAQ,SAAS;IACtB,OAAO,CAAC,YAAY,UAAU,aAAa,WAAW;AAC1D;AACA,SAAS,cAAc,SAAS;IAC5B,OAAO,UAAU,WAAW;AAChC;AACA,MAAM,gBAAgB;IAClB;IACA;IACA;IACA;IACA;CACH;AACD,MAAM,YAAY,CAAC,MAAM,IAAA,kPAAQ,EAAC,eAAe;AACjD,MAAM,eAAe;IACjB;IACA;IACA;IACA;IACA;CACH;AACD,MAAM,WAAW,CAAC,MAAM,IAAA,kPAAQ,EAAC,cAAc","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 744, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/utils/number-utils.mjs"],"sourcesContent":["import { isNumber } from \"./type-utils.mjs\";\nfunction clampToRange(value, min, max, logger, fallbackValue) {\n    if (min > max) {\n        logger.warn('min cannot be greater than max.');\n        min = max;\n    }\n    if (isNumber(value)) if (value > max) {\n        logger.warn(' cannot be  greater than max: ' + max + '. Using max value instead.');\n        return max;\n    } else {\n        if (!(value < min)) return value;\n        logger.warn(' cannot be less than min: ' + min + '. Using min value instead.');\n        return min;\n    }\n    logger.warn(' must be a number. using max or fallback. max: ' + max + ', fallback: ' + fallbackValue);\n    return clampToRange(fallbackValue || max, min, max, logger);\n}\nexport { clampToRange };\n"],"names":[],"mappings":";;;;AAAA;;AACA,SAAS,aAAa,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE,aAAa;IACxD,IAAI,MAAM,KAAK;QACX,OAAO,IAAI,CAAC;QACZ,MAAM;IACV;IACA,IAAI,IAAA,gPAAQ,EAAC,QAAQ,IAAI,QAAQ,KAAK;QAClC,OAAO,IAAI,CAAC,mCAAmC,MAAM;QACrD,OAAO;IACX,OAAO;QACH,IAAI,CAAC,CAAC,QAAQ,GAAG,GAAG,OAAO;QAC3B,OAAO,IAAI,CAAC,+BAA+B,MAAM;QACjD,OAAO;IACX;IACA,OAAO,IAAI,CAAC,oDAAoD,MAAM,iBAAiB;IACvF,OAAO,aAAa,iBAAiB,KAAK,KAAK,KAAK;AACxD","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 771, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/utils/bucketed-rate-limiter.mjs"],"sourcesContent":["import { clampToRange } from \"./number-utils.mjs\";\nconst ONE_DAY_IN_MS = 86400000;\nclass BucketedRateLimiter {\n    constructor(options){\n        this._buckets = {};\n        this._onBucketRateLimited = options._onBucketRateLimited;\n        this._bucketSize = clampToRange(options.bucketSize, 0, 100, options._logger);\n        this._refillRate = clampToRange(options.refillRate, 0, this._bucketSize, options._logger);\n        this._refillInterval = clampToRange(options.refillInterval, 0, ONE_DAY_IN_MS, options._logger);\n    }\n    _applyRefill(bucket, now) {\n        const elapsedMs = now - bucket.lastAccess;\n        const refillIntervals = Math.floor(elapsedMs / this._refillInterval);\n        if (refillIntervals > 0) {\n            const tokensToAdd = refillIntervals * this._refillRate;\n            bucket.tokens = Math.min(bucket.tokens + tokensToAdd, this._bucketSize);\n            bucket.lastAccess = bucket.lastAccess + refillIntervals * this._refillInterval;\n        }\n    }\n    consumeRateLimit(key) {\n        const now = Date.now();\n        const keyStr = String(key);\n        let bucket = this._buckets[keyStr];\n        if (bucket) this._applyRefill(bucket, now);\n        else {\n            bucket = {\n                tokens: this._bucketSize,\n                lastAccess: now\n            };\n            this._buckets[keyStr] = bucket;\n        }\n        if (0 === bucket.tokens) return true;\n        bucket.tokens--;\n        if (0 === bucket.tokens) this._onBucketRateLimited?.(key);\n        return 0 === bucket.tokens;\n    }\n    stop() {\n        this._buckets = {};\n    }\n}\nexport { BucketedRateLimiter };\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,gBAAgB;AACtB,MAAM;IACF,YAAY,OAAO,CAAC;QAChB,IAAI,CAAC,QAAQ,GAAG,CAAC;QACjB,IAAI,CAAC,oBAAoB,GAAG,QAAQ,oBAAoB;QACxD,IAAI,CAAC,WAAW,GAAG,IAAA,sPAAY,EAAC,QAAQ,UAAU,EAAE,GAAG,KAAK,QAAQ,OAAO;QAC3E,IAAI,CAAC,WAAW,GAAG,IAAA,sPAAY,EAAC,QAAQ,UAAU,EAAE,GAAG,IAAI,CAAC,WAAW,EAAE,QAAQ,OAAO;QACxF,IAAI,CAAC,eAAe,GAAG,IAAA,sPAAY,EAAC,QAAQ,cAAc,EAAE,GAAG,eAAe,QAAQ,OAAO;IACjG;IACA,aAAa,MAAM,EAAE,GAAG,EAAE;QACtB,MAAM,YAAY,MAAM,OAAO,UAAU;QACzC,MAAM,kBAAkB,KAAK,KAAK,CAAC,YAAY,IAAI,CAAC,eAAe;QACnE,IAAI,kBAAkB,GAAG;YACrB,MAAM,cAAc,kBAAkB,IAAI,CAAC,WAAW;YACtD,OAAO,MAAM,GAAG,KAAK,GAAG,CAAC,OAAO,MAAM,GAAG,aAAa,IAAI,CAAC,WAAW;YACtE,OAAO,UAAU,GAAG,OAAO,UAAU,GAAG,kBAAkB,IAAI,CAAC,eAAe;QAClF;IACJ;IACA,iBAAiB,GAAG,EAAE;QAClB,MAAM,MAAM,KAAK,GAAG;QACpB,MAAM,SAAS,OAAO;QACtB,IAAI,SAAS,IAAI,CAAC,QAAQ,CAAC,OAAO;QAClC,IAAI,QAAQ,IAAI,CAAC,YAAY,CAAC,QAAQ;aACjC;YACD,SAAS;gBACL,QAAQ,IAAI,CAAC,WAAW;gBACxB,YAAY;YAChB;YACA,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG;QAC5B;QACA,IAAI,MAAM,OAAO,MAAM,EAAE,OAAO;QAChC,OAAO,MAAM;QACb,IAAI,MAAM,OAAO,MAAM,EAAE,IAAI,CAAC,oBAAoB,GAAG;QACrD,OAAO,MAAM,OAAO,MAAM;IAC9B;IACA,OAAO;QACH,IAAI,CAAC,QAAQ,GAAG,CAAC;IACrB;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 821, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/utils/promise-queue.mjs"],"sourcesContent":["import { uuidv7 } from \"../vendor/uuidv7.mjs\";\nclass PromiseQueue {\n    add(promise) {\n        const promiseUUID = uuidv7();\n        this.promiseByIds[promiseUUID] = promise;\n        promise.catch(()=>{}).finally(()=>{\n            delete this.promiseByIds[promiseUUID];\n        });\n        return promise;\n    }\n    async join() {\n        let promises = Object.values(this.promiseByIds);\n        let length = promises.length;\n        while(length > 0){\n            await Promise.all(promises);\n            promises = Object.values(this.promiseByIds);\n            length = promises.length;\n        }\n    }\n    get length() {\n        return Object.keys(this.promiseByIds).length;\n    }\n    constructor(){\n        this.promiseByIds = {};\n    }\n}\nexport { PromiseQueue };\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM;IACF,IAAI,OAAO,EAAE;QACT,MAAM,cAAc,IAAA,wOAAM;QAC1B,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG;QACjC,QAAQ,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;YAC1B,OAAO,IAAI,CAAC,YAAY,CAAC,YAAY;QACzC;QACA,OAAO;IACX;IACA,MAAM,OAAO;QACT,IAAI,WAAW,OAAO,MAAM,CAAC,IAAI,CAAC,YAAY;QAC9C,IAAI,SAAS,SAAS,MAAM;QAC5B,MAAM,SAAS,EAAE;YACb,MAAM,QAAQ,GAAG,CAAC;YAClB,WAAW,OAAO,MAAM,CAAC,IAAI,CAAC,YAAY;YAC1C,SAAS,SAAS,MAAM;QAC5B;IACJ;IACA,IAAI,SAAS;QACT,OAAO,OAAO,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,MAAM;IAChD;IACA,aAAa;QACT,IAAI,CAAC,YAAY,GAAG,CAAC;IACzB;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 857, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/utils/index.mjs"],"sourcesContent":["export * from \"./bot-detection.mjs\";\nexport * from \"./bucketed-rate-limiter.mjs\";\nexport * from \"./number-utils.mjs\";\nexport * from \"./string-utils.mjs\";\nexport * from \"./type-utils.mjs\";\nexport * from \"./promise-queue.mjs\";\nconst STRING_FORMAT = 'utf8';\nfunction assert(truthyValue, message) {\n    if (!truthyValue || 'string' != typeof truthyValue || isEmpty(truthyValue)) throw new Error(message);\n}\nfunction isEmpty(truthyValue) {\n    if (0 === truthyValue.trim().length) return true;\n    return false;\n}\nfunction removeTrailingSlash(url) {\n    return url?.replace(/\\/+$/, '');\n}\nasync function retriable(fn, props) {\n    let lastError = null;\n    for(let i = 0; i < props.retryCount + 1; i++){\n        if (i > 0) await new Promise((r)=>setTimeout(r, props.retryDelay));\n        try {\n            const res = await fn();\n            return res;\n        } catch (e) {\n            lastError = e;\n            if (!props.retryCheck(e)) throw e;\n        }\n    }\n    throw lastError;\n}\nfunction currentTimestamp() {\n    return new Date().getTime();\n}\nfunction currentISOTime() {\n    return new Date().toISOString();\n}\nfunction safeSetTimeout(fn, timeout) {\n    const t = setTimeout(fn, timeout);\n    t?.unref && t?.unref();\n    return t;\n}\nconst isPromise = (obj)=>obj && 'function' == typeof obj.then;\nconst isError = (x)=>x instanceof Error;\nfunction getFetch() {\n    return 'undefined' != typeof fetch ? fetch : void 0 !== globalThis.fetch ? globalThis.fetch : void 0;\n}\nfunction allSettled(promises) {\n    return Promise.all(promises.map((p)=>(p ?? Promise.resolve()).then((value)=>({\n                status: 'fulfilled',\n                value\n            }), (reason)=>({\n                status: 'rejected',\n                reason\n            }))));\n}\nexport { STRING_FORMAT, allSettled, assert, currentISOTime, currentTimestamp, getFetch, isError, isPromise, removeTrailingSlash, retriable, safeSetTimeout };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;AACA,MAAM,gBAAgB;AACtB,SAAS,OAAO,WAAW,EAAE,OAAO;IAChC,IAAI,CAAC,eAAe,YAAY,OAAO,eAAe,QAAQ,cAAc,MAAM,IAAI,MAAM;AAChG;AACA,SAAS,QAAQ,WAAW;IACxB,IAAI,MAAM,YAAY,IAAI,GAAG,MAAM,EAAE,OAAO;IAC5C,OAAO;AACX;AACA,SAAS,oBAAoB,GAAG;IAC5B,OAAO,KAAK,QAAQ,QAAQ;AAChC;AACA,eAAe,UAAU,EAAE,EAAE,KAAK;IAC9B,IAAI,YAAY;IAChB,IAAI,IAAI,IAAI,GAAG,IAAI,MAAM,UAAU,GAAG,GAAG,IAAI;QACzC,IAAI,IAAI,GAAG,MAAM,IAAI,QAAQ,CAAC,IAAI,WAAW,GAAG,MAAM,UAAU;QAChE,IAAI;YACA,MAAM,MAAM,MAAM;YAClB,OAAO;QACX,EAAE,OAAO,GAAG;YACR,YAAY;YACZ,IAAI,CAAC,MAAM,UAAU,CAAC,IAAI,MAAM;QACpC;IACJ;IACA,MAAM;AACV;AACA,SAAS;IACL,OAAO,IAAI,OAAO,OAAO;AAC7B;AACA,SAAS;IACL,OAAO,IAAI,OAAO,WAAW;AACjC;AACA,SAAS,eAAe,EAAE,EAAE,OAAO;IAC/B,MAAM,IAAI,WAAW,IAAI;IACzB,GAAG,SAAS,GAAG;IACf,OAAO;AACX;AACA,MAAM,YAAY,CAAC,MAAM,OAAO,cAAc,OAAO,IAAI,IAAI;AAC7D,MAAM,UAAU,CAAC,IAAI,aAAa;AAClC,SAAS;IACL,OAAO,eAAe,OAAO,QAAQ,QAAQ,KAAK,MAAM,WAAW,KAAK,GAAG,WAAW,KAAK,GAAG,KAAK;AACvG;AACA,SAAS,WAAW,QAAQ;IACxB,OAAO,QAAQ,GAAG,CAAC,SAAS,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,QAAQ,OAAO,EAAE,EAAE,IAAI,CAAC,CAAC,QAAQ,CAAC;gBACjE,QAAQ;gBACR;YACJ,CAAC,GAAG,CAAC,SAAS,CAAC;gBACX,QAAQ;gBACR;YACJ,CAAC;AACb","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 948, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/eventemitter.mjs"],"sourcesContent":["class SimpleEventEmitter {\n    constructor(){\n        this.events = {};\n        this.events = {};\n    }\n    on(event, listener) {\n        if (!this.events[event]) this.events[event] = [];\n        this.events[event].push(listener);\n        return ()=>{\n            this.events[event] = this.events[event].filter((x)=>x !== listener);\n        };\n    }\n    emit(event, payload) {\n        for (const listener of this.events[event] || [])listener(payload);\n        for (const listener of this.events['*'] || [])listener(event, payload);\n    }\n}\nexport { SimpleEventEmitter };\n"],"names":[],"mappings":";;;;AAAA,MAAM;IACF,aAAa;QACT,IAAI,CAAC,MAAM,GAAG,CAAC;QACf,IAAI,CAAC,MAAM,GAAG,CAAC;IACnB;IACA,GAAG,KAAK,EAAE,QAAQ,EAAE;QAChB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE;QAChD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;QACxB,OAAO;YACH,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,MAAM;QAC9D;IACJ;IACA,KAAK,KAAK,EAAE,OAAO,EAAE;QACjB,KAAK,MAAM,YAAY,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,EAAE,CAAC,SAAS;QACzD,KAAK,MAAM,YAAY,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC,SAAS,OAAO;IAClE;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 974, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/gzip.mjs"],"sourcesContent":["function isGzipSupported() {\n    return 'CompressionStream' in globalThis;\n}\nasync function gzipCompress(input, isDebug = true) {\n    try {\n        const dataStream = new Blob([\n            input\n        ], {\n            type: 'text/plain'\n        }).stream();\n        const compressedStream = dataStream.pipeThrough(new CompressionStream('gzip'));\n        return await new Response(compressedStream).blob();\n    } catch (error) {\n        if (isDebug) console.error('Failed to gzip compress data', error);\n        return null;\n    }\n}\nexport { gzipCompress, isGzipSupported };\n"],"names":[],"mappings":";;;;;;AAAA,SAAS;IACL,OAAO,uBAAuB;AAClC;AACA,eAAe,aAAa,KAAK,EAAE,UAAU,IAAI;IAC7C,IAAI;QACA,MAAM,aAAa,IAAI,KAAK;YACxB;SACH,EAAE;YACC,MAAM;QACV,GAAG,MAAM;QACT,MAAM,mBAAmB,WAAW,WAAW,CAAC,IAAI,kBAAkB;QACtE,OAAO,MAAM,IAAI,SAAS,kBAAkB,IAAI;IACpD,EAAE,OAAO,OAAO;QACZ,IAAI,SAAS,QAAQ,KAAK,CAAC,gCAAgC;QAC3D,OAAO;IACX;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1002, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/logger.mjs"],"sourcesContent":["function createConsole(consoleLike = console) {\n    const lockedMethods = {\n        log: consoleLike.log.bind(consoleLike),\n        warn: consoleLike.warn.bind(consoleLike),\n        error: consoleLike.error.bind(consoleLike),\n        debug: consoleLike.debug.bind(consoleLike)\n    };\n    return lockedMethods;\n}\nconst _createLogger = (prefix, maybeCall, consoleLike)=>{\n    function _log(level, ...args) {\n        maybeCall(()=>{\n            const consoleMethod = consoleLike[level];\n            consoleMethod(prefix, ...args);\n        });\n    }\n    const logger = {\n        info: (...args)=>{\n            _log('log', ...args);\n        },\n        warn: (...args)=>{\n            _log('warn', ...args);\n        },\n        error: (...args)=>{\n            _log('error', ...args);\n        },\n        critical: (...args)=>{\n            consoleLike['error'](prefix, ...args);\n        },\n        createLogger: (additionalPrefix)=>_createLogger(`${prefix} ${additionalPrefix}`, maybeCall, consoleLike)\n    };\n    return logger;\n};\nfunction createLogger(prefix, maybeCall) {\n    return _createLogger(prefix, maybeCall, createConsole());\n}\nexport { _createLogger, createLogger };\n"],"names":[],"mappings":";;;;;;AAAA,SAAS,cAAc,cAAc,OAAO;IACxC,MAAM,gBAAgB;QAClB,KAAK,YAAY,GAAG,CAAC,IAAI,CAAC;QAC1B,MAAM,YAAY,IAAI,CAAC,IAAI,CAAC;QAC5B,OAAO,YAAY,KAAK,CAAC,IAAI,CAAC;QAC9B,OAAO,YAAY,KAAK,CAAC,IAAI,CAAC;IAClC;IACA,OAAO;AACX;AACA,MAAM,gBAAgB,CAAC,QAAQ,WAAW;IACtC,SAAS,KAAK,KAAK,EAAE,GAAG,IAAI;QACxB,UAAU;YACN,MAAM,gBAAgB,WAAW,CAAC,MAAM;YACxC,cAAc,WAAW;QAC7B;IACJ;IACA,MAAM,SAAS;QACX,MAAM,CAAC,GAAG;YACN,KAAK,UAAU;QACnB;QACA,MAAM,CAAC,GAAG;YACN,KAAK,WAAW;QACpB;QACA,OAAO,CAAC,GAAG;YACP,KAAK,YAAY;QACrB;QACA,UAAU,CAAC,GAAG;YACV,WAAW,CAAC,QAAQ,CAAC,WAAW;QACpC;QACA,cAAc,CAAC,mBAAmB,cAAc,GAAG,OAAO,CAAC,EAAE,kBAAkB,EAAE,WAAW;IAChG;IACA,OAAO;AACX;AACA,SAAS,aAAa,MAAM,EAAE,SAAS;IACnC,OAAO,cAAc,QAAQ,WAAW;AAC5C","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1049, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/posthog-core-stateless.mjs"],"sourcesContent":["import { SimpleEventEmitter } from \"./eventemitter.mjs\";\nimport { getFeatureFlagValue, normalizeFlagsResponse } from \"./featureFlagUtils.mjs\";\nimport { gzipCompress, isGzipSupported } from \"./gzip.mjs\";\nimport { createLogger } from \"./logger.mjs\";\nimport { PostHogPersistedProperty } from \"./types.mjs\";\nimport { PromiseQueue, STRING_FORMAT, allSettled, assert, currentISOTime, removeTrailingSlash, retriable, safeSetTimeout } from \"./utils/index.mjs\";\nimport { uuidv7 } from \"./vendor/uuidv7.mjs\";\nclass PostHogFetchHttpError extends Error {\n    constructor(response, reqByteLength){\n        super('HTTP error while fetching PostHog: status=' + response.status + ', reqByteLength=' + reqByteLength), this.response = response, this.reqByteLength = reqByteLength, this.name = 'PostHogFetchHttpError';\n    }\n    get status() {\n        return this.response.status;\n    }\n    get text() {\n        return this.response.text();\n    }\n    get json() {\n        return this.response.json();\n    }\n}\nclass PostHogFetchNetworkError extends Error {\n    constructor(error){\n        super('Network error while fetching PostHog', error instanceof Error ? {\n            cause: error\n        } : {}), this.error = error, this.name = 'PostHogFetchNetworkError';\n    }\n}\nconst maybeAdd = (key, value)=>void 0 !== value ? {\n        [key]: value\n    } : {};\nasync function logFlushError(err) {\n    if (err instanceof PostHogFetchHttpError) {\n        let text = '';\n        try {\n            text = await err.text;\n        } catch  {}\n        console.error(`Error while flushing PostHog: message=${err.message}, response body=${text}`, err);\n    } else console.error('Error while flushing PostHog', err);\n    return Promise.resolve();\n}\nfunction isPostHogFetchError(err) {\n    return 'object' == typeof err && (err instanceof PostHogFetchHttpError || err instanceof PostHogFetchNetworkError);\n}\nfunction isPostHogFetchContentTooLargeError(err) {\n    return 'object' == typeof err && err instanceof PostHogFetchHttpError && 413 === err.status;\n}\nvar posthog_core_stateless_QuotaLimitedFeature = /*#__PURE__*/ function(QuotaLimitedFeature) {\n    QuotaLimitedFeature[\"FeatureFlags\"] = \"feature_flags\";\n    QuotaLimitedFeature[\"Recordings\"] = \"recordings\";\n    return QuotaLimitedFeature;\n}({});\nclass PostHogCoreStateless {\n    constructor(apiKey, options = {}){\n        this.flushPromise = null;\n        this.shutdownPromise = null;\n        this.promiseQueue = new PromiseQueue();\n        this._events = new SimpleEventEmitter();\n        this._isInitialized = false;\n        assert(apiKey, \"You must pass your PostHog project's api key.\");\n        this.apiKey = apiKey;\n        this.host = removeTrailingSlash(options.host || 'https://us.i.posthog.com');\n        this.flushAt = options.flushAt ? Math.max(options.flushAt, 1) : 20;\n        this.maxBatchSize = Math.max(this.flushAt, options.maxBatchSize ?? 100);\n        this.maxQueueSize = Math.max(this.flushAt, options.maxQueueSize ?? 1000);\n        this.flushInterval = options.flushInterval ?? 10000;\n        this.preloadFeatureFlags = options.preloadFeatureFlags ?? true;\n        this.defaultOptIn = options.defaultOptIn ?? true;\n        this.disableSurveys = options.disableSurveys ?? false;\n        this._retryOptions = {\n            retryCount: options.fetchRetryCount ?? 3,\n            retryDelay: options.fetchRetryDelay ?? 3000,\n            retryCheck: isPostHogFetchError\n        };\n        this.requestTimeout = options.requestTimeout ?? 10000;\n        this.featureFlagsRequestTimeoutMs = options.featureFlagsRequestTimeoutMs ?? 3000;\n        this.remoteConfigRequestTimeoutMs = options.remoteConfigRequestTimeoutMs ?? 3000;\n        this.disableGeoip = options.disableGeoip ?? true;\n        this.disabled = options.disabled ?? false;\n        this.historicalMigration = options?.historicalMigration ?? false;\n        this.evaluationEnvironments = options?.evaluationEnvironments;\n        this._initPromise = Promise.resolve();\n        this._isInitialized = true;\n        this._logger = createLogger('[PostHog]', this.logMsgIfDebug.bind(this));\n        this.disableCompression = !isGzipSupported() || (options?.disableCompression ?? false);\n    }\n    logMsgIfDebug(fn) {\n        if (this.isDebug) fn();\n    }\n    wrap(fn) {\n        if (this.disabled) return void this._logger.warn('The client is disabled');\n        if (this._isInitialized) return fn();\n        this._initPromise.then(()=>fn());\n    }\n    getCommonEventProperties() {\n        return {\n            $lib: this.getLibraryId(),\n            $lib_version: this.getLibraryVersion()\n        };\n    }\n    get optedOut() {\n        return this.getPersistedProperty(PostHogPersistedProperty.OptedOut) ?? !this.defaultOptIn;\n    }\n    async optIn() {\n        this.wrap(()=>{\n            this.setPersistedProperty(PostHogPersistedProperty.OptedOut, false);\n        });\n    }\n    async optOut() {\n        this.wrap(()=>{\n            this.setPersistedProperty(PostHogPersistedProperty.OptedOut, true);\n        });\n    }\n    on(event, cb) {\n        return this._events.on(event, cb);\n    }\n    debug(enabled = true) {\n        this.removeDebugCallback?.();\n        if (enabled) {\n            const removeDebugCallback = this.on('*', (event, payload)=>this._logger.info(event, payload));\n            this.removeDebugCallback = ()=>{\n                removeDebugCallback();\n                this.removeDebugCallback = void 0;\n            };\n        }\n    }\n    get isDebug() {\n        return !!this.removeDebugCallback;\n    }\n    get isDisabled() {\n        return this.disabled;\n    }\n    buildPayload(payload) {\n        return {\n            distinct_id: payload.distinct_id,\n            event: payload.event,\n            properties: {\n                ...payload.properties || {},\n                ...this.getCommonEventProperties()\n            }\n        };\n    }\n    addPendingPromise(promise) {\n        return this.promiseQueue.add(promise);\n    }\n    identifyStateless(distinctId, properties, options) {\n        this.wrap(()=>{\n            const payload = {\n                ...this.buildPayload({\n                    distinct_id: distinctId,\n                    event: '$identify',\n                    properties\n                })\n            };\n            this.enqueue('identify', payload, options);\n        });\n    }\n    async identifyStatelessImmediate(distinctId, properties, options) {\n        const payload = {\n            ...this.buildPayload({\n                distinct_id: distinctId,\n                event: '$identify',\n                properties\n            })\n        };\n        await this.sendImmediate('identify', payload, options);\n    }\n    captureStateless(distinctId, event, properties, options) {\n        this.wrap(()=>{\n            const payload = this.buildPayload({\n                distinct_id: distinctId,\n                event,\n                properties\n            });\n            this.enqueue('capture', payload, options);\n        });\n    }\n    async captureStatelessImmediate(distinctId, event, properties, options) {\n        const payload = this.buildPayload({\n            distinct_id: distinctId,\n            event,\n            properties\n        });\n        await this.sendImmediate('capture', payload, options);\n    }\n    aliasStateless(alias, distinctId, properties, options) {\n        this.wrap(()=>{\n            const payload = this.buildPayload({\n                event: '$create_alias',\n                distinct_id: distinctId,\n                properties: {\n                    ...properties || {},\n                    distinct_id: distinctId,\n                    alias\n                }\n            });\n            this.enqueue('alias', payload, options);\n        });\n    }\n    async aliasStatelessImmediate(alias, distinctId, properties, options) {\n        const payload = this.buildPayload({\n            event: '$create_alias',\n            distinct_id: distinctId,\n            properties: {\n                ...properties || {},\n                distinct_id: distinctId,\n                alias\n            }\n        });\n        await this.sendImmediate('alias', payload, options);\n    }\n    groupIdentifyStateless(groupType, groupKey, groupProperties, options, distinctId, eventProperties) {\n        this.wrap(()=>{\n            const payload = this.buildPayload({\n                distinct_id: distinctId || `$${groupType}_${groupKey}`,\n                event: '$groupidentify',\n                properties: {\n                    $group_type: groupType,\n                    $group_key: groupKey,\n                    $group_set: groupProperties || {},\n                    ...eventProperties || {}\n                }\n            });\n            this.enqueue('capture', payload, options);\n        });\n    }\n    async getRemoteConfig() {\n        await this._initPromise;\n        let host = this.host;\n        if ('https://us.i.posthog.com' === host) host = 'https://us-assets.i.posthog.com';\n        else if ('https://eu.i.posthog.com' === host) host = 'https://eu-assets.i.posthog.com';\n        const url = `${host}/array/${this.apiKey}/config`;\n        const fetchOptions = {\n            method: 'GET',\n            headers: {\n                ...this.getCustomHeaders(),\n                'Content-Type': 'application/json'\n            }\n        };\n        return this.fetchWithRetry(url, fetchOptions, {\n            retryCount: 0\n        }, this.remoteConfigRequestTimeoutMs).then((response)=>response.json()).catch((error)=>{\n            this._logger.error('Remote config could not be loaded', error);\n            this._events.emit('error', error);\n        });\n    }\n    async getFlags(distinctId, groups = {}, personProperties = {}, groupProperties = {}, extraPayload = {}, fetchConfig = true) {\n        await this._initPromise;\n        const configParam = fetchConfig ? '&config=true' : '';\n        const url = `${this.host}/flags/?v=2${configParam}`;\n        const requestData = {\n            token: this.apiKey,\n            distinct_id: distinctId,\n            groups,\n            person_properties: personProperties,\n            group_properties: groupProperties,\n            ...extraPayload\n        };\n        if (this.evaluationEnvironments && this.evaluationEnvironments.length > 0) requestData.evaluation_environments = this.evaluationEnvironments;\n        const fetchOptions = {\n            method: 'POST',\n            headers: {\n                ...this.getCustomHeaders(),\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(requestData)\n        };\n        this._logger.info('Flags URL', url);\n        return this.fetchWithRetry(url, fetchOptions, {\n            retryCount: 0\n        }, this.featureFlagsRequestTimeoutMs).then((response)=>response.json()).then((response)=>normalizeFlagsResponse(response)).catch((error)=>{\n            this._events.emit('error', error);\n        });\n    }\n    async getFeatureFlagStateless(key, distinctId, groups = {}, personProperties = {}, groupProperties = {}, disableGeoip) {\n        await this._initPromise;\n        const flagDetailResponse = await this.getFeatureFlagDetailStateless(key, distinctId, groups, personProperties, groupProperties, disableGeoip);\n        if (void 0 === flagDetailResponse) return {\n            response: void 0,\n            requestId: void 0\n        };\n        let response = getFeatureFlagValue(flagDetailResponse.response);\n        if (void 0 === response) response = false;\n        return {\n            response,\n            requestId: flagDetailResponse.requestId\n        };\n    }\n    async getFeatureFlagDetailStateless(key, distinctId, groups = {}, personProperties = {}, groupProperties = {}, disableGeoip) {\n        await this._initPromise;\n        const flagsResponse = await this.getFeatureFlagDetailsStateless(distinctId, groups, personProperties, groupProperties, disableGeoip, [\n            key\n        ]);\n        if (void 0 === flagsResponse) return;\n        const featureFlags = flagsResponse.flags;\n        const flagDetail = featureFlags[key];\n        return {\n            response: flagDetail,\n            requestId: flagsResponse.requestId\n        };\n    }\n    async getFeatureFlagPayloadStateless(key, distinctId, groups = {}, personProperties = {}, groupProperties = {}, disableGeoip) {\n        await this._initPromise;\n        const payloads = await this.getFeatureFlagPayloadsStateless(distinctId, groups, personProperties, groupProperties, disableGeoip, [\n            key\n        ]);\n        if (!payloads) return;\n        const response = payloads[key];\n        if (void 0 === response) return null;\n        return response;\n    }\n    async getFeatureFlagPayloadsStateless(distinctId, groups = {}, personProperties = {}, groupProperties = {}, disableGeoip, flagKeysToEvaluate) {\n        await this._initPromise;\n        const payloads = (await this.getFeatureFlagsAndPayloadsStateless(distinctId, groups, personProperties, groupProperties, disableGeoip, flagKeysToEvaluate)).payloads;\n        return payloads;\n    }\n    async getFeatureFlagsStateless(distinctId, groups = {}, personProperties = {}, groupProperties = {}, disableGeoip, flagKeysToEvaluate) {\n        await this._initPromise;\n        return await this.getFeatureFlagsAndPayloadsStateless(distinctId, groups, personProperties, groupProperties, disableGeoip, flagKeysToEvaluate);\n    }\n    async getFeatureFlagsAndPayloadsStateless(distinctId, groups = {}, personProperties = {}, groupProperties = {}, disableGeoip, flagKeysToEvaluate) {\n        await this._initPromise;\n        const featureFlagDetails = await this.getFeatureFlagDetailsStateless(distinctId, groups, personProperties, groupProperties, disableGeoip, flagKeysToEvaluate);\n        if (!featureFlagDetails) return {\n            flags: void 0,\n            payloads: void 0,\n            requestId: void 0\n        };\n        return {\n            flags: featureFlagDetails.featureFlags,\n            payloads: featureFlagDetails.featureFlagPayloads,\n            requestId: featureFlagDetails.requestId\n        };\n    }\n    async getFeatureFlagDetailsStateless(distinctId, groups = {}, personProperties = {}, groupProperties = {}, disableGeoip, flagKeysToEvaluate) {\n        await this._initPromise;\n        const extraPayload = {};\n        if (disableGeoip ?? this.disableGeoip) extraPayload['geoip_disable'] = true;\n        if (flagKeysToEvaluate) extraPayload['flag_keys_to_evaluate'] = flagKeysToEvaluate;\n        const flagsResponse = await this.getFlags(distinctId, groups, personProperties, groupProperties, extraPayload);\n        if (void 0 === flagsResponse) return;\n        if (flagsResponse.errorsWhileComputingFlags) console.error('[FEATURE FLAGS] Error while computing feature flags, some flags may be missing or incorrect. Learn more at https://posthog.com/docs/feature-flags/best-practices');\n        if (flagsResponse.quotaLimited?.includes(\"feature_flags\")) {\n            console.warn('[FEATURE FLAGS] Feature flags quota limit exceeded - feature flags unavailable. Learn more about billing limits at https://posthog.com/docs/billing/limits-alerts');\n            return {\n                flags: {},\n                featureFlags: {},\n                featureFlagPayloads: {},\n                requestId: flagsResponse?.requestId\n            };\n        }\n        return flagsResponse;\n    }\n    async getSurveysStateless() {\n        await this._initPromise;\n        if (true === this.disableSurveys) {\n            this._logger.info('Loading surveys is disabled.');\n            return [];\n        }\n        const url = `${this.host}/api/surveys/?token=${this.apiKey}`;\n        const fetchOptions = {\n            method: 'GET',\n            headers: {\n                ...this.getCustomHeaders(),\n                'Content-Type': 'application/json'\n            }\n        };\n        const response = await this.fetchWithRetry(url, fetchOptions).then((response)=>{\n            if (200 !== response.status || !response.json) {\n                const msg = `Surveys API could not be loaded: ${response.status}`;\n                const error = new Error(msg);\n                this._logger.error(error);\n                this._events.emit('error', new Error(msg));\n                return;\n            }\n            return response.json();\n        }).catch((error)=>{\n            this._logger.error('Surveys API could not be loaded', error);\n            this._events.emit('error', error);\n        });\n        const newSurveys = response?.surveys;\n        if (newSurveys) this._logger.info('Surveys fetched from API: ', JSON.stringify(newSurveys));\n        return newSurveys ?? [];\n    }\n    get props() {\n        if (!this._props) this._props = this.getPersistedProperty(PostHogPersistedProperty.Props);\n        return this._props || {};\n    }\n    set props(val) {\n        this._props = val;\n    }\n    async register(properties) {\n        this.wrap(()=>{\n            this.props = {\n                ...this.props,\n                ...properties\n            };\n            this.setPersistedProperty(PostHogPersistedProperty.Props, this.props);\n        });\n    }\n    async unregister(property) {\n        this.wrap(()=>{\n            delete this.props[property];\n            this.setPersistedProperty(PostHogPersistedProperty.Props, this.props);\n        });\n    }\n    enqueue(type, _message, options) {\n        this.wrap(()=>{\n            if (this.optedOut) return void this._events.emit(type, \"Library is disabled. Not sending event. To re-enable, call posthog.optIn()\");\n            const message = this.prepareMessage(type, _message, options);\n            const queue = this.getPersistedProperty(PostHogPersistedProperty.Queue) || [];\n            if (queue.length >= this.maxQueueSize) {\n                queue.shift();\n                this._logger.info('Queue is full, the oldest event is dropped.');\n            }\n            queue.push({\n                message\n            });\n            this.setPersistedProperty(PostHogPersistedProperty.Queue, queue);\n            this._events.emit(type, message);\n            if (queue.length >= this.flushAt) this.flushBackground();\n            if (this.flushInterval && !this._flushTimer) this._flushTimer = safeSetTimeout(()=>this.flushBackground(), this.flushInterval);\n        });\n    }\n    async sendImmediate(type, _message, options) {\n        if (this.disabled) return void this._logger.warn('The client is disabled');\n        if (!this._isInitialized) await this._initPromise;\n        if (this.optedOut) return void this._events.emit(type, \"Library is disabled. Not sending event. To re-enable, call posthog.optIn()\");\n        const data = {\n            api_key: this.apiKey,\n            batch: [\n                this.prepareMessage(type, _message, options)\n            ],\n            sent_at: currentISOTime()\n        };\n        if (this.historicalMigration) data.historical_migration = true;\n        const payload = JSON.stringify(data);\n        const url = `${this.host}/batch/`;\n        const gzippedPayload = this.disableCompression ? null : await gzipCompress(payload, this.isDebug);\n        const fetchOptions = {\n            method: 'POST',\n            headers: {\n                ...this.getCustomHeaders(),\n                'Content-Type': 'application/json',\n                ...null !== gzippedPayload && {\n                    'Content-Encoding': 'gzip'\n                }\n            },\n            body: gzippedPayload || payload\n        };\n        try {\n            await this.fetchWithRetry(url, fetchOptions);\n        } catch (err) {\n            this._events.emit('error', err);\n        }\n    }\n    prepareMessage(type, _message, options) {\n        const message = {\n            ..._message,\n            type: type,\n            library: this.getLibraryId(),\n            library_version: this.getLibraryVersion(),\n            timestamp: options?.timestamp ? options?.timestamp : currentISOTime(),\n            uuid: options?.uuid ? options.uuid : uuidv7()\n        };\n        const addGeoipDisableProperty = options?.disableGeoip ?? this.disableGeoip;\n        if (addGeoipDisableProperty) {\n            if (!message.properties) message.properties = {};\n            message['properties']['$geoip_disable'] = true;\n        }\n        if (message.distinctId) {\n            message.distinct_id = message.distinctId;\n            delete message.distinctId;\n        }\n        return message;\n    }\n    clearFlushTimer() {\n        if (this._flushTimer) {\n            clearTimeout(this._flushTimer);\n            this._flushTimer = void 0;\n        }\n    }\n    flushBackground() {\n        this.flush().catch(async (err)=>{\n            await logFlushError(err);\n        });\n    }\n    async flush() {\n        const nextFlushPromise = allSettled([\n            this.flushPromise\n        ]).then(()=>this._flush());\n        this.flushPromise = nextFlushPromise;\n        this.addPendingPromise(nextFlushPromise);\n        allSettled([\n            nextFlushPromise\n        ]).then(()=>{\n            if (this.flushPromise === nextFlushPromise) this.flushPromise = null;\n        });\n        return nextFlushPromise;\n    }\n    getCustomHeaders() {\n        const customUserAgent = this.getCustomUserAgent();\n        const headers = {};\n        if (customUserAgent && '' !== customUserAgent) headers['User-Agent'] = customUserAgent;\n        return headers;\n    }\n    async _flush() {\n        this.clearFlushTimer();\n        await this._initPromise;\n        let queue = this.getPersistedProperty(PostHogPersistedProperty.Queue) || [];\n        if (!queue.length) return;\n        const sentMessages = [];\n        const originalQueueLength = queue.length;\n        while(queue.length > 0 && sentMessages.length < originalQueueLength){\n            const batchItems = queue.slice(0, this.maxBatchSize);\n            const batchMessages = batchItems.map((item)=>item.message);\n            const persistQueueChange = ()=>{\n                const refreshedQueue = this.getPersistedProperty(PostHogPersistedProperty.Queue) || [];\n                const newQueue = refreshedQueue.slice(batchItems.length);\n                this.setPersistedProperty(PostHogPersistedProperty.Queue, newQueue);\n                queue = newQueue;\n            };\n            const data = {\n                api_key: this.apiKey,\n                batch: batchMessages,\n                sent_at: currentISOTime()\n            };\n            if (this.historicalMigration) data.historical_migration = true;\n            const payload = JSON.stringify(data);\n            const url = `${this.host}/batch/`;\n            const gzippedPayload = this.disableCompression ? null : await gzipCompress(payload, this.isDebug);\n            const fetchOptions = {\n                method: 'POST',\n                headers: {\n                    ...this.getCustomHeaders(),\n                    'Content-Type': 'application/json',\n                    ...null !== gzippedPayload && {\n                        'Content-Encoding': 'gzip'\n                    }\n                },\n                body: gzippedPayload || payload\n            };\n            const retryOptions = {\n                retryCheck: (err)=>{\n                    if (isPostHogFetchContentTooLargeError(err)) return false;\n                    return isPostHogFetchError(err);\n                }\n            };\n            try {\n                await this.fetchWithRetry(url, fetchOptions, retryOptions);\n            } catch (err) {\n                if (isPostHogFetchContentTooLargeError(err) && batchMessages.length > 1) {\n                    this.maxBatchSize = Math.max(1, Math.floor(batchMessages.length / 2));\n                    this._logger.warn(`Received 413 when sending batch of size ${batchMessages.length}, reducing batch size to ${this.maxBatchSize}`);\n                    continue;\n                }\n                if (!(err instanceof PostHogFetchNetworkError)) persistQueueChange();\n                this._events.emit('error', err);\n                throw err;\n            }\n            persistQueueChange();\n            sentMessages.push(...batchMessages);\n        }\n        this._events.emit('flush', sentMessages);\n    }\n    async fetchWithRetry(url, options, retryOptions, requestTimeout) {\n        AbortSignal.timeout ??= function(ms) {\n            const ctrl = new AbortController();\n            setTimeout(()=>ctrl.abort(), ms);\n            return ctrl.signal;\n        };\n        const body = options.body ? options.body : '';\n        let reqByteLength = -1;\n        try {\n            reqByteLength = body instanceof Blob ? body.size : Buffer.byteLength(body, STRING_FORMAT);\n        } catch  {\n            if (body instanceof Blob) reqByteLength = body.size;\n            else {\n                const encoded = new TextEncoder().encode(body);\n                reqByteLength = encoded.length;\n            }\n        }\n        return await retriable(async ()=>{\n            let res = null;\n            try {\n                res = await this.fetch(url, {\n                    signal: AbortSignal.timeout(requestTimeout ?? this.requestTimeout),\n                    ...options\n                });\n            } catch (e) {\n                throw new PostHogFetchNetworkError(e);\n            }\n            const isNoCors = 'no-cors' === options.mode;\n            if (!isNoCors && (res.status < 200 || res.status >= 400)) throw new PostHogFetchHttpError(res, reqByteLength);\n            return res;\n        }, {\n            ...this._retryOptions,\n            ...retryOptions\n        });\n    }\n    async _shutdown(shutdownTimeoutMs = 30000) {\n        await this._initPromise;\n        let hasTimedOut = false;\n        this.clearFlushTimer();\n        const doShutdown = async ()=>{\n            try {\n                await this.promiseQueue.join();\n                while(true){\n                    const queue = this.getPersistedProperty(PostHogPersistedProperty.Queue) || [];\n                    if (0 === queue.length) break;\n                    await this.flush();\n                    if (hasTimedOut) break;\n                }\n            } catch (e) {\n                if (!isPostHogFetchError(e)) throw e;\n                await logFlushError(e);\n            }\n        };\n        return Promise.race([\n            new Promise((_, reject)=>{\n                safeSetTimeout(()=>{\n                    this._logger.error('Timed out while shutting down PostHog');\n                    hasTimedOut = true;\n                    reject('Timeout while shutting down PostHog. Some events may not have been sent.');\n                }, shutdownTimeoutMs);\n            }),\n            doShutdown()\n        ]);\n    }\n    async shutdown(shutdownTimeoutMs = 30000) {\n        if (this.shutdownPromise) this._logger.warn('shutdown() called while already shutting down. shutdown() is meant to be called once before process exit - use flush() for per-request cleanup');\n        else this.shutdownPromise = this._shutdown(shutdownTimeoutMs).finally(()=>{\n            this.shutdownPromise = null;\n        });\n        return this.shutdownPromise;\n    }\n}\nexport { PostHogCoreStateless, posthog_core_stateless_QuotaLimitedFeature as QuotaLimitedFeature, logFlushError, maybeAdd };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1709, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/posthog-core.mjs"],"sourcesContent":["import { createFlagsResponseFromFlagsAndPayloads, getFeatureFlagValue, getFlagValuesFromFlags, getPayloadsFromFlags, normalizeFlagsResponse, updateFlagValue } from \"./featureFlagUtils.mjs\";\nimport { Compression, PostHogPersistedProperty } from \"./types.mjs\";\nimport { PostHogCoreStateless, QuotaLimitedFeature, maybeAdd } from \"./posthog-core-stateless.mjs\";\nimport { uuidv7 } from \"./vendor/uuidv7.mjs\";\nimport { isPlainError } from \"./utils/index.mjs\";\nclass PostHogCore extends PostHogCoreStateless {\n    constructor(apiKey, options){\n        const disableGeoipOption = options?.disableGeoip ?? false;\n        const featureFlagsRequestTimeoutMs = options?.featureFlagsRequestTimeoutMs ?? 10000;\n        super(apiKey, {\n            ...options,\n            disableGeoip: disableGeoipOption,\n            featureFlagsRequestTimeoutMs\n        }), this.flagCallReported = {}, this._sessionMaxLengthSeconds = 86400, this.sessionProps = {};\n        this.sendFeatureFlagEvent = options?.sendFeatureFlagEvent ?? true;\n        this._sessionExpirationTimeSeconds = options?.sessionExpirationTimeSeconds ?? 1800;\n    }\n    setupBootstrap(options) {\n        const bootstrap = options?.bootstrap;\n        if (!bootstrap) return;\n        if (bootstrap.distinctId) if (bootstrap.isIdentifiedId) {\n            const distinctId = this.getPersistedProperty(PostHogPersistedProperty.DistinctId);\n            if (!distinctId) this.setPersistedProperty(PostHogPersistedProperty.DistinctId, bootstrap.distinctId);\n        } else {\n            const anonymousId = this.getPersistedProperty(PostHogPersistedProperty.AnonymousId);\n            if (!anonymousId) this.setPersistedProperty(PostHogPersistedProperty.AnonymousId, bootstrap.distinctId);\n        }\n        const bootstrapFeatureFlags = bootstrap.featureFlags;\n        const bootstrapFeatureFlagPayloads = bootstrap.featureFlagPayloads ?? {};\n        if (bootstrapFeatureFlags && Object.keys(bootstrapFeatureFlags).length) {\n            const normalizedBootstrapFeatureFlagDetails = createFlagsResponseFromFlagsAndPayloads(bootstrapFeatureFlags, bootstrapFeatureFlagPayloads);\n            if (Object.keys(normalizedBootstrapFeatureFlagDetails.flags).length > 0) {\n                this.setBootstrappedFeatureFlagDetails(normalizedBootstrapFeatureFlagDetails);\n                const currentFeatureFlagDetails = this.getKnownFeatureFlagDetails() || {\n                    flags: {},\n                    requestId: void 0\n                };\n                const newFeatureFlagDetails = {\n                    flags: {\n                        ...normalizedBootstrapFeatureFlagDetails.flags,\n                        ...currentFeatureFlagDetails.flags\n                    },\n                    requestId: normalizedBootstrapFeatureFlagDetails.requestId\n                };\n                this.setKnownFeatureFlagDetails(newFeatureFlagDetails);\n            }\n        }\n    }\n    clearProps() {\n        this.props = void 0;\n        this.sessionProps = {};\n        this.flagCallReported = {};\n    }\n    on(event, cb) {\n        return this._events.on(event, cb);\n    }\n    reset(propertiesToKeep) {\n        this.wrap(()=>{\n            const allPropertiesToKeep = [\n                PostHogPersistedProperty.Queue,\n                ...propertiesToKeep || []\n            ];\n            this.clearProps();\n            for (const key of Object.keys(PostHogPersistedProperty))if (!allPropertiesToKeep.includes(PostHogPersistedProperty[key])) this.setPersistedProperty(PostHogPersistedProperty[key], null);\n            this.reloadFeatureFlags();\n        });\n    }\n    getCommonEventProperties() {\n        const featureFlags = this.getFeatureFlags();\n        const featureVariantProperties = {};\n        if (featureFlags) for (const [feature, variant] of Object.entries(featureFlags))featureVariantProperties[`$feature/${feature}`] = variant;\n        return {\n            ...maybeAdd('$active_feature_flags', featureFlags ? Object.keys(featureFlags) : void 0),\n            ...featureVariantProperties,\n            ...super.getCommonEventProperties()\n        };\n    }\n    enrichProperties(properties) {\n        return {\n            ...this.props,\n            ...this.sessionProps,\n            ...properties || {},\n            ...this.getCommonEventProperties(),\n            $session_id: this.getSessionId()\n        };\n    }\n    getSessionId() {\n        if (!this._isInitialized) return '';\n        let sessionId = this.getPersistedProperty(PostHogPersistedProperty.SessionId);\n        const sessionLastTimestamp = this.getPersistedProperty(PostHogPersistedProperty.SessionLastTimestamp) || 0;\n        const sessionStartTimestamp = this.getPersistedProperty(PostHogPersistedProperty.SessionStartTimestamp) || 0;\n        const now = Date.now();\n        const sessionLastDif = now - sessionLastTimestamp;\n        const sessionStartDif = now - sessionStartTimestamp;\n        if (!sessionId || sessionLastDif > 1000 * this._sessionExpirationTimeSeconds || sessionStartDif > 1000 * this._sessionMaxLengthSeconds) {\n            sessionId = uuidv7();\n            this.setPersistedProperty(PostHogPersistedProperty.SessionId, sessionId);\n            this.setPersistedProperty(PostHogPersistedProperty.SessionStartTimestamp, now);\n        }\n        this.setPersistedProperty(PostHogPersistedProperty.SessionLastTimestamp, now);\n        return sessionId;\n    }\n    resetSessionId() {\n        this.wrap(()=>{\n            this.setPersistedProperty(PostHogPersistedProperty.SessionId, null);\n            this.setPersistedProperty(PostHogPersistedProperty.SessionLastTimestamp, null);\n            this.setPersistedProperty(PostHogPersistedProperty.SessionStartTimestamp, null);\n        });\n    }\n    getAnonymousId() {\n        if (!this._isInitialized) return '';\n        let anonId = this.getPersistedProperty(PostHogPersistedProperty.AnonymousId);\n        if (!anonId) {\n            anonId = uuidv7();\n            this.setPersistedProperty(PostHogPersistedProperty.AnonymousId, anonId);\n        }\n        return anonId;\n    }\n    getDistinctId() {\n        if (!this._isInitialized) return '';\n        return this.getPersistedProperty(PostHogPersistedProperty.DistinctId) || this.getAnonymousId();\n    }\n    registerForSession(properties) {\n        this.sessionProps = {\n            ...this.sessionProps,\n            ...properties\n        };\n    }\n    unregisterForSession(property) {\n        delete this.sessionProps[property];\n    }\n    identify(distinctId, properties, options) {\n        this.wrap(()=>{\n            const previousDistinctId = this.getDistinctId();\n            distinctId = distinctId || previousDistinctId;\n            if (properties?.$groups) this.groups(properties.$groups);\n            const userPropsOnce = properties?.$set_once;\n            delete properties?.$set_once;\n            const userProps = properties?.$set || properties;\n            const allProperties = this.enrichProperties({\n                $anon_distinct_id: this.getAnonymousId(),\n                ...maybeAdd('$set', userProps),\n                ...maybeAdd('$set_once', userPropsOnce)\n            });\n            if (distinctId !== previousDistinctId) {\n                this.setPersistedProperty(PostHogPersistedProperty.AnonymousId, previousDistinctId);\n                this.setPersistedProperty(PostHogPersistedProperty.DistinctId, distinctId);\n                this.reloadFeatureFlags();\n            }\n            super.identifyStateless(distinctId, allProperties, options);\n        });\n    }\n    capture(event, properties, options) {\n        this.wrap(()=>{\n            const distinctId = this.getDistinctId();\n            if (properties?.$groups) this.groups(properties.$groups);\n            const allProperties = this.enrichProperties(properties);\n            super.captureStateless(distinctId, event, allProperties, options);\n        });\n    }\n    alias(alias) {\n        this.wrap(()=>{\n            const distinctId = this.getDistinctId();\n            const allProperties = this.enrichProperties({});\n            super.aliasStateless(alias, distinctId, allProperties);\n        });\n    }\n    autocapture(eventType, elements, properties = {}, options) {\n        this.wrap(()=>{\n            const distinctId = this.getDistinctId();\n            const payload = {\n                distinct_id: distinctId,\n                event: '$autocapture',\n                properties: {\n                    ...this.enrichProperties(properties),\n                    $event_type: eventType,\n                    $elements: elements\n                }\n            };\n            this.enqueue('autocapture', payload, options);\n        });\n    }\n    groups(groups) {\n        this.wrap(()=>{\n            const existingGroups = this.props.$groups || {};\n            this.register({\n                $groups: {\n                    ...existingGroups,\n                    ...groups\n                }\n            });\n            if (Object.keys(groups).find((type)=>existingGroups[type] !== groups[type])) this.reloadFeatureFlags();\n        });\n    }\n    group(groupType, groupKey, groupProperties, options) {\n        this.wrap(()=>{\n            this.groups({\n                [groupType]: groupKey\n            });\n            if (groupProperties) this.groupIdentify(groupType, groupKey, groupProperties, options);\n        });\n    }\n    groupIdentify(groupType, groupKey, groupProperties, options) {\n        this.wrap(()=>{\n            const distinctId = this.getDistinctId();\n            const eventProperties = this.enrichProperties({});\n            super.groupIdentifyStateless(groupType, groupKey, groupProperties, options, distinctId, eventProperties);\n        });\n    }\n    setPersonPropertiesForFlags(properties) {\n        this.wrap(()=>{\n            const existingProperties = this.getPersistedProperty(PostHogPersistedProperty.PersonProperties) || {};\n            this.setPersistedProperty(PostHogPersistedProperty.PersonProperties, {\n                ...existingProperties,\n                ...properties\n            });\n        });\n    }\n    resetPersonPropertiesForFlags() {\n        this.wrap(()=>{\n            this.setPersistedProperty(PostHogPersistedProperty.PersonProperties, null);\n        });\n    }\n    setGroupPropertiesForFlags(properties) {\n        this.wrap(()=>{\n            const existingProperties = this.getPersistedProperty(PostHogPersistedProperty.GroupProperties) || {};\n            if (0 !== Object.keys(existingProperties).length) Object.keys(existingProperties).forEach((groupType)=>{\n                existingProperties[groupType] = {\n                    ...existingProperties[groupType],\n                    ...properties[groupType]\n                };\n                delete properties[groupType];\n            });\n            this.setPersistedProperty(PostHogPersistedProperty.GroupProperties, {\n                ...existingProperties,\n                ...properties\n            });\n        });\n    }\n    resetGroupPropertiesForFlags() {\n        this.wrap(()=>{\n            this.setPersistedProperty(PostHogPersistedProperty.GroupProperties, null);\n        });\n    }\n    async remoteConfigAsync() {\n        await this._initPromise;\n        if (this._remoteConfigResponsePromise) return this._remoteConfigResponsePromise;\n        return this._remoteConfigAsync();\n    }\n    async flagsAsync(sendAnonDistinctId = true, fetchConfig = true) {\n        await this._initPromise;\n        if (this._flagsResponsePromise) return this._flagsResponsePromise;\n        return this._flagsAsync(sendAnonDistinctId, fetchConfig);\n    }\n    cacheSessionReplay(source, response) {\n        const sessionReplay = response?.sessionRecording;\n        if (sessionReplay) {\n            this.setPersistedProperty(PostHogPersistedProperty.SessionReplay, sessionReplay);\n            this._logger.info(`Session replay config from ${source}: `, JSON.stringify(sessionReplay));\n        } else if ('boolean' == typeof sessionReplay && false === sessionReplay) {\n            this._logger.info(`Session replay config from ${source} disabled.`);\n            this.setPersistedProperty(PostHogPersistedProperty.SessionReplay, null);\n        }\n    }\n    async _remoteConfigAsync() {\n        this._remoteConfigResponsePromise = this._initPromise.then(()=>{\n            let remoteConfig = this.getPersistedProperty(PostHogPersistedProperty.RemoteConfig);\n            this._logger.info('Cached remote config: ', JSON.stringify(remoteConfig));\n            return super.getRemoteConfig().then((response)=>{\n                if (response) {\n                    const remoteConfigWithoutSurveys = {\n                        ...response\n                    };\n                    delete remoteConfigWithoutSurveys.surveys;\n                    this._logger.info('Fetched remote config: ', JSON.stringify(remoteConfigWithoutSurveys));\n                    if (false === this.disableSurveys) {\n                        const surveys = response.surveys;\n                        let hasSurveys = true;\n                        if (Array.isArray(surveys)) this._logger.info('Surveys fetched from remote config: ', JSON.stringify(surveys));\n                        else {\n                            this._logger.info('There are no surveys.');\n                            hasSurveys = false;\n                        }\n                        if (hasSurveys) this.setPersistedProperty(PostHogPersistedProperty.Surveys, surveys);\n                        else this.setPersistedProperty(PostHogPersistedProperty.Surveys, null);\n                    } else this.setPersistedProperty(PostHogPersistedProperty.Surveys, null);\n                    this.setPersistedProperty(PostHogPersistedProperty.RemoteConfig, remoteConfigWithoutSurveys);\n                    this.cacheSessionReplay('remote config', response);\n                    if (false === response.hasFeatureFlags) {\n                        this.setKnownFeatureFlagDetails({\n                            flags: {}\n                        });\n                        this._logger.warn('Remote config has no feature flags, will not load feature flags.');\n                    } else if (false !== this.preloadFeatureFlags) this.reloadFeatureFlags();\n                    if (!response.supportedCompression?.includes(Compression.GZipJS)) this.disableCompression = true;\n                    remoteConfig = response;\n                }\n                return remoteConfig;\n            });\n        }).finally(()=>{\n            this._remoteConfigResponsePromise = void 0;\n        });\n        return this._remoteConfigResponsePromise;\n    }\n    async _flagsAsync(sendAnonDistinctId = true, fetchConfig = true) {\n        this._flagsResponsePromise = this._initPromise.then(async ()=>{\n            const distinctId = this.getDistinctId();\n            const groups = this.props.$groups || {};\n            const personProperties = this.getPersistedProperty(PostHogPersistedProperty.PersonProperties) || {};\n            const groupProperties = this.getPersistedProperty(PostHogPersistedProperty.GroupProperties) || {};\n            const extraProperties = {\n                $anon_distinct_id: sendAnonDistinctId ? this.getAnonymousId() : void 0\n            };\n            const res = await super.getFlags(distinctId, groups, personProperties, groupProperties, extraProperties, fetchConfig);\n            if (res?.quotaLimited?.includes(QuotaLimitedFeature.FeatureFlags)) {\n                this.setKnownFeatureFlagDetails(null);\n                console.warn('[FEATURE FLAGS] Feature flags quota limit exceeded - unsetting all flags. Learn more about billing limits at https://posthog.com/docs/billing/limits-alerts');\n                return res;\n            }\n            if (res?.featureFlags) {\n                if (this.sendFeatureFlagEvent) this.flagCallReported = {};\n                let newFeatureFlagDetails = res;\n                if (res.errorsWhileComputingFlags) {\n                    const currentFlagDetails = this.getKnownFeatureFlagDetails();\n                    this._logger.info('Cached feature flags: ', JSON.stringify(currentFlagDetails));\n                    newFeatureFlagDetails = {\n                        ...res,\n                        flags: {\n                            ...currentFlagDetails?.flags,\n                            ...res.flags\n                        }\n                    };\n                }\n                this.setKnownFeatureFlagDetails(newFeatureFlagDetails);\n                this.setPersistedProperty(PostHogPersistedProperty.FlagsEndpointWasHit, true);\n                this.cacheSessionReplay('flags', res);\n            }\n            return res;\n        }).finally(()=>{\n            this._flagsResponsePromise = void 0;\n        });\n        return this._flagsResponsePromise;\n    }\n    setKnownFeatureFlagDetails(flagsResponse) {\n        this.wrap(()=>{\n            this.setPersistedProperty(PostHogPersistedProperty.FeatureFlagDetails, flagsResponse);\n            this._events.emit('featureflags', getFlagValuesFromFlags(flagsResponse?.flags ?? {}));\n        });\n    }\n    getKnownFeatureFlagDetails() {\n        const storedDetails = this.getPersistedProperty(PostHogPersistedProperty.FeatureFlagDetails);\n        if (!storedDetails) {\n            const featureFlags = this.getPersistedProperty(PostHogPersistedProperty.FeatureFlags);\n            const featureFlagPayloads = this.getPersistedProperty(PostHogPersistedProperty.FeatureFlagPayloads);\n            if (void 0 === featureFlags && void 0 === featureFlagPayloads) return;\n            return createFlagsResponseFromFlagsAndPayloads(featureFlags ?? {}, featureFlagPayloads ?? {});\n        }\n        return normalizeFlagsResponse(storedDetails);\n    }\n    getKnownFeatureFlags() {\n        const featureFlagDetails = this.getKnownFeatureFlagDetails();\n        if (!featureFlagDetails) return;\n        return getFlagValuesFromFlags(featureFlagDetails.flags);\n    }\n    getKnownFeatureFlagPayloads() {\n        const featureFlagDetails = this.getKnownFeatureFlagDetails();\n        if (!featureFlagDetails) return;\n        return getPayloadsFromFlags(featureFlagDetails.flags);\n    }\n    getBootstrappedFeatureFlagDetails() {\n        const details = this.getPersistedProperty(PostHogPersistedProperty.BootstrapFeatureFlagDetails);\n        if (!details) return;\n        return details;\n    }\n    setBootstrappedFeatureFlagDetails(details) {\n        this.setPersistedProperty(PostHogPersistedProperty.BootstrapFeatureFlagDetails, details);\n    }\n    getBootstrappedFeatureFlags() {\n        const details = this.getBootstrappedFeatureFlagDetails();\n        if (!details) return;\n        return getFlagValuesFromFlags(details.flags);\n    }\n    getBootstrappedFeatureFlagPayloads() {\n        const details = this.getBootstrappedFeatureFlagDetails();\n        if (!details) return;\n        return getPayloadsFromFlags(details.flags);\n    }\n    getFeatureFlag(key) {\n        const details = this.getFeatureFlagDetails();\n        if (!details) return;\n        const featureFlag = details.flags[key];\n        let response = getFeatureFlagValue(featureFlag);\n        if (void 0 === response) response = false;\n        if (this.sendFeatureFlagEvent && !this.flagCallReported[key]) {\n            const bootstrappedResponse = this.getBootstrappedFeatureFlags()?.[key];\n            const bootstrappedPayload = this.getBootstrappedFeatureFlagPayloads()?.[key];\n            this.flagCallReported[key] = true;\n            this.capture('$feature_flag_called', {\n                $feature_flag: key,\n                $feature_flag_response: response,\n                ...maybeAdd('$feature_flag_id', featureFlag?.metadata?.id),\n                ...maybeAdd('$feature_flag_version', featureFlag?.metadata?.version),\n                ...maybeAdd('$feature_flag_reason', featureFlag?.reason?.description ?? featureFlag?.reason?.code),\n                ...maybeAdd('$feature_flag_bootstrapped_response', bootstrappedResponse),\n                ...maybeAdd('$feature_flag_bootstrapped_payload', bootstrappedPayload),\n                $used_bootstrap_value: !this.getPersistedProperty(PostHogPersistedProperty.FlagsEndpointWasHit),\n                ...maybeAdd('$feature_flag_request_id', details.requestId)\n            });\n        }\n        return response;\n    }\n    getFeatureFlagPayload(key) {\n        const payloads = this.getFeatureFlagPayloads();\n        if (!payloads) return;\n        const response = payloads[key];\n        if (void 0 === response) return null;\n        return response;\n    }\n    getFeatureFlagPayloads() {\n        return this.getFeatureFlagDetails()?.featureFlagPayloads;\n    }\n    getFeatureFlags() {\n        return this.getFeatureFlagDetails()?.featureFlags;\n    }\n    getFeatureFlagDetails() {\n        let details = this.getKnownFeatureFlagDetails();\n        const overriddenFlags = this.getPersistedProperty(PostHogPersistedProperty.OverrideFeatureFlags);\n        if (!overriddenFlags) return details;\n        details = details ?? {\n            featureFlags: {},\n            featureFlagPayloads: {},\n            flags: {}\n        };\n        const flags = details.flags ?? {};\n        for(const key in overriddenFlags)if (overriddenFlags[key]) flags[key] = updateFlagValue(flags[key], overriddenFlags[key]);\n        else delete flags[key];\n        const result = {\n            ...details,\n            flags\n        };\n        return normalizeFlagsResponse(result);\n    }\n    getFeatureFlagsAndPayloads() {\n        const flags = this.getFeatureFlags();\n        const payloads = this.getFeatureFlagPayloads();\n        return {\n            flags,\n            payloads\n        };\n    }\n    isFeatureEnabled(key) {\n        const response = this.getFeatureFlag(key);\n        if (void 0 === response) return;\n        return !!response;\n    }\n    reloadFeatureFlags(options) {\n        this.flagsAsync(true).then((res)=>{\n            options?.cb?.(void 0, res?.featureFlags);\n        }).catch((e)=>{\n            options?.cb?.(e, void 0);\n            if (!options?.cb) this._logger.info('Error reloading feature flags', e);\n        });\n    }\n    async reloadRemoteConfigAsync() {\n        return await this.remoteConfigAsync();\n    }\n    async reloadFeatureFlagsAsync(sendAnonDistinctId) {\n        return (await this.flagsAsync(sendAnonDistinctId ?? true))?.featureFlags;\n    }\n    onFeatureFlags(cb) {\n        return this.on('featureflags', async ()=>{\n            const flags = this.getFeatureFlags();\n            if (flags) cb(flags);\n        });\n    }\n    onFeatureFlag(key, cb) {\n        return this.on('featureflags', async ()=>{\n            const flagResponse = this.getFeatureFlag(key);\n            if (void 0 !== flagResponse) cb(flagResponse);\n        });\n    }\n    async overrideFeatureFlag(flags) {\n        this.wrap(()=>{\n            if (null === flags) return this.setPersistedProperty(PostHogPersistedProperty.OverrideFeatureFlags, null);\n            return this.setPersistedProperty(PostHogPersistedProperty.OverrideFeatureFlags, flags);\n        });\n    }\n    captureException(error, additionalProperties) {\n        const properties = {\n            $exception_level: 'error',\n            $exception_list: [\n                {\n                    type: isPlainError(error) ? error.name : 'Error',\n                    value: isPlainError(error) ? error.message : error,\n                    mechanism: {\n                        handled: true,\n                        synthetic: false\n                    }\n                }\n            ],\n            ...additionalProperties\n        };\n        this.capture('$exception', properties);\n    }\n    captureTraceFeedback(traceId, userFeedback) {\n        this.capture('$ai_feedback', {\n            $ai_feedback_text: userFeedback,\n            $ai_trace_id: String(traceId)\n        });\n    }\n    captureTraceMetric(traceId, metricName, metricValue) {\n        this.capture('$ai_metric', {\n            $ai_metric_name: metricName,\n            $ai_metric_value: String(metricValue),\n            $ai_trace_id: String(traceId)\n        });\n    }\n}\nexport { PostHogCore };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2242, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/chunk-ids.mjs"],"sourcesContent":["let parsedStackResults;\nlet lastKeysCount;\nlet cachedFilenameChunkIds;\nfunction getFilenameToChunkIdMap(stackParser) {\n    const chunkIdMap = globalThis._posthogChunkIds;\n    if (!chunkIdMap) return;\n    const chunkIdKeys = Object.keys(chunkIdMap);\n    if (cachedFilenameChunkIds && chunkIdKeys.length === lastKeysCount) return cachedFilenameChunkIds;\n    lastKeysCount = chunkIdKeys.length;\n    cachedFilenameChunkIds = chunkIdKeys.reduce((acc, stackKey)=>{\n        if (!parsedStackResults) parsedStackResults = {};\n        const result = parsedStackResults[stackKey];\n        if (result) acc[result[0]] = result[1];\n        else {\n            const parsedStack = stackParser(stackKey);\n            for(let i = parsedStack.length - 1; i >= 0; i--){\n                const stackFrame = parsedStack[i];\n                const filename = stackFrame?.filename;\n                const chunkId = chunkIdMap[stackKey];\n                if (filename && chunkId) {\n                    acc[filename] = chunkId;\n                    parsedStackResults[stackKey] = [\n                        filename,\n                        chunkId\n                    ];\n                    break;\n                }\n            }\n        }\n        return acc;\n    }, {});\n    return cachedFilenameChunkIds;\n}\nexport { getFilenameToChunkIdMap };\n"],"names":[],"mappings":";;;;AAAA,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,SAAS,wBAAwB,WAAW;IACxC,MAAM,aAAa,WAAW,gBAAgB;IAC9C,IAAI,CAAC,YAAY;IACjB,MAAM,cAAc,OAAO,IAAI,CAAC;IAChC,IAAI,0BAA0B,YAAY,MAAM,KAAK,eAAe,OAAO;IAC3E,gBAAgB,YAAY,MAAM;IAClC,yBAAyB,YAAY,MAAM,CAAC,CAAC,KAAK;QAC9C,IAAI,CAAC,oBAAoB,qBAAqB,CAAC;QAC/C,MAAM,SAAS,kBAAkB,CAAC,SAAS;QAC3C,IAAI,QAAQ,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,EAAE;aACjC;YACD,MAAM,cAAc,YAAY;YAChC,IAAI,IAAI,IAAI,YAAY,MAAM,GAAG,GAAG,KAAK,GAAG,IAAI;gBAC5C,MAAM,aAAa,WAAW,CAAC,EAAE;gBACjC,MAAM,WAAW,YAAY;gBAC7B,MAAM,UAAU,UAAU,CAAC,SAAS;gBACpC,IAAI,YAAY,SAAS;oBACrB,GAAG,CAAC,SAAS,GAAG;oBAChB,kBAAkB,CAAC,SAAS,GAAG;wBAC3B;wBACA;qBACH;oBACD;gBACJ;YACJ;QACJ;QACA,OAAO;IACX,GAAG,CAAC;IACJ,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2284, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/parsers/base.mjs"],"sourcesContent":["import { isUndefined } from \"../../utils/index.mjs\";\nconst UNKNOWN_FUNCTION = '?';\nfunction createFrame(filename, func, lineno, colno) {\n    const frame = {\n        platform: \"web:javascript\",\n        filename,\n        function: '<anonymous>' === func ? UNKNOWN_FUNCTION : func,\n        in_app: true\n    };\n    if (!isUndefined(lineno)) frame.lineno = lineno;\n    if (!isUndefined(colno)) frame.colno = colno;\n    return frame;\n}\nexport { UNKNOWN_FUNCTION, createFrame };\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AACA,MAAM,mBAAmB;AACzB,SAAS,YAAY,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK;IAC9C,MAAM,QAAQ;QACV,UAAU;QACV;QACA,UAAU,kBAAkB,OAAO,mBAAmB;QACtD,QAAQ;IACZ;IACA,IAAI,CAAC,IAAA,mPAAW,EAAC,SAAS,MAAM,MAAM,GAAG;IACzC,IAAI,CAAC,IAAA,mPAAW,EAAC,QAAQ,MAAM,KAAK,GAAG;IACvC,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2310, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/parsers/safari.mjs"],"sourcesContent":["import { UNKNOWN_FUNCTION } from \"./base.mjs\";\nconst extractSafariExtensionDetails = (func, filename)=>{\n    const isSafariExtension = -1 !== func.indexOf('safari-extension');\n    const isSafariWebExtension = -1 !== func.indexOf('safari-web-extension');\n    return isSafariExtension || isSafariWebExtension ? [\n        -1 !== func.indexOf('@') ? func.split('@')[0] : UNKNOWN_FUNCTION,\n        isSafariExtension ? `safari-extension:${filename}` : `safari-web-extension:${filename}`\n    ] : [\n        func,\n        filename\n    ];\n};\nexport { extractSafariExtensionDetails };\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,gCAAgC,CAAC,MAAM;IACzC,MAAM,oBAAoB,CAAC,MAAM,KAAK,OAAO,CAAC;IAC9C,MAAM,uBAAuB,CAAC,MAAM,KAAK,OAAO,CAAC;IACjD,OAAO,qBAAqB,uBAAuB;QAC/C,CAAC,MAAM,KAAK,OAAO,CAAC,OAAO,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,sQAAgB;QAChE,oBAAoB,CAAC,iBAAiB,EAAE,UAAU,GAAG,CAAC,qBAAqB,EAAE,UAAU;KAC1F,GAAG;QACA;QACA;KACH;AACL","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2332, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/parsers/chrome.mjs"],"sourcesContent":["import { UNKNOWN_FUNCTION, createFrame } from \"./base.mjs\";\nimport { extractSafariExtensionDetails } from \"./safari.mjs\";\nconst chromeRegexNoFnName = /^\\s*at (\\S+?)(?::(\\d+))(?::(\\d+))\\s*$/i;\nconst chromeRegex = /^\\s*at (?:(.+?\\)(?: \\[.+\\])?|.*?) ?\\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\nconst chromeEvalRegex = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\nconst chromeStackLineParser = (line)=>{\n    const noFnParts = chromeRegexNoFnName.exec(line);\n    if (noFnParts) {\n        const [, filename, line, col] = noFnParts;\n        return createFrame(filename, UNKNOWN_FUNCTION, +line, +col);\n    }\n    const parts = chromeRegex.exec(line);\n    if (parts) {\n        const isEval = parts[2] && 0 === parts[2].indexOf('eval');\n        if (isEval) {\n            const subMatch = chromeEvalRegex.exec(parts[2]);\n            if (subMatch) {\n                parts[2] = subMatch[1];\n                parts[3] = subMatch[2];\n                parts[4] = subMatch[3];\n            }\n        }\n        const [func, filename] = extractSafariExtensionDetails(parts[1] || UNKNOWN_FUNCTION, parts[2]);\n        return createFrame(filename, func, parts[3] ? +parts[3] : void 0, parts[4] ? +parts[4] : void 0);\n    }\n};\nexport { chromeStackLineParser };\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AACA,MAAM,sBAAsB;AAC5B,MAAM,cAAc;AACpB,MAAM,kBAAkB;AACxB,MAAM,wBAAwB,CAAC;IAC3B,MAAM,YAAY,oBAAoB,IAAI,CAAC;IAC3C,IAAI,WAAW;QACX,MAAM,GAAG,UAAU,MAAM,IAAI,GAAG;QAChC,OAAO,IAAA,iQAAW,EAAC,UAAU,sQAAgB,EAAE,CAAC,MAAM,CAAC;IAC3D;IACA,MAAM,QAAQ,YAAY,IAAI,CAAC;IAC/B,IAAI,OAAO;QACP,MAAM,SAAS,KAAK,CAAC,EAAE,IAAI,MAAM,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC;QAClD,IAAI,QAAQ;YACR,MAAM,WAAW,gBAAgB,IAAI,CAAC,KAAK,CAAC,EAAE;YAC9C,IAAI,UAAU;gBACV,KAAK,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE;gBACtB,KAAK,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE;gBACtB,KAAK,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE;YAC1B;QACJ;QACA,MAAM,CAAC,MAAM,SAAS,GAAG,IAAA,qRAA6B,EAAC,KAAK,CAAC,EAAE,IAAI,sQAAgB,EAAE,KAAK,CAAC,EAAE;QAC7F,OAAO,IAAA,iQAAW,EAAC,UAAU,MAAM,KAAK,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,EAAE,GAAG,KAAK,GAAG,KAAK,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,EAAE,GAAG,KAAK;IAClG;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2369, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/parsers/winjs.mjs"],"sourcesContent":["import { UNKNOWN_FUNCTION, createFrame } from \"./base.mjs\";\nconst winjsRegex = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:[-a-z]+):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\nconst winjsStackLineParser = (line)=>{\n    const parts = winjsRegex.exec(line);\n    return parts ? createFrame(parts[2], parts[1] || UNKNOWN_FUNCTION, +parts[3], parts[4] ? +parts[4] : void 0) : void 0;\n};\nexport { winjsStackLineParser };\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,aAAa;AACnB,MAAM,uBAAuB,CAAC;IAC1B,MAAM,QAAQ,WAAW,IAAI,CAAC;IAC9B,OAAO,QAAQ,IAAA,iQAAW,EAAC,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE,IAAI,sQAAgB,EAAE,CAAC,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,EAAE,GAAG,KAAK,KAAK,KAAK;AACxH","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2385, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/parsers/gecko.mjs"],"sourcesContent":["import { UNKNOWN_FUNCTION, createFrame } from \"./base.mjs\";\nimport { extractSafariExtensionDetails } from \"./safari.mjs\";\nconst geckoREgex = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:[-a-z]+)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nconst geckoEvalRegex = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\nconst geckoStackLineParser = (line)=>{\n    const parts = geckoREgex.exec(line);\n    if (parts) {\n        const isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n        if (isEval) {\n            const subMatch = geckoEvalRegex.exec(parts[3]);\n            if (subMatch) {\n                parts[1] = parts[1] || 'eval';\n                parts[3] = subMatch[1];\n                parts[4] = subMatch[2];\n                parts[5] = '';\n            }\n        }\n        let filename = parts[3];\n        let func = parts[1] || UNKNOWN_FUNCTION;\n        [func, filename] = extractSafariExtensionDetails(func, filename);\n        return createFrame(filename, func, parts[4] ? +parts[4] : void 0, parts[5] ? +parts[5] : void 0);\n    }\n};\nexport { geckoStackLineParser };\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AACA,MAAM,aAAa;AACnB,MAAM,iBAAiB;AACvB,MAAM,uBAAuB,CAAC;IAC1B,MAAM,QAAQ,WAAW,IAAI,CAAC;IAC9B,IAAI,OAAO;QACP,MAAM,SAAS,KAAK,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,aAAa,CAAC;QAC1D,IAAI,QAAQ;YACR,MAAM,WAAW,eAAe,IAAI,CAAC,KAAK,CAAC,EAAE;YAC7C,IAAI,UAAU;gBACV,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE,IAAI;gBACvB,KAAK,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE;gBACtB,KAAK,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE;gBACtB,KAAK,CAAC,EAAE,GAAG;YACf;QACJ;QACA,IAAI,WAAW,KAAK,CAAC,EAAE;QACvB,IAAI,OAAO,KAAK,CAAC,EAAE,IAAI,sQAAgB;QACvC,CAAC,MAAM,SAAS,GAAG,IAAA,qRAA6B,EAAC,MAAM;QACvD,OAAO,IAAA,iQAAW,EAAC,UAAU,MAAM,KAAK,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,EAAE,GAAG,KAAK,GAAG,KAAK,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,EAAE,GAAG,KAAK;IAClG;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2419, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/parsers/opera.mjs"],"sourcesContent":["import { UNKNOWN_FUNCTION, createFrame } from \"./base.mjs\";\nconst opera10Regex = / line (\\d+).*script (?:in )?(\\S+)(?:: in function (\\S+))?$/i;\nconst opera10StackLineParser = (line)=>{\n    const parts = opera10Regex.exec(line);\n    return parts ? createFrame(parts[2], parts[3] || UNKNOWN_FUNCTION, +parts[1]) : void 0;\n};\nconst opera11Regex = / line (\\d+), column (\\d+)\\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\\(.*\\))? in (.*):\\s*$/i;\nconst opera11StackLineParser = (line)=>{\n    const parts = opera11Regex.exec(line);\n    return parts ? createFrame(parts[5], parts[3] || parts[4] || UNKNOWN_FUNCTION, +parts[1], +parts[2]) : void 0;\n};\nexport { opera10StackLineParser, opera11StackLineParser };\n"],"names":[],"mappings":";;;;;;AAAA;;AACA,MAAM,eAAe;AACrB,MAAM,yBAAyB,CAAC;IAC5B,MAAM,QAAQ,aAAa,IAAI,CAAC;IAChC,OAAO,QAAQ,IAAA,iQAAW,EAAC,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE,IAAI,sQAAgB,EAAE,CAAC,KAAK,CAAC,EAAE,IAAI,KAAK;AACzF;AACA,MAAM,eAAe;AACrB,MAAM,yBAAyB,CAAC;IAC5B,MAAM,QAAQ,aAAa,IAAI,CAAC;IAChC,OAAO,QAAQ,IAAA,iQAAW,EAAC,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,IAAI,sQAAgB,EAAE,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,EAAE,IAAI,KAAK;AAChH","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2442, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/parsers/node.mjs"],"sourcesContent":["import { UNKNOWN_FUNCTION } from \"./base.mjs\";\nconst FILENAME_MATCH = /^\\s*[-]{4,}$/;\nconst FULL_MATCH = /at (?:async )?(?:(.+?)\\s+\\()?(?:(.+):(\\d+):(\\d+)?|([^)]+))\\)?/;\nconst nodeStackLineParser = (line)=>{\n    const lineMatch = line.match(FULL_MATCH);\n    if (lineMatch) {\n        let object;\n        let method;\n        let functionName;\n        let typeName;\n        let methodName;\n        if (lineMatch[1]) {\n            functionName = lineMatch[1];\n            let methodStart = functionName.lastIndexOf('.');\n            if ('.' === functionName[methodStart - 1]) methodStart--;\n            if (methodStart > 0) {\n                object = functionName.slice(0, methodStart);\n                method = functionName.slice(methodStart + 1);\n                const objectEnd = object.indexOf('.Module');\n                if (objectEnd > 0) {\n                    functionName = functionName.slice(objectEnd + 1);\n                    object = object.slice(0, objectEnd);\n                }\n            }\n            typeName = void 0;\n        }\n        if (method) {\n            typeName = object;\n            methodName = method;\n        }\n        if ('<anonymous>' === method) {\n            methodName = void 0;\n            functionName = void 0;\n        }\n        if (void 0 === functionName) {\n            methodName = methodName || UNKNOWN_FUNCTION;\n            functionName = typeName ? `${typeName}.${methodName}` : methodName;\n        }\n        let filename = lineMatch[2]?.startsWith('file://') ? lineMatch[2].slice(7) : lineMatch[2];\n        const isNative = 'native' === lineMatch[5];\n        if (filename?.match(/\\/[A-Z]:/)) filename = filename.slice(1);\n        if (!filename && lineMatch[5] && !isNative) filename = lineMatch[5];\n        return {\n            filename: filename ? decodeURI(filename) : void 0,\n            module: void 0,\n            function: functionName,\n            lineno: _parseIntOrUndefined(lineMatch[3]),\n            colno: _parseIntOrUndefined(lineMatch[4]),\n            in_app: filenameIsInApp(filename || '', isNative),\n            platform: \"node:javascript\"\n        };\n    }\n    if (line.match(FILENAME_MATCH)) return {\n        filename: line,\n        platform: \"node:javascript\"\n    };\n};\nfunction filenameIsInApp(filename, isNative = false) {\n    const isInternal = isNative || filename && !filename.startsWith('/') && !filename.match(/^[A-Z]:/) && !filename.startsWith('.') && !filename.match(/^[a-zA-Z]([a-zA-Z0-9.\\-+])*:\\/\\//);\n    return !isInternal && void 0 !== filename && !filename.includes('node_modules/');\n}\nfunction _parseIntOrUndefined(input) {\n    return parseInt(input || '', 10) || void 0;\n}\nexport { nodeStackLineParser };\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,iBAAiB;AACvB,MAAM,aAAa;AACnB,MAAM,sBAAsB,CAAC;IACzB,MAAM,YAAY,KAAK,KAAK,CAAC;IAC7B,IAAI,WAAW;QACX,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI,SAAS,CAAC,EAAE,EAAE;YACd,eAAe,SAAS,CAAC,EAAE;YAC3B,IAAI,cAAc,aAAa,WAAW,CAAC;YAC3C,IAAI,QAAQ,YAAY,CAAC,cAAc,EAAE,EAAE;YAC3C,IAAI,cAAc,GAAG;gBACjB,SAAS,aAAa,KAAK,CAAC,GAAG;gBAC/B,SAAS,aAAa,KAAK,CAAC,cAAc;gBAC1C,MAAM,YAAY,OAAO,OAAO,CAAC;gBACjC,IAAI,YAAY,GAAG;oBACf,eAAe,aAAa,KAAK,CAAC,YAAY;oBAC9C,SAAS,OAAO,KAAK,CAAC,GAAG;gBAC7B;YACJ;YACA,WAAW,KAAK;QACpB;QACA,IAAI,QAAQ;YACR,WAAW;YACX,aAAa;QACjB;QACA,IAAI,kBAAkB,QAAQ;YAC1B,aAAa,KAAK;YAClB,eAAe,KAAK;QACxB;QACA,IAAI,KAAK,MAAM,cAAc;YACzB,aAAa,cAAc,sQAAgB;YAC3C,eAAe,WAAW,GAAG,SAAS,CAAC,EAAE,YAAY,GAAG;QAC5D;QACA,IAAI,WAAW,SAAS,CAAC,EAAE,EAAE,WAAW,aAAa,SAAS,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,SAAS,CAAC,EAAE;QACzF,MAAM,WAAW,aAAa,SAAS,CAAC,EAAE;QAC1C,IAAI,UAAU,MAAM,aAAa,WAAW,SAAS,KAAK,CAAC;QAC3D,IAAI,CAAC,YAAY,SAAS,CAAC,EAAE,IAAI,CAAC,UAAU,WAAW,SAAS,CAAC,EAAE;QACnE,OAAO;YACH,UAAU,WAAW,UAAU,YAAY,KAAK;YAChD,QAAQ,KAAK;YACb,UAAU;YACV,QAAQ,qBAAqB,SAAS,CAAC,EAAE;YACzC,OAAO,qBAAqB,SAAS,CAAC,EAAE;YACxC,QAAQ,gBAAgB,YAAY,IAAI;YACxC,UAAU;QACd;IACJ;IACA,IAAI,KAAK,KAAK,CAAC,iBAAiB,OAAO;QACnC,UAAU;QACV,UAAU;IACd;AACJ;AACA,SAAS,gBAAgB,QAAQ,EAAE,WAAW,KAAK;IAC/C,MAAM,aAAa,YAAY,YAAY,CAAC,SAAS,UAAU,CAAC,QAAQ,CAAC,SAAS,KAAK,CAAC,cAAc,CAAC,SAAS,UAAU,CAAC,QAAQ,CAAC,SAAS,KAAK,CAAC;IACnJ,OAAO,CAAC,cAAc,KAAK,MAAM,YAAY,CAAC,SAAS,QAAQ,CAAC;AACpE;AACA,SAAS,qBAAqB,KAAK;IAC/B,OAAO,SAAS,SAAS,IAAI,OAAO,KAAK;AAC7C","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2516, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/parsers/index.mjs"],"sourcesContent":["import { UNKNOWN_FUNCTION } from \"./base.mjs\";\nimport { chromeStackLineParser } from \"./chrome.mjs\";\nimport { winjsStackLineParser } from \"./winjs.mjs\";\nimport { geckoStackLineParser } from \"./gecko.mjs\";\nimport { opera10StackLineParser, opera11StackLineParser } from \"./opera.mjs\";\nimport { nodeStackLineParser } from \"./node.mjs\";\nconst WEBPACK_ERROR_REGEXP = /\\(error: (.*)\\)/;\nconst STACKTRACE_FRAME_LIMIT = 50;\nfunction reverseAndStripFrames(stack) {\n    if (!stack.length) return [];\n    const localStack = Array.from(stack);\n    localStack.reverse();\n    return localStack.slice(0, STACKTRACE_FRAME_LIMIT).map((frame)=>({\n            ...frame,\n            filename: frame.filename || getLastStackFrame(localStack).filename,\n            function: frame.function || UNKNOWN_FUNCTION\n        }));\n}\nfunction getLastStackFrame(arr) {\n    return arr[arr.length - 1] || {};\n}\nfunction createStackParser(...parsers) {\n    return (stack, skipFirstLines = 0)=>{\n        const frames = [];\n        const lines = stack.split('\\n');\n        for(let i = skipFirstLines; i < lines.length; i++){\n            const line = lines[i];\n            if (line.length > 1024) continue;\n            const cleanedLine = WEBPACK_ERROR_REGEXP.test(line) ? line.replace(WEBPACK_ERROR_REGEXP, '$1') : line;\n            if (!cleanedLine.match(/\\S*Error: /)) {\n                for (const parser of parsers){\n                    const frame = parser(cleanedLine);\n                    if (frame) {\n                        frames.push(frame);\n                        break;\n                    }\n                }\n                if (frames.length >= STACKTRACE_FRAME_LIMIT) break;\n            }\n        }\n        return reverseAndStripFrames(frames);\n    };\n}\nexport { chromeStackLineParser, createStackParser, geckoStackLineParser, nodeStackLineParser, opera10StackLineParser, opera11StackLineParser, reverseAndStripFrames, winjsStackLineParser };\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;AACA,MAAM,uBAAuB;AAC7B,MAAM,yBAAyB;AAC/B,SAAS,sBAAsB,KAAK;IAChC,IAAI,CAAC,MAAM,MAAM,EAAE,OAAO,EAAE;IAC5B,MAAM,aAAa,MAAM,IAAI,CAAC;IAC9B,WAAW,OAAO;IAClB,OAAO,WAAW,KAAK,CAAC,GAAG,wBAAwB,GAAG,CAAC,CAAC,QAAQ,CAAC;YACzD,GAAG,KAAK;YACR,UAAU,MAAM,QAAQ,IAAI,kBAAkB,YAAY,QAAQ;YAClE,UAAU,MAAM,QAAQ,IAAI,sQAAgB;QAChD,CAAC;AACT;AACA,SAAS,kBAAkB,GAAG;IAC1B,OAAO,GAAG,CAAC,IAAI,MAAM,GAAG,EAAE,IAAI,CAAC;AACnC;AACA,SAAS,kBAAkB,GAAG,OAAO;IACjC,OAAO,CAAC,OAAO,iBAAiB,CAAC;QAC7B,MAAM,SAAS,EAAE;QACjB,MAAM,QAAQ,MAAM,KAAK,CAAC;QAC1B,IAAI,IAAI,IAAI,gBAAgB,IAAI,MAAM,MAAM,EAAE,IAAI;YAC9C,MAAM,OAAO,KAAK,CAAC,EAAE;YACrB,IAAI,KAAK,MAAM,GAAG,MAAM;YACxB,MAAM,cAAc,qBAAqB,IAAI,CAAC,QAAQ,KAAK,OAAO,CAAC,sBAAsB,QAAQ;YACjG,IAAI,CAAC,YAAY,KAAK,CAAC,eAAe;gBAClC,KAAK,MAAM,UAAU,QAAQ;oBACzB,MAAM,QAAQ,OAAO;oBACrB,IAAI,OAAO;wBACP,OAAO,IAAI,CAAC;wBACZ;oBACJ;gBACJ;gBACA,IAAI,OAAO,MAAM,IAAI,wBAAwB;YACjD;QACJ;QACA,OAAO,sBAAsB;IACjC;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2576, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/error-properties-builder.mjs"],"sourcesContent":["import { isArray } from \"../utils/index.mjs\";\nimport { getFilenameToChunkIdMap } from \"./chunk-ids.mjs\";\nimport { createStackParser } from \"./parsers/index.mjs\";\nconst MAX_CAUSE_RECURSION = 4;\nclass ErrorPropertiesBuilder {\n    constructor(coercers = [], parsers = [], modifiers = []){\n        this.coercers = coercers;\n        this.modifiers = modifiers;\n        this.stackParser = createStackParser(...parsers);\n    }\n    buildFromUnknown(input, hint = {}) {\n        const providedMechanism = hint && hint.mechanism;\n        const mechanism = providedMechanism || {\n            handled: true,\n            type: 'generic'\n        };\n        const coercingContext = this.buildCoercingContext(mechanism, hint, 0);\n        const exceptionWithCause = coercingContext.apply(input);\n        const parsingContext = this.buildParsingContext();\n        const exceptionWithStack = this.parseStacktrace(exceptionWithCause, parsingContext);\n        const exceptionList = this.convertToExceptionList(exceptionWithStack, mechanism);\n        return {\n            $exception_list: exceptionList,\n            $exception_level: 'error'\n        };\n    }\n    async modifyFrames(exceptionList) {\n        for (const exc of exceptionList)if (exc.stacktrace && exc.stacktrace.frames && isArray(exc.stacktrace.frames)) exc.stacktrace.frames = await this.applyModifiers(exc.stacktrace.frames);\n        return exceptionList;\n    }\n    coerceFallback(ctx) {\n        return {\n            type: 'Error',\n            value: 'Unknown error',\n            stack: ctx.syntheticException?.stack,\n            synthetic: true\n        };\n    }\n    parseStacktrace(err, ctx) {\n        let cause;\n        if (null != err.cause) cause = this.parseStacktrace(err.cause, ctx);\n        let stack;\n        if ('' != err.stack && null != err.stack) stack = this.applyChunkIds(this.stackParser(err.stack, err.synthetic ? 1 : 0), ctx.chunkIdMap);\n        return {\n            ...err,\n            cause,\n            stack\n        };\n    }\n    applyChunkIds(frames, chunkIdMap) {\n        return frames.map((frame)=>{\n            if (frame.filename && chunkIdMap) frame.chunk_id = chunkIdMap[frame.filename];\n            return frame;\n        });\n    }\n    applyCoercers(input, ctx) {\n        for (const adapter of this.coercers)if (adapter.match(input)) return adapter.coerce(input, ctx);\n        return this.coerceFallback(ctx);\n    }\n    async applyModifiers(frames) {\n        let newFrames = frames;\n        for (const modifier of this.modifiers)newFrames = await modifier(newFrames);\n        return newFrames;\n    }\n    convertToExceptionList(exceptionWithStack, mechanism) {\n        const currentException = {\n            type: exceptionWithStack.type,\n            value: exceptionWithStack.value,\n            mechanism: {\n                type: mechanism.type ?? 'generic',\n                handled: mechanism.handled ?? true,\n                synthetic: exceptionWithStack.synthetic ?? false\n            }\n        };\n        if (exceptionWithStack.stack) currentException.stacktrace = {\n            type: 'raw',\n            frames: exceptionWithStack.stack\n        };\n        const exceptionList = [\n            currentException\n        ];\n        if (null != exceptionWithStack.cause) exceptionList.push(...this.convertToExceptionList(exceptionWithStack.cause, {\n            ...mechanism,\n            handled: true\n        }));\n        return exceptionList;\n    }\n    buildParsingContext() {\n        const context = {\n            chunkIdMap: getFilenameToChunkIdMap(this.stackParser)\n        };\n        return context;\n    }\n    buildCoercingContext(mechanism, hint, depth = 0) {\n        const coerce = (input, depth)=>{\n            if (!(depth <= MAX_CAUSE_RECURSION)) return;\n            {\n                const ctx = this.buildCoercingContext(mechanism, hint, depth);\n                return this.applyCoercers(input, ctx);\n            }\n        };\n        const context = {\n            ...hint,\n            syntheticException: 0 == depth ? hint.syntheticException : void 0,\n            mechanism,\n            apply: (input)=>coerce(input, depth),\n            next: (input)=>coerce(input, depth + 1)\n        };\n        return context;\n    }\n}\nexport { ErrorPropertiesBuilder };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2700, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/coercers/dom-exception-coercer.mjs"],"sourcesContent":["import { isBuiltin, isString } from \"../../utils/index.mjs\";\nclass DOMExceptionCoercer {\n    match(err) {\n        return this.isDOMException(err) || this.isDOMError(err);\n    }\n    coerce(err, ctx) {\n        const hasStack = isString(err.stack);\n        return {\n            type: this.getType(err),\n            value: this.getValue(err),\n            stack: hasStack ? err.stack : void 0,\n            cause: err.cause ? ctx.next(err.cause) : void 0,\n            synthetic: false\n        };\n    }\n    getType(candidate) {\n        return this.isDOMError(candidate) ? 'DOMError' : 'DOMException';\n    }\n    getValue(err) {\n        const name = err.name || (this.isDOMError(err) ? 'DOMError' : 'DOMException');\n        const message = err.message ? `${name}: ${err.message}` : name;\n        return message;\n    }\n    isDOMException(err) {\n        return isBuiltin(err, 'DOMException');\n    }\n    isDOMError(err) {\n        return isBuiltin(err, 'DOMError');\n    }\n}\nexport { DOMExceptionCoercer };\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AACA,MAAM;IACF,MAAM,GAAG,EAAE;QACP,OAAO,IAAI,CAAC,cAAc,CAAC,QAAQ,IAAI,CAAC,UAAU,CAAC;IACvD;IACA,OAAO,GAAG,EAAE,GAAG,EAAE;QACb,MAAM,WAAW,IAAA,gPAAQ,EAAC,IAAI,KAAK;QACnC,OAAO;YACH,MAAM,IAAI,CAAC,OAAO,CAAC;YACnB,OAAO,IAAI,CAAC,QAAQ,CAAC;YACrB,OAAO,WAAW,IAAI,KAAK,GAAG,KAAK;YACnC,OAAO,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,KAAK;YAC9C,WAAW;QACf;IACJ;IACA,QAAQ,SAAS,EAAE;QACf,OAAO,IAAI,CAAC,UAAU,CAAC,aAAa,aAAa;IACrD;IACA,SAAS,GAAG,EAAE;QACV,MAAM,OAAO,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,aAAa,cAAc;QAC5E,MAAM,UAAU,IAAI,OAAO,GAAG,GAAG,KAAK,EAAE,EAAE,IAAI,OAAO,EAAE,GAAG;QAC1D,OAAO;IACX;IACA,eAAe,GAAG,EAAE;QAChB,OAAO,IAAA,iPAAS,EAAC,KAAK;IAC1B;IACA,WAAW,GAAG,EAAE;QACZ,OAAO,IAAA,iPAAS,EAAC,KAAK;IAC1B;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2741, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/coercers/error-coercer.mjs"],"sourcesContent":["import { isPlainError } from \"../../utils/index.mjs\";\nclass ErrorCoercer {\n    match(err) {\n        return isPlainError(err);\n    }\n    coerce(err, ctx) {\n        return {\n            type: this.getType(err),\n            value: this.getMessage(err, ctx),\n            stack: this.getStack(err),\n            cause: err.cause ? ctx.next(err.cause) : void 0,\n            synthetic: false\n        };\n    }\n    getType(err) {\n        return err.name || err.constructor.name;\n    }\n    getMessage(err, _ctx) {\n        const message = err.message;\n        if (message.error && 'string' == typeof message.error.message) return String(message.error.message);\n        return String(message);\n    }\n    getStack(err) {\n        return err.stacktrace || err.stack || void 0;\n    }\n}\nexport { ErrorCoercer };\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AACA,MAAM;IACF,MAAM,GAAG,EAAE;QACP,OAAO,IAAA,oPAAY,EAAC;IACxB;IACA,OAAO,GAAG,EAAE,GAAG,EAAE;QACb,OAAO;YACH,MAAM,IAAI,CAAC,OAAO,CAAC;YACnB,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK;YAC5B,OAAO,IAAI,CAAC,QAAQ,CAAC;YACrB,OAAO,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,KAAK;YAC9C,WAAW;QACf;IACJ;IACA,QAAQ,GAAG,EAAE;QACT,OAAO,IAAI,IAAI,IAAI,IAAI,WAAW,CAAC,IAAI;IAC3C;IACA,WAAW,GAAG,EAAE,IAAI,EAAE;QAClB,MAAM,UAAU,IAAI,OAAO;QAC3B,IAAI,QAAQ,KAAK,IAAI,YAAY,OAAO,QAAQ,KAAK,CAAC,OAAO,EAAE,OAAO,OAAO,QAAQ,KAAK,CAAC,OAAO;QAClG,OAAO,OAAO;IAClB;IACA,SAAS,GAAG,EAAE;QACV,OAAO,IAAI,UAAU,IAAI,IAAI,KAAK,IAAI,KAAK;IAC/C;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2778, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/coercers/error-event-coercer.mjs"],"sourcesContent":["import { isErrorEvent } from \"../../utils/index.mjs\";\nclass ErrorEventCoercer {\n    constructor(){}\n    match(err) {\n        return isErrorEvent(err) && void 0 != err.error;\n    }\n    coerce(err, ctx) {\n        const exceptionLike = ctx.apply(err.error);\n        if (!exceptionLike) return {\n            type: 'ErrorEvent',\n            value: err.message,\n            stack: ctx.syntheticException?.stack,\n            synthetic: true\n        };\n        return exceptionLike;\n    }\n}\nexport { ErrorEventCoercer };\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AACA,MAAM;IACF,aAAa,CAAC;IACd,MAAM,GAAG,EAAE;QACP,OAAO,IAAA,oPAAY,EAAC,QAAQ,KAAK,KAAK,IAAI,KAAK;IACnD;IACA,OAAO,GAAG,EAAE,GAAG,EAAE;QACb,MAAM,gBAAgB,IAAI,KAAK,CAAC,IAAI,KAAK;QACzC,IAAI,CAAC,eAAe,OAAO;YACvB,MAAM;YACN,OAAO,IAAI,OAAO;YAClB,OAAO,IAAI,kBAAkB,EAAE;YAC/B,WAAW;QACf;QACA,OAAO;IACX;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2806, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/coercers/string-coercer.mjs"],"sourcesContent":["const ERROR_TYPES_PATTERN = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;\nclass StringCoercer {\n    match(input) {\n        return 'string' == typeof input;\n    }\n    coerce(input, ctx) {\n        const [type, value] = this.getInfos(input);\n        return {\n            type: type ?? 'Error',\n            value: value ?? input,\n            stack: ctx.syntheticException?.stack,\n            synthetic: true\n        };\n    }\n    getInfos(candidate) {\n        let type = 'Error';\n        let value = candidate;\n        const groups = candidate.match(ERROR_TYPES_PATTERN);\n        if (groups) {\n            type = groups[1];\n            value = groups[2];\n        }\n        return [\n            type,\n            value\n        ];\n    }\n}\nexport { StringCoercer };\n"],"names":[],"mappings":";;;;AAAA,MAAM,sBAAsB;AAC5B,MAAM;IACF,MAAM,KAAK,EAAE;QACT,OAAO,YAAY,OAAO;IAC9B;IACA,OAAO,KAAK,EAAE,GAAG,EAAE;QACf,MAAM,CAAC,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC;QACpC,OAAO;YACH,MAAM,QAAQ;YACd,OAAO,SAAS;YAChB,OAAO,IAAI,kBAAkB,EAAE;YAC/B,WAAW;QACf;IACJ;IACA,SAAS,SAAS,EAAE;QAChB,IAAI,OAAO;QACX,IAAI,QAAQ;QACZ,MAAM,SAAS,UAAU,KAAK,CAAC;QAC/B,IAAI,QAAQ;YACR,OAAO,MAAM,CAAC,EAAE;YAChB,QAAQ,MAAM,CAAC,EAAE;QACrB;QACA,OAAO;YACH;YACA;SACH;IACL;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2843, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/types.mjs"],"sourcesContent":["const severityLevels = [\n    'fatal',\n    'error',\n    'warning',\n    'log',\n    'info',\n    'debug'\n];\nexport { severityLevels };\n"],"names":[],"mappings":";;;;AAAA,MAAM,iBAAiB;IACnB;IACA;IACA;IACA;IACA;IACA;CACH","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2860, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/coercers/utils.mjs"],"sourcesContent":["function truncate(str, max = 0) {\n    if ('string' != typeof str || 0 === max) return str;\n    return str.length <= max ? str : `${str.slice(0, max)}...`;\n}\nfunction extractExceptionKeysForMessage(err, maxLength = 40) {\n    const keys = Object.keys(err);\n    keys.sort();\n    if (!keys.length) return '[object has no keys]';\n    for(let i = keys.length; i > 0; i--){\n        const serialized = keys.slice(0, i).join(', ');\n        if (!(serialized.length > maxLength)) {\n            if (i === keys.length) return serialized;\n            return serialized.length <= maxLength ? serialized : `${serialized.slice(0, maxLength)}...`;\n        }\n    }\n    return '';\n}\nexport { extractExceptionKeysForMessage, truncate };\n"],"names":[],"mappings":";;;;;;AAAA,SAAS,SAAS,GAAG,EAAE,MAAM,CAAC;IAC1B,IAAI,YAAY,OAAO,OAAO,MAAM,KAAK,OAAO;IAChD,OAAO,IAAI,MAAM,IAAI,MAAM,MAAM,GAAG,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,CAAC;AAC9D;AACA,SAAS,+BAA+B,GAAG,EAAE,YAAY,EAAE;IACvD,MAAM,OAAO,OAAO,IAAI,CAAC;IACzB,KAAK,IAAI;IACT,IAAI,CAAC,KAAK,MAAM,EAAE,OAAO;IACzB,IAAI,IAAI,IAAI,KAAK,MAAM,EAAE,IAAI,GAAG,IAAI;QAChC,MAAM,aAAa,KAAK,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC;QACzC,IAAI,CAAC,CAAC,WAAW,MAAM,GAAG,SAAS,GAAG;YAClC,IAAI,MAAM,KAAK,MAAM,EAAE,OAAO;YAC9B,OAAO,WAAW,MAAM,IAAI,YAAY,aAAa,GAAG,WAAW,KAAK,CAAC,GAAG,WAAW,GAAG,CAAC;QAC/F;IACJ;IACA,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2888, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/coercers/object-coercer.mjs"],"sourcesContent":["import { isEmptyString, isError, isEvent, isString } from \"../../utils/index.mjs\";\nimport { severityLevels } from \"../types.mjs\";\nimport { extractExceptionKeysForMessage } from \"./utils.mjs\";\nclass ObjectCoercer {\n    match(candidate) {\n        return 'object' == typeof candidate && null !== candidate;\n    }\n    coerce(candidate, ctx) {\n        const errorProperty = this.getErrorPropertyFromObject(candidate);\n        if (errorProperty) return ctx.apply(errorProperty);\n        return {\n            type: this.getType(candidate),\n            value: this.getValue(candidate),\n            stack: ctx.syntheticException?.stack,\n            level: this.isSeverityLevel(candidate.level) ? candidate.level : 'error',\n            synthetic: true\n        };\n    }\n    getType(err) {\n        return isEvent(err) ? err.constructor.name : 'Error';\n    }\n    getValue(err) {\n        if ('name' in err && 'string' == typeof err.name) {\n            let message = `'${err.name}' captured as exception`;\n            if ('message' in err && 'string' == typeof err.message) message += ` with message: '${err.message}'`;\n            return message;\n        }\n        if ('message' in err && 'string' == typeof err.message) return err.message;\n        const className = this.getObjectClassName(err);\n        const keys = extractExceptionKeysForMessage(err);\n        return `${className && 'Object' !== className ? `'${className}'` : 'Object'} captured as exception with keys: ${keys}`;\n    }\n    isSeverityLevel(x) {\n        return isString(x) && !isEmptyString(x) && severityLevels.indexOf(x) >= 0;\n    }\n    getErrorPropertyFromObject(obj) {\n        for(const prop in obj)if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n            const value = obj[prop];\n            if (isError(value)) return value;\n        }\n    }\n    getObjectClassName(obj) {\n        try {\n            const prototype = Object.getPrototypeOf(obj);\n            return prototype ? prototype.constructor.name : void 0;\n        } catch (e) {\n            return;\n        }\n    }\n}\nexport { ObjectCoercer };\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AACA;;;;AACA,MAAM;IACF,MAAM,SAAS,EAAE;QACb,OAAO,YAAY,OAAO,aAAa,SAAS;IACpD;IACA,OAAO,SAAS,EAAE,GAAG,EAAE;QACnB,MAAM,gBAAgB,IAAI,CAAC,0BAA0B,CAAC;QACtD,IAAI,eAAe,OAAO,IAAI,KAAK,CAAC;QACpC,OAAO;YACH,MAAM,IAAI,CAAC,OAAO,CAAC;YACnB,OAAO,IAAI,CAAC,QAAQ,CAAC;YACrB,OAAO,IAAI,kBAAkB,EAAE;YAC/B,OAAO,IAAI,CAAC,eAAe,CAAC,UAAU,KAAK,IAAI,UAAU,KAAK,GAAG;YACjE,WAAW;QACf;IACJ;IACA,QAAQ,GAAG,EAAE;QACT,OAAO,IAAA,+OAAO,EAAC,OAAO,IAAI,WAAW,CAAC,IAAI,GAAG;IACjD;IACA,SAAS,GAAG,EAAE;QACV,IAAI,UAAU,OAAO,YAAY,OAAO,IAAI,IAAI,EAAE;YAC9C,IAAI,UAAU,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,uBAAuB,CAAC;YACnD,IAAI,aAAa,OAAO,YAAY,OAAO,IAAI,OAAO,EAAE,WAAW,CAAC,gBAAgB,EAAE,IAAI,OAAO,CAAC,CAAC,CAAC;YACpG,OAAO;QACX;QACA,IAAI,aAAa,OAAO,YAAY,OAAO,IAAI,OAAO,EAAE,OAAO,IAAI,OAAO;QAC1E,MAAM,YAAY,IAAI,CAAC,kBAAkB,CAAC;QAC1C,MAAM,OAAO,IAAA,sRAA8B,EAAC;QAC5C,OAAO,GAAG,aAAa,aAAa,YAAY,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,GAAG,SAAS,kCAAkC,EAAE,MAAM;IAC1H;IACA,gBAAgB,CAAC,EAAE;QACf,OAAO,IAAA,gPAAQ,EAAC,MAAM,CAAC,IAAA,qPAAa,EAAC,MAAM,0PAAc,CAAC,OAAO,CAAC,MAAM;IAC5E;IACA,2BAA2B,GAAG,EAAE;QAC5B,IAAI,MAAM,QAAQ,IAAI,IAAI,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,OAAO;YACvE,MAAM,QAAQ,GAAG,CAAC,KAAK;YACvB,IAAI,IAAA,uPAAO,EAAC,QAAQ,OAAO;QAC/B;IACJ;IACA,mBAAmB,GAAG,EAAE;QACpB,IAAI;YACA,MAAM,YAAY,OAAO,cAAc,CAAC;YACxC,OAAO,YAAY,UAAU,WAAW,CAAC,IAAI,GAAG,KAAK;QACzD,EAAE,OAAO,GAAG;YACR;QACJ;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2951, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/coercers/event-coercer.mjs"],"sourcesContent":["import { isEvent } from \"../../utils/index.mjs\";\nimport { extractExceptionKeysForMessage } from \"./utils.mjs\";\nclass EventCoercer {\n    match(err) {\n        return isEvent(err);\n    }\n    coerce(evt, ctx) {\n        const constructorName = evt.constructor.name;\n        return {\n            type: constructorName,\n            value: `${constructorName} captured as exception with keys: ${extractExceptionKeysForMessage(evt)}`,\n            stack: ctx.syntheticException?.stack,\n            synthetic: true\n        };\n    }\n}\nexport { EventCoercer };\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AACA,MAAM;IACF,MAAM,GAAG,EAAE;QACP,OAAO,IAAA,+OAAO,EAAC;IACnB;IACA,OAAO,GAAG,EAAE,GAAG,EAAE;QACb,MAAM,kBAAkB,IAAI,WAAW,CAAC,IAAI;QAC5C,OAAO;YACH,MAAM;YACN,OAAO,GAAG,gBAAgB,kCAAkC,EAAE,IAAA,sRAA8B,EAAC,MAAM;YACnG,OAAO,IAAI,kBAAkB,EAAE;YAC/B,WAAW;QACf;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2979, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/coercers/primitive-coercer.mjs"],"sourcesContent":["import { isPrimitive } from \"../../utils/index.mjs\";\nclass PrimitiveCoercer {\n    match(candidate) {\n        return isPrimitive(candidate);\n    }\n    coerce(value, ctx) {\n        return {\n            type: 'Error',\n            value: `Primitive value captured as exception: ${String(value)}`,\n            stack: ctx.syntheticException?.stack,\n            synthetic: true\n        };\n    }\n}\nexport { PrimitiveCoercer };\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AACA,MAAM;IACF,MAAM,SAAS,EAAE;QACb,OAAO,IAAA,mPAAW,EAAC;IACvB;IACA,OAAO,KAAK,EAAE,GAAG,EAAE;QACf,OAAO;YACH,MAAM;YACN,OAAO,CAAC,uCAAuC,EAAE,OAAO,QAAQ;YAChE,OAAO,IAAI,kBAAkB,EAAE;YAC/B,WAAW;QACf;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3004, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/coercers/promise-rejection-event.mjs"],"sourcesContent":["import { isBuiltin, isPrimitive } from \"../../utils/index.mjs\";\nclass PromiseRejectionEventCoercer {\n    match(err) {\n        return isBuiltin(err, 'PromiseRejectionEvent');\n    }\n    coerce(err, ctx) {\n        const reason = this.getUnhandledRejectionReason(err);\n        if (isPrimitive(reason)) return {\n            type: 'UnhandledRejection',\n            value: `Non-Error promise rejection captured with value: ${String(reason)}`,\n            stack: ctx.syntheticException?.stack,\n            synthetic: true\n        };\n        return ctx.apply(reason);\n    }\n    getUnhandledRejectionReason(error) {\n        if (isPrimitive(error)) return error;\n        try {\n            if ('reason' in error) return error.reason;\n            if ('detail' in error && 'reason' in error.detail) return error.detail.reason;\n        } catch  {}\n        return error;\n    }\n}\nexport { PromiseRejectionEventCoercer };\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AACA,MAAM;IACF,MAAM,GAAG,EAAE;QACP,OAAO,IAAA,iPAAS,EAAC,KAAK;IAC1B;IACA,OAAO,GAAG,EAAE,GAAG,EAAE;QACb,MAAM,SAAS,IAAI,CAAC,2BAA2B,CAAC;QAChD,IAAI,IAAA,mPAAW,EAAC,SAAS,OAAO;YAC5B,MAAM;YACN,OAAO,CAAC,iDAAiD,EAAE,OAAO,SAAS;YAC3E,OAAO,IAAI,kBAAkB,EAAE;YAC/B,WAAW;QACf;QACA,OAAO,IAAI,KAAK,CAAC;IACrB;IACA,4BAA4B,KAAK,EAAE;QAC/B,IAAI,IAAA,mPAAW,EAAC,QAAQ,OAAO;QAC/B,IAAI;YACA,IAAI,YAAY,OAAO,OAAO,MAAM,MAAM;YAC1C,IAAI,YAAY,SAAS,YAAY,MAAM,MAAM,EAAE,OAAO,MAAM,MAAM,CAAC,MAAM;QACjF,EAAE,OAAO,CAAC;QACV,OAAO;IACX;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3039, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/coercers/index.mjs"],"sourcesContent":["export * from \"./dom-exception-coercer.mjs\";\nexport * from \"./error-coercer.mjs\";\nexport * from \"./error-event-coercer.mjs\";\nexport * from \"./string-coercer.mjs\";\nexport * from \"./object-coercer.mjs\";\nexport * from \"./event-coercer.mjs\";\nexport * from \"./primitive-coercer.mjs\";\nexport * from \"./promise-rejection-event.mjs\";\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3060, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/utils.mjs"],"sourcesContent":["class ReduceableCache {\n    constructor(_maxSize){\n        this._maxSize = _maxSize;\n        this._cache = new Map();\n    }\n    get(key) {\n        const value = this._cache.get(key);\n        if (void 0 === value) return;\n        this._cache.delete(key);\n        this._cache.set(key, value);\n        return value;\n    }\n    set(key, value) {\n        this._cache.set(key, value);\n    }\n    reduce() {\n        while(this._cache.size >= this._maxSize){\n            const value = this._cache.keys().next().value;\n            if (value) this._cache.delete(value);\n        }\n    }\n}\nexport { ReduceableCache };\n"],"names":[],"mappings":";;;;AAAA,MAAM;IACF,YAAY,QAAQ,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,MAAM,GAAG,IAAI;IACtB;IACA,IAAI,GAAG,EAAE;QACL,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;QAC9B,IAAI,KAAK,MAAM,OAAO;QACtB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QACnB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK;QACrB,OAAO;IACX;IACA,IAAI,GAAG,EAAE,KAAK,EAAE;QACZ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK;IACzB;IACA,SAAS;QACL,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC;YACpC,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,GAAG,KAAK;YAC7C,IAAI,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;QAClC;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3091, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/error-tracking/index.mjs"],"sourcesContent":["export * from \"./error-properties-builder.mjs\";\nexport * from \"./parsers/index.mjs\";\nexport * from \"./coercers/index.mjs\";\nexport * from \"./utils.mjs\";\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3210, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/node_modules/.pnpm/%40posthog%2Bcore%401.5.2/node_modules/%40posthog/core/dist/index.mjs"],"sourcesContent":["import { getFeatureFlagValue } from \"./featureFlagUtils.mjs\";\nimport { uuidv7 } from \"./vendor/uuidv7.mjs\";\nexport * from \"./utils/index.mjs\";\nexport * from \"./posthog-core.mjs\";\nexport * from \"./posthog-core-stateless.mjs\";\nexport * from \"./types.mjs\";\nimport * as __WEBPACK_EXTERNAL_MODULE__error_tracking_index_mjs_b3406d6f__ from \"./error-tracking/index.mjs\";\nexport { __WEBPACK_EXTERNAL_MODULE__error_tracking_index_mjs_b3406d6f__ as ErrorTracking, getFeatureFlagValue, uuidv7 };\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA","ignoreList":[0],"debugId":null}}]
}