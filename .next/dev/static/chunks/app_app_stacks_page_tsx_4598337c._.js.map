{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/lee/Noteornope/app/app/stacks/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef } from \"react\";\nimport { AppShell } from \"@/components/layout/AppShell\";\nimport { PageHeader } from \"@/components/ui/PageHeader\";\nimport { CardGrid } from \"@/components/ui/CardGrid\";\nimport { ItemCard } from \"@/components/ui/ItemCard\";\nimport { SectionSummary } from \"@/components/ui/SectionSummary\";\nimport { TourCallout } from \"@/components/tour/TourCallout\";\nimport { useSectionOnboarding } from \"@/lib/hooks/useSectionOnboarding\";\nimport { getOnboardingSteps } from \"@/lib/onboardingSteps\";\nimport { Button } from \"@/components/ui/button\";\nimport { mockStacks } from \"@/lib/mockData\";\n\nexport default function SmartStacksPage() {\n  const [stacks, setStacks] = useState(mockStacks);\n  const stacksRef = useRef<HTMLDivElement>(null);\n  const tagsRef = useRef<HTMLDivElement>(null);\n\n  const onboarding = useSectionOnboarding({\n    section: \"stacks\",\n    steps: getOnboardingSteps(\"stacks\").map((step, idx) => {\n      if (idx === 0) return { ...step, targetRef: stacksRef };\n      if (idx === 1) return { ...step, targetRef: tagsRef };\n      return step;\n    }),\n  });\n\n  const handleStackClick = (stackName: string) => {\n    console.log(\"TODO: Navigate to stack detail\", stackName);\n    // For now, navigate to a mock stack detail page\n    window.location.href = `/app/stacks/${stackName\n      .toLowerCase()\n      .replace(/\\s+/g, \"-\")}`;\n  };\n\n  const handleStackFavorite = (stackId: string) => {\n    console.log(\"TODO: Toggle favorite for stack\", stackId);\n    setStacks(\n      stacks.map((stack) =>\n        stack.id === stackId ? { ...stack, pinned: !stack.pinned } : stack\n      )\n    );\n  };\n\n  return (\n    <AppShell activeRoute=\"/app/stacks\">\n      <div className=\"max-w-5xl mx-auto space-y-6\">\n        <PageHeader\n          title=\"Stacks\"\n          description=\"Your saved collections.\"\n          actions={\n            !onboarding.active && (\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={onboarding.startOnboarding}\n              >\n                Take tour\n              </Button>\n            )\n          }\n        />\n\n        <SectionSummary\n          section=\"stacks\"\n          summary=\"Collections of related notes organized by tags and categories. Pin important stacks for quick access.\"\n        />\n\n        <div ref={stacksRef} data-onboarding=\"stacks\" className=\"relative\">\n          {onboarding.active &&\n            onboarding.currentStep &&\n            onboarding.step === 0 && (\n              <TourCallout\n                title={onboarding.currentStep.title}\n                description={onboarding.currentStep.description}\n                position={onboarding.currentStep.position}\n                onNext={onboarding.nextStep}\n                onClose={onboarding.endOnboarding}\n                showNext={!onboarding.isLastStep}\n              />\n            )}\n        </div>\n\n        <div ref={tagsRef} data-onboarding=\"tags\" className=\"relative\">\n          {onboarding.active &&\n            onboarding.currentStep &&\n            onboarding.step === 1 && (\n              <TourCallout\n                title={onboarding.currentStep.title}\n                description={onboarding.currentStep.description}\n                position={onboarding.currentStep.position}\n                onNext={onboarding.nextStep}\n                onClose={onboarding.endOnboarding}\n                showNext={!onboarding.isLastStep}\n              />\n            )}\n        </div>\n\n        <CardGrid>\n          {stacks.map((stack) => (\n            <ItemCard\n              key={stack.id}\n              title={stack.name}\n              description={stack.description}\n              tags={stack.tags}\n              pinned={stack.pinned}\n              onClick={() => handleStackClick(stack.name)}\n              onFavorite={() => handleStackFavorite(stack.id)}\n            />\n          ))}\n        </CardGrid>\n\n        {onboarding.active &&\n          onboarding.currentStep &&\n          onboarding.step === 2 && (\n            <div className=\"relative\" data-onboarding=\"pin-button\">\n              <TourCallout\n                title={onboarding.currentStep.title}\n                description={onboarding.currentStep.description}\n                position={onboarding.currentStep.position}\n                onNext={onboarding.nextStep}\n                onClose={onboarding.endOnboarding}\n                showNext={!onboarding.isLastStep}\n              />\n            </div>\n          )}\n\n        {stacks.length === 0 && (\n          <div className=\"text-center py-12 text-muted-foreground\">\n            <p>\n              No stacks yet. Create some notes and run \"Re-cluster now\" to\n              generate stacks.\n            </p>\n          </div>\n        )}\n      </div>\n    </AppShell>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}